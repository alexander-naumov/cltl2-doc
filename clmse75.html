<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Предикаты для строковых символов</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,index=2,next,fn-in,charset=utf-8,sections+,minitoc<,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-04-16 23:44:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
<link rel="stylesheet" type="text/css" href="cltl2ed.css"></head><body 
>
<!--l. 570--><p class="noindent" > <div id="main_container"> <div id="content"> <div id="toplinks"><tt>&#x003C;</tt><a 
href="clmse76.html" >Далее</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse74.html" >Назад</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse74.html#tailclmse74.html" >Назад-и-вниз</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse75.html">В-конец</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch13.html#clmse75.html" >Наверх</a><tt>&#x003E;</tt></div><h3 class="sectionHead"><span class="titlemark">13.2   </span> <a 
href="clm.html#QQ2-93-1338" id="x93-130800013.2">Предикаты для
строковых символов</a></h3>
<!--l. 572--><p class="noindent" >Предикат <tt><a 
href="clmli7.html#x196-3479223r223">characterp</a></tt> используется для определения, является ли Lisp&#x2019;овый
объект строковым символом.
<div class="defun">
<!--l. 575--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx93-1308001"></a><a 
 id="x93-1308002r338"></a><b> standard-char-p</b>  <i>char</i>
</div>
<!--l. 577--><p class="noindent" ><span class="paragraphHead"><a 
href="#x93-130900013.2" id="x93-130900013.2"></a></span>
   Аргумент <i>char</i> должен быть строковым символом. <tt><a 
href="clmli7.html#x196-3479882r882">standard-char-p</a></tt>
истинен, если аргумент является «стандартным строковым символом», то
есть объект принадлежит типу <tt>standard-char</tt>.
<!--l. 582--><p class="indent" >   Следует отметить, что любой символ с ненулевым битом или свойством
шрифта не является стандартным.
</div>
<div class="defun">
<!--l. 586--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx93-1309001"></a><a 
 id="x93-1309002r339"></a><b> graphic-char-p</b>  <i>char</i>
</div>
<!--l. 588--><p class="noindent" ><span class="paragraphHead"><a 
href="#x93-131000013.2" id="x93-131000013.2"></a></span>
   Аргумент <i>char</i> должен быть строковым символом. <tt><a 
href="clmli7.html#x196-3479458r458">graphic-char-p</a></tt>
истинен, если аргумент является «графическим» (выводимым) символом, или
ложен, если аргумент является «неграфическим» (форматирующим или
управляющим) символом. Графические символы имеют стандартное
текстовое представление в качестве одного знака, такого как например <tt>A</tt>
или <tt><a 
href="clmli7.html#x196-3479002r2">*</a></tt> или <tt><a 
href="clmli7.html#x196-3479062r62">=</a></tt>. По соглашению, символы пробела рассматриваются как
графические. Все стандартные символы за исключением <tt>#\Newline</tt>
являются графическими. Не совсем стандартные символы <tt>#\Backspace</tt>,
<tt>#\Tab</tt>, <tt>#\Rubout</tt>, <tt>#\Linefeed</tt>, <tt>#\Return</tt> и <tt>#\Page</tt> графическими не
являются.
</div>
<div class="defun">
                                                                          

                                                                          
<!--l. 604--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx93-1310001"></a><a 
 id="x93-1310002r340"></a><b> alpha-char-p</b>  <i>char</i>
</div>
<!--l. 606--><p class="noindent" ><span class="paragraphHead"><a 
href="#x93-131100013.2" id="x93-131100013.2"></a></span>
   Аргумент <i>char</i> должен быть строковым символом. <tt><a 
href="clmli7.html#x196-3479081r81">alpha-char-p</a></tt>
истинен, если аргумент являются алфавитным символом, иначе предикат
ложен.
<!--l. 611--><p class="indent" >   Если символ является алфавитным, тогда он является графическим.
<!--l. 613--><p class="indent" >   Из стандартных символов (как определено с помощью <tt><a 
href="clmli7.html#x196-3479882r882">standard-char-p</a></tt>),
буквы c <tt>A</tt> по <tt>Z</tt> и с <tt>a</tt> по <tt>z</tt> являются алфавитными.
</div>
<div class="defun">
<!--l. 617--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx93-1311001"></a><a 
 id="x93-1311002r341"></a><b> upper-case-p</b>  <i>char</i><br 
class="newline" /><i>[Функция]</i><a 
 id="dx93-1311003"></a><a 
 id="x93-1311004r342"></a><b> lower-case-p</b>  <i>char</i><br 
class="newline" /><i>[Функция]</i><a 
 id="dx93-1311005"></a><a 
 id="x93-1311006r343"></a><b> both-case-p</b>  <i>char</i>
</div>
<!--l. 621--><p class="noindent" ><span class="paragraphHead"><a 
href="#x93-131200013.2" id="x93-131200013.2"></a></span>
   Аргумент <i>char</i> должен быть строковым символом.
<tt>
<!--l. 624--><p class="indent" >   <a 
href="clmli7.html#x196-3479980r980">upper-case-p</a></tt> истинен, если аргумент является символом в верхнем
регистре, иначе ложен.
<tt>
<!--l. 627--><p class="indent" >   <a 
href="clmli7.html#x196-3479560r560">lower-case-p</a></tt> истинен, если аргумент является символом в нижнем
регистре, иначе ложен.
<tt>
<!--l. 630--><p class="indent" >   <a 
href="clmli7.html#x196-3479153r153">both-case-p</a></tt> истинен, если аргумент является символом в верхнем
регистре, и для этого символа существует аналогичный в нижнем регистре
(это может быть установлено с помощью <tt><a 
href="clmli7.html#x196-3479206r206">char-downcase</a></tt>), или если аргумент
является символом в нижнем регистре, и для этого символа существует
аналогичный в верхнем регистре (это может быть установлено с помощью
<tt><a 
href="clmli7.html#x196-3479215r215">char-upcase</a></tt>).
<!--l. 637--><p class="indent" >   Из стандартных символов (как определено с помощью <tt><a 
href="clmli7.html#x196-3479882r882">standard-char-p</a></tt>),
буквы c <tt>A</tt> по <tt>Z</tt> имеют верхний регистр и буквы с <tt>a</tt> по <tt>z</tt> нижний.
</div>
<div class="defun">
<!--l. 641--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx93-1312001"></a><a 
 id="x93-1312002r344"></a><b> digit-char-p</b>  <i>char</i> &#x0026;optional  (<i>radix</i> 10)
                                                                          

                                                                          
</div>
<!--l. 643--><p class="noindent" ><span class="paragraphHead"><a 
href="#x93-131300013.2" id="x93-131300013.2"></a></span>
   Аргумент <i>char</i> должен быть строковым символом, и <i>radix</i> неотрицательным
целым числом. Если <i>char</i> не является цифрой для указанной в <i>radix</i> системы
счисления, тогда <tt><a 
href="clmli7.html#x196-3479334r334">digit-char-p</a></tt> ложен, иначе предикат возвращает значение
данного символа в этой системе счисления.
<!--l. 650--><p class="indent" >   Цифры принадлежат графическим символам.
<!--l. 652--><p class="indent" >   Из стандартных символов (как определено с помощью <tt><a 
href="clmli7.html#x196-3479882r882">standard-char-p</a></tt>),
символы с <tt>0</tt> по <tt>9</tt>, с <tt>A</tt> по <tt>Z</tt> и с <tt>a</tt> по <tt>z</tt> являются цифровыми. Веса c <tt>0</tt> по <tt>9</tt>
совпадают с числами с 0 по 9, и с <tt>A</tt> по <tt>Z</tt> (а также с <tt>a</tt> по <tt>z</tt>) совпадают с
числами с 10 по 35. <tt><a 
href="clmli7.html#x196-3479334r334">digit-char-p</a></tt> возвращает вес одной их этих цифр тогда и
только тогда, когда их вес строго меньше чем <i>radix</i>. Таким образом,
например, цифры для шестнадцатеричной системы счисления будут такими
<div class="lisp"><div class="tabbing">
0 1 2 3 4 5 6 7 8 9 A B C D E F
   <br>
<!--l. 661--><p class="noindent" ></div>
<!--l. 661--><p class="noindent" ><span class="paragraphHead"><a 
href="#x93-131400013.2" id="x93-131400013.2"></a></span>
<!--l. 661--><p class="noindent" ><span class="paragraphHead"><a 
href="#x93-131500013.2" id="x93-131500013.2"></a></span>
</div>
<!--l. 663--><p class="indent" >   Пример использования <tt><a 
href="clmli7.html#x196-3479334r334">digit-char-p</a></tt>: <div class="lisp"><div class="tabbing">
(defun convert-string-to-integer (str &#x0026;optional (radix 10))
   <br>  &#x0022;Принимает строку и опционально систему счисления, возвращает целое число.&#x0022;<br>
  (do ((j 0 (+ j 1))<br>                                   (n 0 (+ (* n radix)<br>
               (or (digit-char-p (char str j) radix)<br>
                   (error &#x0022;Bad radix-~D digit: ~C&#x0022;<br>
                          radix<br>                          (char str j))))))<br>
      ((= j (length str)) n)))<br>
                                                                          

                                                                          
<!--l. 674--><p class="noindent" ></div>
<!--l. 674--><p class="noindent" ><span class="paragraphHead"><a 
href="#x93-131600013.2" id="x93-131600013.2"></a></span>
<!--l. 674--><p class="noindent" ><span class="paragraphHead"><a 
href="#x93-131700013.2" id="x93-131700013.2"></a></span>
</div>
</div>
<div class="defun">
<!--l. 677--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx93-1317001"></a><a 
 id="x93-1317002r345"></a><b> alphanumericp</b>  <i>char</i>
</div>
<!--l. 679--><p class="noindent" ><span class="paragraphHead"><a 
href="#x93-131800013.2" id="x93-131800013.2"></a></span>
   Аргумент <i>char</i> должен быть строковым символом. Предикат <tt><a 
href="clmli7.html#x196-3479082r82">alphanumericp</a></tt>
истинен, если <i>char</i> является буквой или цифрой. Определение: <div class="lisp"><div class="tabbing">
(alphanumericp x)
   <br>                        <span class="math"> ≡</span> (or (alpha-char-p x) (not (null (digit-char-p x))))<br>
<!--l. 686--><p class="noindent" ></div>
<!--l. 686--><p class="noindent" ><span class="paragraphHead"><a 
href="#x93-131900013.2" id="x93-131900013.2"></a></span>
<!--l. 686--><p class="noindent" ><span class="paragraphHead"><a 
href="#x93-132000013.2" id="x93-132000013.2"></a></span>
</div>
<!--l. 687--><p class="indent" >   Таким образом алфавитно-цифровой символ обязательно является
графическим (в соответствии с предикатом <tt><a 
href="clmli7.html#x196-3479458r458">graphic-char-p</a></tt>).
<!--l. 690--><p class="indent" >   Из стандартных символов (в соответствие с предикатом <tt><a 
href="clmli7.html#x196-3479882r882">standard-char-p</a></tt>),
символы с <tt>0</tt> по <tt>9</tt>, с <tt>A</tt> по <tt>Z</tt>, с <tt>a</tt> по <tt>z</tt> являются алфавитно-цифровыми.
</div>
<div class="defun">
<!--l. 695--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx93-1320001"></a><a 
 id="x93-1320002r346"></a><b> char=</b>  <i>character</i> &#x0026;rest  <i>more-characters</i><br 
class="newline" /><i>[Функция]</i><a 
 id="dx93-1320003"></a><a 
 id="x93-1320004r347"></a><b> char/=</b>  <i>character</i> &#x0026;rest  <i>more-characters</i><br 
class="newline" /><i>[Функция]</i><a 
 id="dx93-1320005"></a><a 
 id="x93-1320006r348"></a><b> char&#x003C;</b>  <i>character</i> &#x0026;rest  <i>more-characters</i><br 
class="newline" /><i>[Функция]</i><a 
 id="dx93-1320007"></a><a 
 id="x93-1320008r349"></a><b> char&#x003E;</b>  <i>character</i> &#x0026;rest  <i>more-characters</i><br 
class="newline" /><i>[Функция]</i><a 
 id="dx93-1320009"></a><a 
 id="x93-1320010r350"></a><b> char&#x003C;=</b>  <i>character</i> &#x0026;rest  <i>more-characters</i><br 
class="newline" /><i>[Функция]</i><a 
 id="dx93-1320011"></a><a 
 id="x93-1320012r351"></a><b> char&#x003E;=</b>  <i>character</i> &#x0026;rest  <i>more-characters</i>
</div>
<!--l. 702--><p class="noindent" ><span class="paragraphHead"><a 
href="#x93-132100013.2" id="x93-132100013.2"></a></span>
   Все аргументы должны быть строковыми символами. Данный функции
сравнивают символы методом зависящим от реализации.
<!--l. 706--><p class="indent" >   Порядок расположения строковых символов гарантированно удовлетворяет
следующим правилам:
      <ul class="itemize1">
      <li class="itemize">Стандартные алфавитно-цифровые символы подчиняются следующему
      порядку: <div class="lisp"><div class="tabbing">
      A&#x003C;B&#x003C;C&#x003C;D&#x003C;E&#x003C;F&#x003C;G&#x003C;H&#x003C;I&#x003C;J&#x003C;K&#x003C;L&#x003C;M&#x003C;N&#x003C;O&#x003C;P&#x003C;Q&#x003C;R&#x003C;S&#x003C;T&#x003C;U&#x003C;V&#x003C;W&#x003C;X&#x003C;Y&#x003C;Z
      <br>        a&#x003C;b&#x003C;c&#x003C;d&#x003C;e&#x003C;f&#x003C;g&#x003C;h&#x003C;i&#x003C;j&#x003C;k&#x003C;l&#x003C;m&#x003C;n&#x003C;o&#x003C;p&#x003C;q&#x003C;r&#x003C;s&#x003C;t&#x003C;u&#x003C;v&#x003C;w&#x003C;x&#x003C;y&#x003C;z<br>
           0&#x003C;1&#x003C;2&#x003C;3&#x003C;4&#x003C;5&#x003C;6&#x003C;7&#x003C;8&#x003C;9<br>        <i>одно из двух</i> 9&#x003C;A <i>или</i> Z&#x003C;0<br>
           <i>одно из двух</i> 9&#x003C;a <i>или</i> z&#x003C;0<br>
      <!--l. 717--><p class="noindent" ></div>
      <!--l. 717--><p class="noindent" ><span class="paragraphHead"><a 
href="#x93-132200013.2" id="x93-132200013.2"></a></span>
      <!--l. 717--><p class="noindent" ><span class="paragraphHead"><a 
href="#x93-132300013.2" id="x93-132300013.2"></a></span>
</div>
      </li></ul>
<!--l. 720--><p class="indent" >   Порядок следования символов необязательно совпадает с порядком
следования их кодов, полученных из функции <tt><a 
href="clmli7.html#x196-3479209r209">char-int</a></tt>.
<!--l. 723--><p class="indent" >   Порядок следование символов не является неразрывным. Таким образом
выражение <tt>(char&#x003C;= #\a x #\z)</tt> нельзя использовать для проверки является
ли <tt>x</tt> символом в нижнем регистре. Для этого предназначен предикат
<tt><a 
href="clmli7.html#x196-3479560r560">lower-case-p</a></tt>.
                                                                          

                                                                          
<div class="lisp">
<!--l. 728--><p class="indent" >   <div class="tabbing">
(char= #\d #\d) истина.
   <br>                                                             (char/= #\d #\d) ложь.<br>
(char= #\d #\x) ложь.<br>                       (char/= #\d #\x) истина.<br>
(char= #\d #\D) ложь.<br>                      (char/= #\d #\D) истина.<br>
(char= #\d #\d #\d #\d) истина.<br>   (char/= #\d #\d #\d #\d) ложь.<br>
(char= #\d #\d #\x #\d) ложь.<br>     (char/= #\d #\d #\x #\d) ложь.<br>
(char= #\d #\y #\x #\c) ложь.<br>    (char/= #\d #\y #\x #\c) истина.<br>
(char= #\d #\c #\d) ложь.<br>               (char/= #\d #\c #\d) ложь.<br>
(char&#x003C; #\d #\x) истина.<br>                     (char&#x003C;= #\d #\x) истина.<br>
(char&#x003C; #\d #\d) ложь.<br>                      (char&#x003C;= #\d #\d) истина.<br>
(char&#x003C; #\a #\e #\y #\z) истина.<br>  (char&#x003C;= #\a #\e #\y #\z) истина.<br>
(char&#x003C; #\a #\e #\e #\y) ложь.<br>    (char&#x003C;= #\a #\e #\e #\y) истина.<br>
(char&#x003E; #\e #\d) истина.<br>                     (char&#x003E;= #\e #\d) истина.<br>
(char&#x003E; #\d #\c #\b #\a) истина.<br>  (char&#x003E;= #\d #\c #\b #\a) истина.<br>
(char&#x003E; #\d #\d #\c #\a) ложь.<br>   (char&#x003E;= #\d #\d #\c #\a) истина.<br>
(char&#x003E; #\e #\d #\b #\c #\a) ложь.<br>
(char&#x003E;= #\e #\d #\b #\c #\a) ложь.<br>
(char&#x003E; #\z #\A) может быть истиной или ложью.<br>
(char&#x003E; #\Z #\a) может быть истиной или ложью.<br>
<!--l. 761--><p class="noindent" ></div>
<!--l. 761--><p class="noindent" ><span class="paragraphHead"><a 
href="#x93-132400013.2" id="x93-132400013.2"></a></span>
<!--l. 761--><p class="noindent" ><span class="paragraphHead"><a 
href="#x93-132500013.2" id="x93-132500013.2"></a></span>
</div>
<!--l. 763--><p class="indent" >   Если и <tt>(char= c1 c2)</tt> является истиной, то <tt>(eq c1 c2)</tt> истиной может и
не являться. <tt><a 
href="clmli7.html#x196-3479367r367">eq</a></tt> сравнивает строковые символы не как символы, а как
объекты с различием в свойствах, которое зависит от конкретной реализации.
(Конечно, если <tt>(eq c1 c2)</tt> истинно, то <tt>(char= c1 c2)</tt> также будет истинно.)
Однако, <tt><a 
href="clmli7.html#x196-3479368r368">eql</a></tt> и <tt><a 
href="clmli7.html#x196-3479369r369">equal</a></tt> сравнивают строковые символы также как и
<tt><a 
href="clmli7.html#x196-3479219r219">char=</a></tt>.
</div>
                                                                          

                                                                          
<div class="defun">
<!--l. 773--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx93-1325001"></a><a 
 id="x93-1325002r352"></a><b> char-equal</b>  <i>character</i> &#x0026;rest  <i>more-characters</i><br 
class="newline" /><i>[Функция]</i><a 
 id="dx93-1325003"></a><a 
 id="x93-1325004r353"></a><b> char-not-equal</b>  <i>character</i> &#x0026;rest  <i>more-characters</i><br 
class="newline" /><i>[Функция]</i><a 
 id="dx93-1325005"></a><a 
 id="x93-1325006r354"></a><b> char-lessp</b>  <i>character</i> &#x0026;rest  <i>more-characters</i><br 
class="newline" /><i>[Функция]</i><a 
 id="dx93-1325007"></a><a 
 id="x93-1325008r355"></a><b> char-greaterp</b>  <i>character</i> &#x0026;rest  <i>more-characters</i><br 
class="newline" /><i>[Функция]</i><a 
 id="dx93-1325009"></a><a 
 id="x93-1325010r356"></a><b> char-not-greaterp</b>  <i>character</i> &#x0026;rest  <i>more-characters</i><br 
class="newline" /><i>[Функция]</i><a 
 id="dx93-1325011"></a><a 
 id="x93-1325012r357"></a><b> char-not-lessp</b>  <i>character</i> &#x0026;rest  <i>more-characters</i>
</div>
<!--l. 780--><p class="noindent" ><span class="paragraphHead"><a 
href="#x93-132600013.2" id="x93-132600013.2"></a></span>
   Для стандартных символов порядок между ними такой, что выполняются
равенства <tt>A=a</tt>, <tt>B=b</tt> и так до <tt>Z=z</tt>, а также выполняется одно из двух
неравенств <tt>9&#x003C;A</tt> или <tt>Z&#x003C;0</tt>. <div class="lisp"><div class="tabbing">
(char-equal #\A #\a) истина.
   <br>                                                              (char= #\A #\a) ложь.<br>
(char-equal #\A #\Control-A) истина.<br>
<!--l. 788--><p class="noindent" ></div>
<!--l. 788--><p class="noindent" ><span class="paragraphHead"><a 
href="#x93-132700013.2" id="x93-132700013.2"></a></span>
<!--l. 788--><p class="noindent" ><span class="paragraphHead"><a 
href="#x93-132800013.2" id="x93-132800013.2"></a></span>
</div>
</div>
                                                                          

                                                                          
<!--l. 791--><p class="indent" >   <div id="bottomlinks"><tt>&#x003C;</tt><a 
href="clmse76.html" >Далее</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse74.html" >Назад</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse74.html#tailclmse74.html" >Назад-и-вниз</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse75.html" >В-начало</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch13.html#clmse75.html" >Наверх</a><tt>&#x003E;</tt></div><a 
 id="tailclmse75.html"></a>   </div> </div> 
</body></html> 

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Системные пакеты</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,index=2,next,fn-in,charset=utf-8,sections+,minitoc<,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-04-16 00:55:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
<link rel="stylesheet" type="text/css" href="cltl2ed.css"></head><body 
>
<!--l. 2534--><p class="noindent" > <div id="main_container"> <div id="content"> <div id="toplinks"><tt>&#x003C;</tt><a 
href="clmse62.html" >Далее</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse60.html" >Назад</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse60.html#tailclmse60.html" >Назад-и-вниз</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse61.html">В-конец</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch11.html#clmse61.html" >Наверх</a><tt>&#x003E;</tt></div><h3 class="sectionHead"><span class="titlemark">11.6   </span> <a 
href="clm.html#QQ2-77-909" id="x77-90100011.6">Системные
пакеты</a></h3>
<div class="flushdesc">
<!--l. 2537--><p class="noindent" >
      <ul><li><b>
<tt>common-lisp</tt> </b></li>Пакет с именем <tt>common-lisp</tt> содержит базовые элементы
      системы  ANSI  Common  Lisp.  Его  внешние  символы  включают
      все  видимые  пользователю  функции  и  глобальные  переменные,
      которые представлены в ANSI Common Lisp системе, такие как <tt><a 
href="clmse82.html#x102-1267002r410">car</a></tt>,
      <tt><a 
href="clmse82.html#x102-1270002r411">cdr</a></tt> и <tt><a 
href="clmse62.html#x78-904002r158">*package*</a></tt>. Следует однако отметить, что домашним пакетом
      этих символов не обязательно должен является пакет <tt>common-lisp</tt>
      (для символов, например <tt><a 
href="clmse31.html#x42-313002r19">t</a></tt> и <tt><a 
href="clmse123.html#x152-2249002r780">lambda</a></tt> будет проще быть доступными
      и   в   <tt>common-lisp</tt>,   и   в   другом   пакете,   возможно   с   именем
      <tt>lisp</tt> FIXME).  Почти  все  другие  пакеты  должны  использовать
      <tt>common-lisp</tt>,  таким  образом  эти  символы  будут  доступны  без
      использования полного имени (с двоеточием). Данный пакет имеет
      псевдоним <tt>cl</tt>.
      <li><b>
<tt>common-lisp-user</tt> </b></li>Пакет  <tt>common-lisp-user</tt> является,  по-умолчанию,
      текущим пакетом во время запуска ANSI Common Lisp системы.
      Этот  пакет  использует  пакет  <tt>common-lisp</tt> и  имеет  псевдоним
      <tt>cl-user</tt>. В зависимости от реализации он также может содержать
      другие символы и использовать платформоспецифичные пакеты.</ul>
</div>
<div class="flushdesc">
<!--l. 2559--><p class="noindent" >
      <ul><li><b>
<tt>keyword</tt> </b></li>Этот  пакет  содержит  все  ключевые  символы,  используемые
      встроенными или пользовательскими Lisp&#x2019;овыми функциями. Имя
      символа,  начинающегося  с  двоеточия,  интерпретируется,  как
                                                                          

                                                                          
      ссылка  на  символ  из  этого  пакета,  который  всегда  является
      внешним.  Все  символы  в  этом  пакете  является  константами,
      которые вычисляются сами в себя, поэтому пользователь может
      записывать <tt>:foo</tt> вместо <tt>&#x2019;:foo</tt>.</ul>
</div>
<div class="newer">
<!--l. 2568--><p class="noindent" >X3J13 проголосовал в марте 1989 <a 
 id="dx77-901001"></a>запретить пользовательским программам
выполнение следующих действий, которые могут противоречить базовому
функционалу или негативно с ним взаимодействовать. Если над символом в
пакете <tt>common-lisp</tt> совершается одно из действий ниже, за исключением
явных указаний в книге, последствия не определены.
      <ul class="itemize1">
      <li class="itemize">связывание  или  изменение  значения  символа  (лексически  или
      динамически)
      </li>
      <li class="itemize">определение или связывания символа с функцией
      </li>
      <li class="itemize">определение или связывания символа с макросом
      </li>
      <li class="itemize">определение  его  как  спецификатора  типа  (<tt><a 
href="clmse100.html#x124-1572002r579">defstruct</a></tt>,  <tt><a 
href="clmse143.html#x175-2618002r859">defclass</a></tt>,
      <tt><a 
href="clmse24.html#x33-193002r6">deftype</a></tt>)
      </li>
      <li class="itemize">определение его как структуры (<tt><a 
href="clmse100.html#x124-1572002r579">defstruct</a></tt>)
      </li>
      <li class="itemize">определение его как декларации
      </li>
      <li class="itemize">определение его макроса символа
      </li>
      <li class="itemize">изменение выводимого имени символа
      </li>
      <li class="itemize">изменение пакета символа
                                                                          

                                                                          
      </li>
      <li class="itemize">трассировка символа
      </li>
      <li class="itemize">декларация  или  прокламация  символа  как  специального  или
      лексического
      </li>
      <li class="itemize">декларация или прокламация типа символа (<tt>type</tt>, <tt>ftype</tt>)
      </li>
      <li class="itemize">удаление символа из пакета <tt>common-lisp</tt>
      </li>
      <li class="itemize">определение как макроса компилятора</li></ul>
<!--l. 2590--><p class="indent" >   Если такой символ не определён глобально как переменная или
константа, пользовательская программа может связывать его лексически и
декларировать тип <tt>type</tt> данного связывания.
<!--l. 2594--><p class="indent" >   Если такой символ не определён как функция, макрос или специальная
форма, пользовательская программа может лексически связать символ с
функцией, декларировать тип <tt>ftype</tt> данного связывания и трассировать это
связывание.
<!--l. 2598--><p class="indent" >   Если такой символ не определён как функция, макрос или специальная
форма, пользовательская программа может лексически связать символ с
макросом.
<!--l. 2601--><p class="indent" >   В качестве примера, поведение данного фрагмента кода <div class="lisp"><div class="tabbing">
(ﬂet ((open (ﬁlename &#x0026;key direction)
   <br>                                            (format t &#x0022;~%OPEN was called.&#x0022;)<br>
         (open ﬁlename :direction direction)))<br>
  (with-open-ﬁle (x &#x0022;frob&#x0022; :direction &#x2019;:output)<br>
    (format t &#x0022;~%Was OPEN called?&#x0022;)))<br>
<!--l. 2608--><p class="noindent" ></div>
<!--l. 2608--><p class="noindent" ><span class="paragraphHead"><a 
href="#x77-90200011.6" id="x77-90200011.6"></a></span>
                                                                          

                                                                          
<!--l. 2608--><p class="noindent" ><span class="paragraphHead"><a 
href="#x77-90300011.6" id="x77-90300011.6"></a></span>
</div>
<!--l. 2609--><p class="indent" >   не определено. Даже в «разумной» реализации, например, раскрытие
макрос <tt><a 
href="clmse116.html#x144-2136009r718">with-open-file</a></tt> должно ссылаться на функцию <tt><a 
href="clmse116.html#x144-2135002r717">open</a></tt>. Тем не менее,
предшествующие правила определяют является ли реализация «разумной».
Данный фрагмент кода нарушает правила. Официально его поведение, таким
образом, полностью не определено, и точка.
<!--l. 2615--><p class="indent" >   Следует отметить, что «изменение списка свойств» не входит в список
упомянутых действий, таким образом пользовательская программа
может добавлять или удалять свойства для символов в <tt>common-lisp</tt>
пакете.
</div>
                                                                          

                                                                          
<!--l. 2620--><p class="indent" >   <div id="bottomlinks"><tt>&#x003C;</tt><a 
href="clmse62.html" >Далее</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse60.html" >Назад</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse60.html#tailclmse60.html" >Назад-и-вниз</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse61.html" >В-начало</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch11.html#clmse61.html" >Наверх</a><tt>&#x003E;</tt></div><a 
 id="tailclmse61.html"></a>  </div> </div> 
</body></html> 

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Арифметические операции</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,index=2,next,fn-in,charset=utf-8,sections+,minitoc<,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-04-16 00:55:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
<link rel="stylesheet" type="text/css" href="cltl2ed.css"></head><body 
>
<!--l. 4019--><p class="noindent" > <div id="main_container"> <div id="content"> <div id="toplinks"><tt>&#x003C;</tt><a 
href="clmse67.html" >Далее</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse65.html" >Назад</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse65.html#tailclmse65.html" >Назад-и-вниз</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse66.html">В-конец</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch12.html#clmse66.html" >Наверх</a><tt>&#x003E;</tt></div><h3 class="sectionHead"><span class="titlemark">12.4   </span> <a 
href="clm.html#QQ2-83-969" id="x83-96100012.4">Арифметические
операции</a></h3>
<!--l. 4021--><p class="noindent" >Каждая из функций в этом разделе в качестве аргументов принимает числа.
Применение какой-либо из них к нечисловому аргументу является ошибкой.
Каждая из них работает со всеми типами чисел, автоматически приводя
типы для различных аргументов, если не указано иное.
<div class="defun">
<!--l. 4026--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx83-961001"></a><a 
 id="x83-961002r198"></a><b> +</b>  &#x0026;rest  <i>numbers</i>
</div>
<!--l. 4028--><p class="noindent" ><span class="paragraphHead"><a 
href="#x83-96200012.4" id="x83-96200012.4"></a></span>
   Данная функция возвращает сумму всех аргументов. Если аргументов не
было, результатом является <tt>0</tt>.
</div>
<div class="defun">
<!--l. 4033--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx83-962001"></a><a 
 id="x83-962002r199"></a><b> -</b>  <i>number</i> &#x0026;rest  <i>more-numbers</i>
</div>
<!--l. 4035--><p class="noindent" ><span class="paragraphHead"><a 
href="#x83-96300012.4" id="x83-96300012.4"></a></span>
   Функция <tt><a 
href="clmse107.html#x132-1645002r589">-</a></tt> при использовании с одним аргументом возвращает
отрицательное значение для этого аргумента.
<!--l. 4039--><p class="indent" >   Функция <tt><a 
href="clmse107.html#x132-1645002r589">-</a></tt> при использовании с более чем одним аргументом вычитает из
первого аргумента все остальные и возвращает результат. Например, <tt>(- 3 4
5)</tt> <span class="math"> ⇒</span> <tt>-6</tt>.
</div>
<div class="defun">
<!--l. 4044--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx83-963001"></a><a 
 id="x83-963002r200"></a><b> *</b>  &#x0026;rest  <i>numbers</i>
</div>
<!--l. 4046--><p class="noindent" ><span class="paragraphHead"><a 
href="#x83-96400012.4" id="x83-96400012.4"></a></span>
   Функция возвращает произведение всех аргументов. Если вызывается без
аргументов, тогда возвращает <tt>1</tt>.
                                                                          

                                                                          
</div>
<div class="defun">
<!--l. 4051--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx83-964001"></a><a 
 id="x83-964002r201"></a><b> /</b>  <i>number</i> &#x0026;rest  <i>more-numbers</i>
</div>
<!--l. 4053--><p class="noindent" ><span class="paragraphHead"><a 
href="#x83-96500012.4" id="x83-96500012.4"></a></span>
   Функция <tt><a 
href="clmse107.html#x132-1647002r593">/</a></tt> при использовании с более чем одним аргументом производит
деление первого аргумента на все остальные значения и возвращает
полученный результат.
<!--l. 4058--><p class="indent" >   Ноль может использоваться только для первого аргумента.
<!--l. 4060--><p class="indent" >   Для одного аргумента <tt><a 
href="clmse107.html#x132-1647002r593">/</a></tt> возвращает обратное значение. В таком случае
ноль в первом аргументе недопустим.
<!--l. 4063--><p class="indent" >   Если математическое отношение двух целых чисел не является целым
числом, <tt><a 
href="clmse107.html#x132-1647002r593">/</a></tt> вернёт дробный тип. Например: <div class="lisp"><div class="tabbing">
(/ 12 4) <span class="math"> ⇒</span> 3
   <br>                          (/ 13 4) <span class="math"> ⇒</span> 13/4<br>                          (/ -8) <span class="math"> ⇒</span> -1/8<br>
(/ 3 4 5) <span class="math"> ⇒</span> 3/20<br>
<!--l. 4071--><p class="noindent" ></div>
<!--l. 4071--><p class="noindent" ><span class="paragraphHead"><a 
href="#x83-96600012.4" id="x83-96600012.4"></a></span>
<!--l. 4071--><p class="noindent" ><span class="paragraphHead"><a 
href="#x83-96700012.4" id="x83-96700012.4"></a></span>
</div>
<!--l. 4073--><p class="indent" >   Для целочисленного деления используйте одну из функций <tt><a 
href="clmse68.html#x85-1050002r236">floor</a></tt>,
<tt><a 
href="clmse68.html#x85-1050004r237">ceiling</a></tt>, <tt><a 
href="clmse68.html#x85-1050006r238">truncate</a></tt> или <tt><a 
href="clmse68.html#x85-1050008r239">round</a></tt>.
<!--l. 4077--><p class="indent" >   Если один из аргументов является числом с плавающей точкой, тогда
применяются правила обработки чисел с плавающей точкой.
</div>
<div class="defun">
<!--l. 4081--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx83-967001"></a><a 
 id="x83-967002r202"></a><b> 1+</b>  <i>number</i><br 
class="newline" /><i>[Функция]</i><a 
 id="dx83-967003"></a><a 
 id="x83-967004r203"></a><b> 1-</b>  <i>number</i>
</div>
                                                                          

                                                                          
<!--l. 4084--><p class="noindent" ><span class="paragraphHead"><a 
href="#x83-96800012.4" id="x83-96800012.4"></a></span>
<tt>
   (1+ <i>x</i>)</tt> является тем же самым, что <tt>(+ <i>x</i> 1)</tt>. <tt>(1- <i>x</i>)</tt> является тем же
самым, что <tt>(- <i>x</i> 1)</tt>. Следует отметить, что короткое имя может ввести в
заблуждение: <tt>(1- <i>x</i>)</tt> <i>не значит</i> то же, что и <span class="math">1 −<i>x</i></span>.
</div>
<div class="defmac">
<div class="defmacheader">
<!--l. 4092--><p class="indent" >   <div class="tabbing">
 <i>[Макрос]</i><b> incf </b><a 
 id="dx83-968001"></a><a 
 id="x83-968002r204"></a> place [delta]
   <br>
<!--l. 4092--><p class="noindent" ></div>
<!--l. 4092--><p class="noindent" ><span class="paragraphHead"><a 
href="#x83-96900012.4" id="x83-96900012.4"></a></span>
</div>
<div class="defmacheader">
<!--l. 4092--><p class="indent" >   <div class="tabbing">
 <i>[Макрос]</i><b> decf </b><a 
 id="dx83-969001"></a><a 
 id="x83-969002r205"></a> place [delta]
   <br>
<!--l. 4094--><p class="noindent" ></div>
<!--l. 4094--><p class="noindent" ><span class="paragraphHead"><a 
href="#x83-97000012.4" id="x83-97000012.4"></a></span>
</div>
<!--l. 4095--><p class="indent" >   Значение обобщённой переменной <i>place</i> увеличивается (<tt><a 
href="#x83-968002r204">incf</a></tt>) или
уменьшается (<tt><a 
href="#x83-969002r205">decf</a></tt>) на значение формы <i>delta</i> и затем присваивается
переменной <i>place</i>. Результатом формы является присвоенное значение.
Форма <i>place</i> может быть любой формой подходящей для <tt><a 
href="clmse36.html#x48-474002r64">setf</a></tt>. Если
форма <i>delta</i> не указана, тогда число в <i>place</i> изменяется на <tt>1</tt>. Например:
<div class="lisp"><div class="tabbing">
                                                                          

                                                                          
(setq n 0)
   <br>                                              (incf n) <span class="math"> ⇒</span> 1          and now n <span class="math"> ⇒</span> 1<br>
(decf n 3) <span class="math"> ⇒</span> -2      and now n <span class="math"> ⇒</span> -2<br>
(decf n -5) <span class="math"> ⇒</span> 3      and now n <span class="math"> ⇒</span> 3<br> (decf n) <span class="math"> ⇒</span> 2         and now n <span class="math"> ⇒</span> 2<br>
<!--l. 4110--><p class="noindent" ></div>
<!--l. 4110--><p class="noindent" ><span class="paragraphHead"><a 
href="#x83-97100012.4" id="x83-97100012.4"></a></span>
<!--l. 4110--><p class="noindent" ><span class="paragraphHead"><a 
href="#x83-97200012.4" id="x83-97200012.4"></a></span>
</div>
<!--l. 4111--><p class="indent" >   Результат <tt>(incf <i>place</i> <i>delta</i>)</tt> примерно эквивалентен <div class="lisp"><div class="tabbing">
(setf <i>place</i> (+ <i>place</i> <i>delta</i>))
   <br>
<!--l. 4114--><p class="noindent" ></div>
<!--l. 4114--><p class="noindent" ><span class="paragraphHead"><a 
href="#x83-97300012.4" id="x83-97300012.4"></a></span>
<!--l. 4114--><p class="noindent" ><span class="paragraphHead"><a 
href="#x83-97400012.4" id="x83-97400012.4"></a></span>
</div>
<!--l. 4115--><p class="indent" >   за исключением того, что в последнем случае <i>place</i> вычисляется дважды,
тогда как <tt><a 
href="#x83-968002r204">incf</a></tt> гарантирует, что вычисление <i>place</i> будет выполнено только
один раз. Более того, для некоторых форма <i>place</i> <tt><a 
href="#x83-968002r204">incf</a></tt> может быть
эффективнее чем <tt><a 
href="clmse36.html#x48-474002r64">setf</a></tt>.
</div>
<div class="defun">
<!--l. 4122--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx83-974001"></a><a 
 id="x83-974002r206"></a><b> conjugate</b>  <i>number</i>
</div>
                                                                          

                                                                          
<!--l. 4124--><p class="noindent" ><span class="paragraphHead"><a 
href="#x83-97500012.4" id="x83-97500012.4"></a></span>
   Функция возвращает комплексное сопряжение с числа <i>number</i>.
Сопряжением некомплексного числа является само число. Для комплексного
числа <tt>z</tt>, <div class="lisp"><div class="tabbing">
(conjugate z) <span class="math"> ≡</span> (complex (realpart z) (- (imagpart z)))
   <br>
<!--l. 4130--><p class="noindent" ></div>
<!--l. 4130--><p class="noindent" ><span class="paragraphHead"><a 
href="#x83-97600012.4" id="x83-97600012.4"></a></span>
<!--l. 4130--><p class="noindent" ><span class="paragraphHead"><a 
href="#x83-97700012.4" id="x83-97700012.4"></a></span>
</div>
<!--l. 4131--><p class="indent" >   Например, <div class="lisp"><div class="tabbing">
(conjugate #C(3/5 4/5)) <span class="math"> ⇒</span> #C(3/5 -4/5)
   <br>                         (conjugate #C(0.0D0 -1.0D0)) <span class="math"> ⇒</span> #C(0.0D0 1.0D0)<br>
(conjugate 3.7) <span class="math"> ⇒</span> 3.7<br>
<!--l. 4136--><p class="noindent" ></div>
<!--l. 4136--><p class="noindent" ><span class="paragraphHead"><a 
href="#x83-97800012.4" id="x83-97800012.4"></a></span>
<!--l. 4136--><p class="noindent" ><span class="paragraphHead"><a 
href="#x83-97900012.4" id="x83-97900012.4"></a></span>
</div>
</div>
<div class="defun">
<!--l. 4139--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx83-979001"></a><a 
 id="x83-979002r207"></a><b> gcd</b>  &#x0026;rest  <i>integers</i>
</div>
                                                                          

                                                                          
<!--l. 4141--><p class="noindent" ><span class="paragraphHead"><a 
href="#x83-98000012.4" id="x83-98000012.4"></a></span>
   Функция возвращает наибольший общий делитель всех аргументов,
которые в свою очередь должны быть целыми числами. Результатом <tt><a 
href="#x83-979002r207">gcd</a></tt>
всегда является неотрицательное целое число. Если передан только один
параметр, то возвращается его абсолютное значение (модуль). Если ни один
параметр не был передан, <tt><a 
href="#x83-979002r207">gcd</a></tt> возвращает <tt>0</tt>. Для трёх и более аргументов,
<div class="lisp"><div class="tabbing">
(gcd <i>a</i> <i>b</i> <i>c</i> ... <i>z</i>) <span class="math"> ≡</span> (gcd (gcd <i>a</i> <i>b</i>) <i>c</i> ... <i>z</i>)
   <br>
<!--l. 4151--><p class="noindent" ></div>
<!--l. 4151--><p class="noindent" ><span class="paragraphHead"><a 
href="#x83-98100012.4" id="x83-98100012.4"></a></span>
<!--l. 4151--><p class="noindent" ><span class="paragraphHead"><a 
href="#x83-98200012.4" id="x83-98200012.4"></a></span>
</div>
<!--l. 4153--><p class="indent" >   Несколько примеров использования <tt><a 
href="#x83-979002r207">gcd</a></tt>: <div class="lisp"><div class="tabbing">
(gcd 91 -49) <span class="math"> ⇒</span> 7
   <br>                                                                   (gcd 63 -42 35) <span class="math"> ⇒</span> 7<br>
(gcd 5) <span class="math"> ⇒</span> 5<br>                                                (gcd -4) <span class="math"> ⇒</span> 4<br>
(gcd) <span class="math"> ⇒</span> 0<br>
<!--l. 4160--><p class="noindent" ></div>
<!--l. 4160--><p class="noindent" ><span class="paragraphHead"><a 
href="#x83-98300012.4" id="x83-98300012.4"></a></span>
<!--l. 4160--><p class="noindent" ><span class="paragraphHead"><a 
href="#x83-98400012.4" id="x83-98400012.4"></a></span>
</div>
</div>
<div class="defun">
<!--l. 4163--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx83-984001"></a><a 
 id="x83-984002r208"></a><b> lcm</b>  <i>integer</i> &#x0026;rest  <i>more-integers</i>
</div>
                                                                          

                                                                          
<!--l. 4165--><p class="noindent" ><span class="paragraphHead"><a 
href="#x83-98500012.4" id="x83-98500012.4"></a></span>
   Функция возвращает наименьшее общее кратное для аргументов, которые
в свою очередь должны быть целыми числами. Результатом <tt><a 
href="#x83-984002r208">lcm</a></tt> всегда
является неотрицательное целое число. Для двух аргументов, не являющихся
нулями, <div class="lisp"><div class="tabbing">
(lcm <i>a</i> <i>b</i>) <span class="math"> ≡</span> (/ (abs (* <i>a</i> <i>b</i>)) (gcd <i>a</i> <i>b</i>))
   <br>
<!--l. 4172--><p class="noindent" ></div>
<!--l. 4172--><p class="noindent" ><span class="paragraphHead"><a 
href="#x83-98600012.4" id="x83-98600012.4"></a></span>
<!--l. 4172--><p class="noindent" ><span class="paragraphHead"><a 
href="#x83-98700012.4" id="x83-98700012.4"></a></span>
</div>
<!--l. 4173--><p class="indent" >   Если один или оба аргумента является нулём. <div class="lisp"><div class="tabbing">
(lcm <i>a</i> 0) <span class="math"> ≡</span> (lcm 0 <i>a</i>) <span class="math"> ≡</span> 0
   <br>
<!--l. 4176--><p class="noindent" ></div>
<!--l. 4176--><p class="noindent" ><span class="paragraphHead"><a 
href="#x83-98800012.4" id="x83-98800012.4"></a></span>
<!--l. 4176--><p class="noindent" ><span class="paragraphHead"><a 
href="#x83-98900012.4" id="x83-98900012.4"></a></span>
</div>
<!--l. 4178--><p class="indent" >   Для одного аргумента, <tt><a 
href="#x83-984002r208">lcm</a></tt> возвращает абсолютное значение этого
аргумента (модуль). Для трёх и более аргументов, <div class="lisp"><div class="tabbing">
(lcm <i>a</i> <i>b</i> <i>c</i> ... <i>z</i>) <span class="math"> ≡</span> (lcm (lcm <i>a</i> <i>b</i>) <i>c</i> ... <i>z</i>)
   <br>
<!--l. 4183--><p class="noindent" ></div>
                                                                          

                                                                          
<!--l. 4183--><p class="noindent" ><span class="paragraphHead"><a 
href="#x83-99000012.4" id="x83-99000012.4"></a></span>
<!--l. 4183--><p class="noindent" ><span class="paragraphHead"><a 
href="#x83-99100012.4" id="x83-99100012.4"></a></span>
</div>
<!--l. 4185--><p class="indent" >   Примеры использования: <div class="lisp"><div class="tabbing">
(lcm 14 35) <span class="math"> ⇒</span> 70
   <br>                                                                           (lcm 0 5) <span class="math"> ⇒</span> 0<br>
(lcm 1 2 3 4 5 6) <span class="math"> ⇒</span> 60<br>
<!--l. 4190--><p class="noindent" ></div>
<!--l. 4190--><p class="noindent" ><span class="paragraphHead"><a 
href="#x83-99200012.4" id="x83-99200012.4"></a></span>
<!--l. 4190--><p class="noindent" ><span class="paragraphHead"><a 
href="#x83-99300012.4" id="x83-99300012.4"></a></span>
</div>
<tt>
<!--l. 4196--><p class="indent" >   <a 
href="#x83-984002r208">lcm</a></tt>, вызванная без аргументов, возвращает <tt>1</tt>. <div class="lisp"><div class="tabbing">
(lcm) <span class="math"> ⇒</span> 1
   <br>
<!--l. 4199--><p class="noindent" ></div>
<!--l. 4199--><p class="noindent" ><span class="paragraphHead"><a 
href="#x83-99400012.4" id="x83-99400012.4"></a></span>
<!--l. 4199--><p class="noindent" ><span class="paragraphHead"><a 
href="#x83-99500012.4" id="x83-99500012.4"></a></span>
</div>
</div>
                                                                          

                                                                          
<!--l. 4202--><p class="indent" >   <div id="bottomlinks"><tt>&#x003C;</tt><a 
href="clmse67.html" >Далее</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse65.html" >Назад</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse65.html#tailclmse65.html" >Назад-и-вниз</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse66.html" >В-начало</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch12.html#clmse66.html" >Наверх</a><tt>&#x003E;</tt></div><a 
 id="tailclmse66.html"></a>    </div> </div> 
</body></html> 

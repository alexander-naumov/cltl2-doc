<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Modules</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,next,charset=utf-8,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-03-10 13:43:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
</head><body 
>
   <!--l. 1876--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse65.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse63.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse63.html#tailclmse63.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse64.html">Tail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch11.html#clmse64.html" >Up</a><tt>&#x003E;</tt></p></div>
   <h3 class="sectionHead"><span class="titlemark">11.8   </span> <a 
 id="x80-19400011.8"></a>Modules</h3>
<!--l. 1878--><p class="noindent" >A module is a Common Lisp subsystem that is loaded from one or more ﬁles. A
module is normally loaded as a single unit, regardless of how many ﬁles are
involved. A module may consist of one package or several packages. The
ﬁle-loading process is necessarily implementation-dependent, but Common Lisp
provides some very simple portable machinery for naming modules, for keeping
track of which modules have been loaded, and for loading modules as a
unit.
<div class=new>
<!--l. 1887--><p class="indent" >   X3J13 voted in January 1989 <a 
 id="dx80-194001"></a>to eliminate the entire module facility from the
language; that is, the variable *modules* and the functions <a 
href="#x80-194005r203">provide</a> and
<a 
href="#x80-194007r204">require</a> are deleted. X3J13 commented that the ﬁle-loading feature of
<a 
href="#x80-194007r204">require</a> is not portable, and that the remaining functionality is easily
implemented by user code. (I will add that in any case the speciﬁcation of <a 
href="#x80-194007r204">require</a>
is so vague that diﬀerent implementations are likely to have diﬀering
behavior.)
</div>
<div class=defun>
<!--l. 1899--><p class="noindent" ><i>[Variable]</i><a 
 id="dx80-194002"></a><a 
 id="x80-194003r202"></a><b> *modules*</b>
<!--l. 1901--><p class="noindent" >The variable *modules* is a list of names of the modules that have been loaded
into the Lisp system so far. This list is used by the functions <a 
href="#x80-194005r203">provide</a> and
<a 
href="#x80-194007r204">require</a>.
</div>
<div class=defun>
<!--l. 1907--><p class="noindent" ><i>[Function]</i><a 
 id="dx80-194004"></a><a 
 id="x80-194005r203"></a><b> provide</b>  <i>module-name</i><br 
class="newline" /><i>[Function]</i><a 
 id="dx80-194006"></a><a 
 id="x80-194007r204"></a><b> require</b>  <i>module-name</i> &#x0026;optional  <i>pathname</i>
<!--l. 1910--><p class="noindent" >Each module has a unique name (a string). The <a 
href="#x80-194005r203">provide</a> and <a 
href="#x80-194007r204">require</a> functions
accept either a string or a symbol as the module-name argument. If a symbol is
provided, its print name is used as the module name. If the module consists of a
single package, it is customary for the package and module names to be the
same.
                                                                          

                                                                          
<!--l. 1917--><p class="indent" >   The <a 
href="#x80-194005r203">provide</a> function adds a new module name to the list of modules
maintained in the variable *modules*, thereby indicating that the module in
question has been loaded.
<!--l. 1922--><p class="indent" >   The <a 
href="#x80-194007r204">require</a> function tests whether a module is already present (using a
case-sensitive comparison); if the module is not present, <a 
href="#x80-194007r204">require</a> proceeds to load
the appropriate ﬁle or set of ﬁles. The pathname argument, if present, is a single
pathname or a list of pathnames whose ﬁles are to be loaded in order, left to
right. If the pathname argument is <a 
href="clmse31.html#x42-77002r19">nil</a> or is not provided, the system will attempt
to determine, in some system-dependent manner, which ﬁles to load. This will
typically involve some central registry of module names and the associated ﬁle
lists.
<div class=new>
<!--l. 1934--><p class="indent" >   X3J13 voted in March 1988 not to permit symbols as pathnames <a 
 id="dx80-194008"></a>and to
specify exactly which streams may be used as pathnames <a 
 id="dx80-194009"></a>(see section <a 
href="clmse119.html#x147-30100023.1.6">23.1.6<!--tex4ht:ref: PATHNAME-FUNCTIONS --></a>). Of
course, this is moot if <a 
href="#x80-194007r204">require</a> is not in the language.
</div>
<div class=new>
<!--l. 1943--><p class="indent" >   X3J13 voted in January 1989 <a 
 id="dx80-194010"></a>to specify that the values returned by <a 
href="#x80-194005r203">provide</a>
and <a 
href="#x80-194007r204">require</a> are implementation-dependent. Of course, this is moot if <a 
href="#x80-194005r203">provide</a> and
<a 
href="#x80-194007r204">require</a> are not in the language.
</div>
<div class=implementation>
<!--l. 1952--><p class="noindent" ><b>Implementation note:</b> One way to implement such a registry on many operating
systems is simply to use a distinguished “library” directory within the ﬁle system, where
the name of each ﬁle is the same as the module it contains.
</div>
</div>
                                                                          

                                                                          
   <!--l. 1961--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse65.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse63.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse63.html#tailclmse63.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse64.html" >Front</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch11.html#clmse64.html" >Up</a><tt>&#x003E;</tt></p></div>
<!--l. 1961--><p class="indent" >   <a 
 id="tailclmse64.html"></a>  
</body></html> 

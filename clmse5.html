<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Символы</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,index=2,next,fn-in,charset=utf-8,sections+,minitoc<,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-03-30 23:01:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
</head><body 
>
   <!--l. 2339--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse6.html" >Далее</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse4.html" >Назад</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse4.html#tailclmse4.html" >Назад-и-вниз</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse5.html">В-конец</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch2.html#clmse5.html" >Вверх</a><tt>&#x003E;</tt></p></div>
   <h3 class="sectionHead"><span class="titlemark">2.3   </span> <a 
href="clm.html#QQ2-12-33" id="x12-270002.3">Символы</a></h3>
<!--l. 2341--><p class="noindent" >Символы (примечание переводчика: не строковые) являются Lisp&#x2019;овыми
объектами данных, созданы для нескольких целей и имеют несколько
интересных характеристик. Каждый объект типа <tt><a 
href="clmch10.html#x64-15500010">symbol</a></tt> имеет имя,
называемое его <i>выводимым именем (print name)</i>. Существует возможность
получить имя символа в виде строки. Также возможно обратное действие,
получение имени символа из строки. (Более подробно: символы могут быть
организованы в <i>пакеты</i>, и все символы в пакете имеют уникальные имена.
Смотрите главу <a 
href="clmch11.html#x68-16000011">11<!--tex4ht:ref: XPACK --></a>.)
<!--l. 2349--><p class="indent" >   У символов есть компонент, называемый <i>список свойств</i>, или <i>plist</i>.
Список свойств всегда является списком, у которого чётные элементы
(начиная с нулевого) являются символами, они выступают в качестве имён
свойств, и нечётные элементы являются связанными со свойствами
значениями. Для манипуляций с этим списком свойств предоставляются
функции, это позволяет символу выступать в роли расширяемой структуры.
<!--l. 2356--><p class="indent" >   Символы также используются для представления определённых видов
переменных в Lisp программах, и для манипуляции значениями связанными с
символами в такой роли также предоставляются функции.
<!--l. 2360--><p class="indent" >   Символ может быть обозначен просто записью его имени. Если его имя
непустое, и если его имя содержит только алфавитные буквы в верхнем
регистре, цифры или некоторые псевдо-алфавитные строковые символы (но
не разделители, как круглые скобки и пробелы), и если имя символа не
может быть интерпретировано как число, тогда имя символа задаётся
последовательностью букв его имени. Во внутреннем представлении все
буквы записанные в имени символа переводятся в верхний регистр.
Например: <div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:185;" 
class="tabbing">FROBBOZ                 </td><td  
class="tabbing">;Символ, имя которого <tt>FROBBOZ</tt>
</td></tr></table>
<!--l. 2371--><p class="indent" >            <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:185;" 
class="tabbing">frobboz                      </td><td  
class="tabbing">;Другой путь записи того же символа</td></tr></table>
                                                                          

                                                                          
<!--l. 2372--><p class="indent" >
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:185;" 
class="tabbing">fRObBoz                    </td><td  
class="tabbing">;Ещё один путь записи полюбившегося символа</td></tr></table>
<!--l. 2373--><p class="indent" >                      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:185;" 
class="tabbing">unwind-protect            </td><td  
class="tabbing">;Символ с дефисом в имени</td></tr></table>
<!--l. 2374--><p class="indent" >                             <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:185;" 
class="tabbing">+$                            </td><td  
class="tabbing">;Символ с именем <tt>+$</tt></td></tr></table>
<!--l. 2375--><p class="indent" >                             <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:185;" 
class="tabbing">1+                            </td><td  
class="tabbing">;Символ с именем <tt><a 
href="clmse63.html#x80-177010r185">1+</a></tt></td></tr></table>
<!--l. 2376--><p class="indent" >                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:185;" 
class="tabbing">+1                            </td><td  
class="tabbing">;Это число 1, а не символ</td></tr></table>
<!--l. 2377--><p class="indent" >   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:185;" 
class="tabbing">pascal_style               </td><td  
class="tabbing">;Этот символ содержит знак подчёркивания в своём имени</td></tr></table>
<!--l. 2379--><p class="indent" >                                 <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:185;" 
class="tabbing">b̂2-4*a*c                  </td><td  
class="tabbing">;Это один символ</td></tr></table>
<!--l. 2380--><p class="indent" >   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:185;" 
class="tabbing">                                </td><td  
class="tabbing">; Этот символ содержит некоторые специальные знаки в своём имени</td></tr></table>
<!--l. 2381--><p class="indent" >          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:185;" 
class="tabbing">ﬁle.rel.43                    </td><td  
class="tabbing">;Символ содержит точки в своём имени</td></tr></table>
<!--l. 2382--><p class="indent" >   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:185;" 
class="tabbing">/usr/games/zork          </td><td  
class="tabbing">;Символ содержит наклонные черты в своём имени</td></tr></table>
<!--l. 2384--><p class="indent" >
</div>
</div>
<!--l. 2386--><p class="indent" >   В дополнение к буквам и числам, следующие строковые символы
допускаются в использовании в написании имени символа: <div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">+  -  *  /  @  $  %  ̂  &#x0026;  _  =  &#x003C;  &#x003E;  ~  .
</td></tr></table>
<!--l. 2390--><p class="indent" >
</div>
</div>
<!--l. 2392--><p class="indent" >   Некоторые из этих строковых символов имеют специальные общепринятые
значения для имён. Например, символы, которые задают специальные
переменные, обычно имеют имена начинающиеся и заканчивающиеся
звёздочкой <tt>*</tt>. Одиночная точка используется для задания cons-ячеек
или списков с точкой. Точка также является разделителем дробной
части.
<!--l. 2399--><p class="indent" >   Следующие строковые символы предназначены для использования в
качестве макросимволов для изменения и расширения синтаксиса языка:
<div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">?  !  [  ]  {  }
</td></tr></table>
<!--l. 2403--><p class="indent" >
                                                                          

                                                                          
</div>
</div>
<!--l. 2405--><p class="indent" >   Выводимое имя символа может содержать буквы в верхнем и нижнем
регистрах. Однако, при чтении Lisp reader обычно конвертирует буквы
нижнего регистра в верхний. В реализации все символы, которые именуют
все стандартные Common Lisp переменные и функции хранятся в верхнем
регистре. Однако в книге все эти символы для удобства приводятся в
нижнем регистре. Использование имён символов в нижнем регистре при
написании программы возможно, потому что <tt><a 
href="clmse109.html#x136-255003r634">read</a></tt> конвертирует все
считываемые символы в верхний регистр.
<!--l. 2414--><p class="indent" >   Существует функция <tt><a 
href="clmse108.html#x135-251028r621">readtable-case</a></tt>, которая контролирует поведение
функции <tt><a 
href="clmse109.html#x136-255003r634">read</a></tt> касаемо преобразования регистров букв в именах символов.
<!--l. 2417--><p class="indent" >   Если символ не может быть задан, потому что в его имени используются
недопустимые буквы и знаки, их можно «экранировать» двумя способами.
Один из них заключается в использовании обратной наклонной черты
перед каждым экранируемым знаком. В таком случае имя символа
никогда не будет ошибочно интерпретировано, как число. Например:
<div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:223;" 
class="tabbing">\(                                   </td><td  
class="tabbing">;Символ с именем <tt>(</tt>
</td></tr></table>
<!--l. 2425--><p class="indent" >                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:223;" 
class="tabbing">\+1                                 </td><td  
class="tabbing">;Символ с именем <tt>+1</tt></td></tr></table>
<!--l. 2426--><p class="indent" >                 <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:223;" 
class="tabbing">+\1                                 </td><td  
class="tabbing">;Также символ с именем <tt>+1</tt></td></tr></table>
<!--l. 2427--><p class="indent" >                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:223;" 
class="tabbing">\frobboz                           </td><td  
class="tabbing">;Символ с именем <tt>fROBBOZ</tt></td></tr></table>
<!--l. 2428--><p class="indent" >             <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:223;" 
class="tabbing">3.14159265\s0                   </td><td  
class="tabbing">;Символ с именем <tt>3.14159265s0</tt></td></tr></table>
<!--l. 2429--><p class="indent" >     <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:223;" 
class="tabbing">3.14159265\S0                   </td><td  
class="tabbing">;Другой символ с именем <tt>3.14159265S0</tt></td></tr></table>
<!--l. 2430--><p class="indent" >   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:223;" 
class="tabbing">3.14159265s0                     </td><td  
class="tabbing">;short-format с плавающей точкой для аппроксимации числа <span class="math">π</span></td></tr></table>
<!--l. 2431--><p class="indent" >                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:223;" 
class="tabbing">APL\\360                        </td><td  
class="tabbing">;Символ с именем <tt>APL\360</tt></td></tr></table>
<!--l. 2432--><p class="indent" >            <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:223;" 
class="tabbing">apl\\360                          </td><td  
class="tabbing">;Также символ с именем <tt>APL\360</tt></td></tr></table>
<!--l. 2433--><p class="indent" >                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:223;" 
class="tabbing">\(b̂2\)\ -\ 4*a*c              </td><td  
class="tabbing">;Имя <tt>(B̂2) - 4*A*C</tt>;</td></tr></table>
<!--l. 2434--><p class="indent" >            <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:223;" 
class="tabbing">                                      </td><td  
class="tabbing">; содержит скобки и два пробела</td></tr></table>
<!--l. 2435--><p class="indent" >                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:223;" 
class="tabbing">\(\b̂2\)\ -\ 4*\a*\c          </td><td  
class="tabbing">;Имя <tt>(b̂2) - 4*a*c</tt>;</td></tr></table>
<!--l. 2436--><p class="indent" >
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:223;" 
class="tabbing">                            </td><td  
class="tabbing">; буквы явно указаны в нижнем регистре</td></tr></table>
<!--l. 2438--><p class="indent" >
</div>
                                                                          

                                                                          
</div>
<!--l. 2440--><p class="indent" >   Если таких «запрещённых» букв в имени много, использование <tt>\</tt> перед
<i>каждой</i> буквой утомительно. Альтернативным методом экранирования
знаков в имени символа является заключение всего имени или только
его части в скобки из вертикальных черт. Это эквивалентно тому,
что каждая буква была бы экранирована обратной косой чертой.
<div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:185;" 
class="tabbing">|&#x0022;|                            </td><td  
class="tabbing">;То же что и <tt>\&#x0022;</tt>
</td></tr></table>
<!--l. 2447--><p class="indent" >                              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:185;" 
class="tabbing">|(b̂2) - 4*a*c|            </td><td  
class="tabbing">;Имя <tt>(b̂2) - 4*a*c</tt></td></tr></table>
<!--l. 2448--><p class="indent" >                      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:185;" 
class="tabbing">|frobboz|                    </td><td  
class="tabbing">;Имя <tt>frobboz</tt>, а не <tt>FROBBOZ</tt></td></tr></table>
<!--l. 2449--><p class="indent" >     <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:185;" 
class="tabbing">|APL\360|                  </td><td  
class="tabbing">;Имя <tt>APL360</tt>, потому что <tt>\</tt> экранирует the <tt>3</tt></td></tr></table>
<!--l. 2450--><p class="indent" >                                     <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:185;" 
class="tabbing">|APL\\360|                </td><td  
class="tabbing">;Имя <tt>APL\360</tt></td></tr></table>
<!--l. 2451--><p class="indent" >                                     <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:185;" 
class="tabbing">|apl\\360|                  </td><td  
class="tabbing">;Имя <tt>apl\360</tt></td></tr></table>
<!--l. 2452--><p class="indent" >                       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:185;" 
class="tabbing">|\|\||                         </td><td  
class="tabbing">;То же, что и <tt>\|\|</tt>: имя <tt>||</tt></td></tr></table>
<!--l. 2453--><p class="indent" >                             <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:185;" 
class="tabbing">|(B̂2) - 4*A*C|          </td><td  
class="tabbing">;Имя <tt>(B̂2) - 4*A*C</tt>;</td></tr></table>
<!--l. 2454--><p class="indent" >                <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:185;" 
class="tabbing">                                </td><td  
class="tabbing">; содержит скобки и два пробела</td></tr></table>
<!--l. 2455--><p class="indent" >                              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:185;" 
class="tabbing">|(b̂2) - 4*a*c|            </td><td  
class="tabbing">;Имя <tt>(b̂2) - 4*a*c</tt></td></tr></table>
<!--l. 2457--><p class="indent" >
</div>
</div>
                                                                          

                                                                          
   <!--l. 2459--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse6.html" >Далее</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse4.html" >Назад</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse4.html#tailclmse4.html" >Назад-и-вниз</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse5.html" >В-начало</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch2.html#clmse5.html" >Вверх</a><tt>&#x003E;</tt></p></div>
<!--l. 2459--><p class="indent" >   <a 
 id="tailclmse5.html"></a>  
</body></html> 

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Строковые символы</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,next,charset=utf-8,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-03-13 16:31:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
</head><body 
>
   <!--l. 2483--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse5.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse3.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse3.html#tailclmse3.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse4.html">Tail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch2.html#clmse4.html" >Up</a><tt>&#x003E;</tt></p></div>
   <h3 class="sectionHead"><span class="titlemark">2.2   </span> <a 
 id="x11-230002.2"></a>Строковые символы</h3>
<!--l. 2485--><p class="noindent" >Строковые символы представляют собой объекты данных, принадлежащих
типу строковый символ (character).
<!--l. 2488--><p class="indent" >   Объект строкового символа может быть записан, как знак #\ и
последующий строковый символ. Например: #\g обозначает строковый
символ g в нижнем регистре. Это работает достаточно хорошо для вывода
символов. Невыводимые строковые символы имеют имена, и могут быть
записаны с помощью #\ и последующего имени; например, #\Space (или
#\SPACE или #\space или #\sPaCE) обозначает символ пробела. Синтаксис
для записи имени строкового символа после #\, такой же как и для Lisp
символов. Однако в работе могут использоваться только те имена, которые
известны данной реализации.
<!--l. 2498--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.2.1   </span> <a 
 id="x11-240002.2.1"></a>Стандартные строковые символы</h4>
<!--l. 2500--><p class="noindent" >Common Lisp определяет множество стандартных символов (подтип
standard-char) для двух целей. Common Lisp программы, которые <i>записаны</i>
используя множество стандартных символов, могут быть прочитаны любой
реализацией Common Lisp; и Common Lisp программы, которые <i>используют</i>
только стандартные символы в качестве объектов данных, скорее всего будут
портируемыми. Множество строковых символов Common Lisp состоит
из символа пробела, #\Space, символа новой строки #\Newline, и
следующих сорока четырех печатаемых символов и их эквивалентов:
<div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">! &#x0022; # $ % &#x0026; &#x2019; ( ) * + , - . / 0 1 2 3 4 5 6 7 8 9 : ; &#x003C; = &#x003E; ?
</td></tr></table>
<!--l. 2510--><p class="indent" >
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">@ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ \ ] ̂ _</td></tr></table>
                                                                          

                                                                          
<!--l. 2511--><p class="indent" >                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">‘ a b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~</td></tr></table>
<!--l. 2513--><p class="indent" >
</div>
</div>
<!--l. 2515--><p class="indent" >   Множество стандартных строковых символов Common Lisp&#x2019;а явно
соответствует множеству из сорока пяти стандартных ASCII печатаемых
символов и символа новой строки. Как бы то ни было, Common Lisp
спроектирован так, чтобы быть независимым от ASCII кодировки символов.
Например, сортировка последовательности не определена, кроме того, что
можно сказать, что цифры могут быть корректно отсортированы, буквы в
верхнем регистре могут быть корректно отсортрованы и буквы в нижнем
регистре могут быть корректно отсортированы (смотрите спецификацию
функции <a 
href="clmse74.html#x92-194025r337">char&#x003C;</a>). Другие реализация кодировка строковых символов, в
частности EBCDIC, должна быть легко приспособлена (с необходимым
соотвествием выводимых символов).
<!--l. 2526--><p class="indent" >   Из сорока четырех печатаемых символов, следующие испльзуются с
ограничениями связанными с синтаксисом Common Lisp програм:
<div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">[  ]  {  }  ?  !  ̂  _  ~  $  %
</td></tr></table>
<!--l. 2530--><p class="indent" >
</div>
</div>
<!--l. 2532--><p class="indent" >   Следующие строковые символы называются <i>слегка стандартизированными</i>:
<div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">#\Backspace  #\Tab  #\Linefeed  #\Page  #\Return  #\Rubout
</td></tr></table>
<!--l. 2535--><p class="indent" >
</div>
</div>
<!--l. 2537--><p class="indent" >   Не все реализации Common Lisp&#x2019;а нуждаются в поддержке этих
символов; но те реализации, что используют ASCII кодировку должны их
поддерживать, соответственно BS (восьмеричный код 010), HT (011), LF
                                                                          

                                                                          
(012), FF (014), CR (015) и DEL (177). Эти строковые символы не являются
членами подтипа standard-char, если не будут созданы синонимы для них.
Например, разработчик реализации может определить #\Linefeed или
#\Return как синоним для #\Newline, или #\Tab как синоним для
#\Space.
<!--l. 2547--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.2.2   </span> <a 
 id="x11-250002.2.2"></a>Разделители строк</h4>
<!--l. 2549--><p class="noindent" >Обработки разделителей строк является одним из самых сложных моментов
в проектировании переносимой программы, преимущественно потому, что
между операционными системами очень мало соглашений по этому поводу.
Некоторые используют только один символ; рекомендуемый для этого ASCII
символ является символом перевода строки LF (также называемый символом
новой строки, NL), но некоторые системы используют символ перевода
каретки CR. Более широко используется последовательность из двух
символов CR и последующем LF. Часто разделители строк не имеют
выводимого представления, но неявно влияют на структурирование файла в
записи, каждая запись содержит строку текста. Наприимер, дека перфокарт
имеет такию структуру.
<!--l. 2560--><p class="indent" >   Common Lisp предоставляет абстрактный интерфейс, требуя наличия
одного символа #\Newline, который являет разделителем строк. (Язык
C имеет подобное требование.) Реализация Common Lisp&#x2019;а должна
транслировать это односимвольное представление разделители в то, что
требуется во внешних системах в данной операционной системе.
<!--l. 2566--><p class="indent" >   Требование того, что разделитель строк должен быть представлен одним
символом, имеет следующие последствия. Строковый объект, записанный в
середине программы и содержащий несколько строк, должен содержать
только один символ для каждого разделителя. Рассмотрим фрагмент
следующего кода: <div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(setq a-string &#x0022;This string
</td></tr></table>
<!--l. 2571--><p class="indent" >                                                                  <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">contains</td></tr></table>
<!--l. 2572--><p class="indent" >                                                    <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">forty-two characters.&#x0022;)</td></tr></table>
<!--l. 2574--><p class="indent" >
                                                                          

                                                                          
</div>
</div>
<!--l. 2576--><p class="indent" >   Между g and c должен быть только один символ, #\Newline;
последовательность из двух строковых символов такая, как #\Return
и#\Newline, некорректна. Такя же ситуация и между s и <a 
href="clmse148.html#x181-415004r868">f</a>.
<!--l. 2582--><p class="indent" >   Когда строковый символ #\Newline записывается в выходной файл,
реализация Common Lisp&#x2019;а должна предпринять соотвествующие действия
для разделения строк. Это может быть реализовано, как трансляция
#\Newline в последовательность CR/LF.
<!--l. 2587--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.2.3   </span> <a 
 id="x11-260002.2.3"></a>Нестандартные символы</h4>
<!--l. 2589--><p class="noindent" >Любая реализация может предоставлять дополнительные строковые
символы, и печатаемые и именовынные. Некоторые вероятные примеры:
<div class=lisp>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">#\π  #\α  #\Break  #\Home-Up  #\Escape
</td></tr></table>
<!--l. 2594--><p class="indent" >
</div>
</div>
<!--l. 2596--><p class="indent" >   Использование таких символов, может создавать проблемы для
портируемости Common Lisp программы.
                                                                          

                                                                          
   <!--l. 2599--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse5.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse3.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse3.html#tailclmse3.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse4.html" >Front</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch2.html#clmse4.html" >Up</a><tt>&#x003E;</tt></p></div>
<!--l. 2599--><p class="indent" >   <a 
 id="tailclmse4.html"></a>  
</body></html> 

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Defstruct Options</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,next,charset=utf-8,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-02-20 00:42:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
</head><body 
>
   <!--l. 471--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse108.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse106.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse106.html#tailclmse106.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse107.html">Tail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch19.html#clmse107.html" >Up</a><tt>&#x003E;</tt></p></div>
   <h3 class="sectionHead"><span class="titlemark">19.5   </span> <a 
 id="x131-17300019.5"></a>Defstruct Options</h3>
<!--l. 475--><p class="noindent" >The preceding description of <i>defstruct</i> is all that the average user will need (or
want) to know in order to use structures. The remainder of this chapter discusses
more complex features of the <i>defstruct</i> facility.
<!--l. 480--><p class="indent" >   This section explains each of the options that can be given to <i>defstruct</i>. A
<i>defstruct</i> option may be either a keyword or a list of a keyword and arguments for
that keyword. (Note that the syntax for <i>defstruct</i> options diﬀers from
the pair syntax used for slot-options. No part of any of these options is
evaluated.)
<div class=flushdesc>
<!--l. 488--><p class="indent" >
  <div><br /><b>
<i>:conc-name</i>                                                               </b>
This  provides  for  automatic  preﬁxing  of  names  of  access  functions.  It  is
conventional to begin the names of all the access functions of a structure
with a speciﬁc preﬁx, the name of the structure followed by a hyphen. This
is the default behavior.
<!--l. 495--><p class="indent" >  The argument to the <i>:conc-name</i> option speciﬁes an alternative preﬁx to
be used. (If a hyphen is to be used as a separator, it must be speciﬁed as
part of the preﬁx.) If <i>nil</i> is speciﬁed as an argument, then no preﬁx is used;
then the names of the access functions are the same as the slot-names, and
it is up to the user to name the slots reasonably.
<!--l. 503--><p class="indent" >  Note that no matter what is speciﬁed for <i>:conc-name</i>, with a constructor
function one uses slot keywords that match the slot-names, with no preﬁx
attached. On the other hand, one uses the access-function name when using <i>setf </i>.
Here is an example: <div class=lisp> <div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(defstruct door knob-color width material)
</td></tr></table>
                                                                          

                                                                          
<!--l. 509--><p class="indent" >                                                             <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(setq my-door</td></tr></table>
<!--l. 510--><p class="indent" >                            <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">      (make-door :knob-color &#x2019;red :width 5.0))</td></tr></table>
<!--l. 511--><p class="indent" >                                             <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(door-width my-door)  ⇒ 5.0</td></tr></table>
<!--l. 512--><p class="indent" >                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(setf (door-width my-door) 43.7)</td></tr></table>
<!--l. 513--><p class="indent" >                                            <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(door-width my-door)  ⇒ 43.7</td></tr></table>
<!--l. 514--><p class="indent" >                                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(door-knob-color my-door)  ⇒ red</td></tr></table>
<!--l. 516--><p class="indent" >
</div>
</div>
  <br /><b>
<i>:constructor</i>                                                              </b>This
option takes one argument, a symbol, which speciﬁes the name of the constructor
function. If the argument is not provided or if the option itself is not
provided, the name of the constructor is produced by concatenating the
string <i>&#x0022;MAKE-&#x0022;</i> and the name of the structure, putting the name in
whatever package is current at the time the <i>defstruct</i> form is processed (see
<i>*package*</i>). If the argument is provided and is <i>nil</i>, no constructor function is
deﬁned.
<!--l. 529--><p class="indent" >  This option actually has a more general syntax that is explained in
section <a 
href="clmse108.html#x132-17400019.6">19.6<!--tex4ht:ref: DEFSTRUCT-CONSTRUCTOR-SYNTAX --></a>.
  <br /><b>
<i>:copier</i>                                                                   </b>This
option takes one argument, a symbol, which speciﬁes the name of the
copier function. If the argument is not provided or if the option itself is
not provided, the name of the copier is produced by concatenating the
string <i>&#x0022;COPY-&#x0022;</i> and the name of the structure, putting the name in
whatever package is current at the time the <i>defstruct</i> form is processed (see
<i>*package*</i>). If the argument is provided and is <i>nil</i>, no copier function is
deﬁned.
<!--l. 542--><p class="indent" >  The automatically deﬁned copier function simply makes a new structure
and transfers all components verbatim from the argument into the newly
created structure. No attempt is made to make copies of the components.
Corresponding components of the old and new structures will therefore be
<i>eql</i>.
                                                                          

                                                                          
  <br /><b>
<i>:predicate</i>                                                                 </b>This
option takes one argument, which speciﬁes the name of the type predicate. If the
argument is not provided or if the option itself is not provided, the name of the
predicate is made by concatenating the name of the structure to the string <i>&#x0022;-P&#x0022;</i>,
putting the name in whatever package is current at the time the <i>defstruct</i> form is
processed (see <i>*package*</i>). If the argument is provided and is <i>nil</i>, no predicate
is deﬁned. A predicate can be deﬁned only if the structure is “named”;
if the <i>:type</i> option is speciﬁed and the <i>:named</i> option is not speciﬁed,
then the <i>:predicate</i> option must either be unspeciﬁed or have the value
<i>nil</i>.
  <br /><b>
<i>:include</i>                                                                   </b>This
option is used for building a new structure deﬁnition as an extension of an old
structure deﬁnition. As an example, suppose you have a structure called <i>person</i>
that looks like this: <div class=lisp> <div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(defstruct person name age sex)
</td></tr></table>
<!--l. 569--><p class="indent" >
</div>
</div>
<!--l. 570--><p class="noindent" >Now suppose you want to make a new structure to represent an astronaut. Since
astronauts are people too, you would like them also to have the attributes of
name, age, and sex, and you would like Lisp functions that operate on <i>person</i>
structures to operate just as well on <i>astronaut</i> structures. You can do this by
deﬁning <i>astronaut</i> with the <i>:include</i> option, as follows:
<div class=lisp>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(defstruct (astronaut (:include person)
</td></tr></table>
<!--l. 578--><p class="indent" >                            <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">                      (:conc-name astro-))</td></tr></table>
                                                                          

                                                                          
<!--l. 579--><p class="indent" >                                                            <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">   helmet-size</td></tr></table>
<!--l. 580--><p class="indent" >                                              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">   (favorite-beverage &#x2019;tang))</td></tr></table>
<!--l. 582--><p class="indent" >
</div>
</div>
<!--l. 584--><p class="indent" >  The <i>:include</i> option causes the structure being deﬁned to have the same slots
as the included structure. This is done in such a way that the access
functions for the included structure will also work on the structure being
deﬁned. In this example, an <i>astronaut</i> will therefore have ﬁve slots: the
three deﬁned in <i>person</i> and the two deﬁned in <i>astronaut</i> itself. The access
functions deﬁned by the <i>person</i> structure can be applied to instances of the
<i>astronaut</i> structure, and they will work correctly. Moreover, <i>astronaut</i>
will have its own access functions for components deﬁned by the <i>person</i>
structure. The following examples illustrate how you can use <i>astronaut</i>
structures:
<div class=lisp>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(setq x (make-astronaut :name &#x2019;buzz
</td></tr></table>
<!--l. 601--><p class="indent" >                                       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">                        :age 45</td></tr></table>
<!--l. 602--><p class="indent" >                                         <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">                        :sex t</td></tr></table>
<!--l. 603--><p class="indent" >                            <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">                        :helmet-size 17.5))</td></tr></table>
<!--l. 604--><p class="indent" >                                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"></td></tr></table>
<!--l. 605--><p class="indent" >                                                 <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(person-name x)  ⇒ buzz</td></tr></table>
<!--l. 606--><p class="indent" >                                                  <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(astro-name x)  ⇒ buzz</td></tr></table>
<!--l. 607--><p class="indent" >                                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"></td></tr></table>
<!--l. 608--><p class="indent" >                                       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(astro-favorite-beverage x)  ⇒ tang</td></tr></table>
<!--l. 610--><p class="indent" >
</div>
</div>
<!--l. 611--><p class="noindent" >The diﬀerence between the access functions <i>person-name</i> and <i>astro-name</i> is
that <i>person-name</i> may be correctly applied to any <i>person</i>, including an
<i>astronaut</i>, while <i>astro-name</i> may be correctly applied only to an <i>astronaut</i>.
                                                                          

                                                                          
(An implementation may or may not check for incorrect use of access
functions.)
<!--l. 617--><p class="indent" >  At most one <i>:include</i> option may be speciﬁed in a single <i>defstruct</i> form. The
argument to the <i>:include</i> option is required and must be the name of some
previously deﬁned structure. If the structure being deﬁned has no <i>:type</i> option,
then the included structure must also have had no <i>:type</i> option speciﬁed for it. If
the structure being deﬁned has a <i>:type</i> option, then the included structure must
have been declared with a <i>:type</i> option specifying the same representation
type.
<!--l. 627--><p class="indent" >  If no <i>:type</i> option is involved, then the structure name of the including structure
deﬁnition becomes the name of a data type, of course, and therefore a valid type
speciﬁer recognizable by <i>typep</i>; moreover, it becomes a subtype of the included
structure. In the above example, <i>astronaut</i> is a subtype of <i>person</i>; hence <div class=lisp>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(typep (make-astronaut) &#x2019;person)
</td></tr></table>
<!--l. 635--><p class="indent" >
</div>
</div>
<!--l. 636--><p class="noindent" >is true, indicating that all operations on persons will also work on astronauts.
<!--l. 639--><p class="indent" >  The following is an advanced feature of the <i>:include</i> option. Sometimes, when
one structure includes another, the default values or slot-options for the slots that
came from the included structure are not what you want. The new structure can
specify default values or slot-options for the included slots diﬀerent from
those the included structure speciﬁes, by giving the <i>:include</i> option as <div class=lisp>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(:include name slot-description-1 slot-description-2 ...)
</td></tr></table>
<!--l. 647--><p class="indent" >
</div>
</div>
<!--l. 648--><p class="noindent" >Each slot-description-j must have a slot-name or slot-keyword that is the same as
that of some slot in the included structure. If slot-description-j has no
                                                                          

                                                                          
default-init, then in the new structure the slot will have no initial value.
Otherwise its initial value form will be replaced by the default-init in
slot-description-j. A normally writable slot may be made read-only. If a
slot is read-only in the included structure, then it must also be so in the
including structure. If a type is speciﬁed for a slot, it must be the same as,
or a subtype of, the type speciﬁed in the included structure. If it is a
strict subtype, the implementation may or may not choose to error-check
assignments.
<!--l. 661--><p class="indent" >  For example, if we had wanted to deﬁne <i>astronaut</i> so that the default age for an
astronaut is <i>45</i>, then we could have said: <div class=lisp> <div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(defstruct (astronaut (:include person (age 45)))
</td></tr></table>
<!--l. 664--><p class="indent" >                                                            <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">   helmet-size</td></tr></table>
<!--l. 665--><p class="indent" >                                              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">   (favorite-beverage &#x2019;tang))</td></tr></table>
<!--l. 667--><p class="indent" >
</div>
</div>
<div class=new>
<!--l. 670--><p class="indent" >  X3J13 voted in June 1988 ⟨<b>?</b>⟩ to require any structure type created by <i>defstruct</i>
(or <i>defclass</i>) to be disjoint from any of the types <i>cons</i>, <i>symbol</i>, <i>array</i>, <i>number</i>,
<i>character</i>, <i>hash-table</i>, <i>readtable</i>, <i>package</i>, <i>pathname</i>, <i>stream</i>, and <i>random-state</i>. A
consequence of this requirement is that it is an error to specify any of
these types, or any of their subtypes, to the <i>defstruct</i> <i>:include</i> option.
(The ﬁrst edition said nothing explicitly about this. Inasmuch as using
such a type with the <i>:include</i> option was not deﬁned to work, one might
argue that such use was an error in Common Lisp as deﬁned by the ﬁrst
edition.)
</div>
  <br /><b>
<i>:print-function</i>                                                            </b>This
option may be used only if the <i>:type</i> option is not speciﬁed. The argument to the
<i>:print-function</i> option should be a function of three arguments, in a form
acceptable to the <i>function</i> special form, to be used to print structures of this type.
When a structure of this type is to be printed, the function is called on three
                                                                          

                                                                          
arguments: the structure to be printed, a stream to print to, and an integer
indicating the current depth (to be compared against <i>*print-level*</i>). The printing
function should observe the values of such printer-control variables as
<i>*print-escape*</i> and <i>*print-pretty*</i>.
<!--l. 701--><p class="indent" >  If the <i>:print-function</i> option is not speciﬁed and the <i>:type</i> option also not
speciﬁed, then a default printing function is provided for the structure that will
print out all its slots using <i>#S</i> syntax (see section <a 
href="clmse115.html#x142-19100022.1.4">22.1.4<!--tex4ht:ref: SHARP-SIGN-MACRO-CHARACTER-SECTION --></a>).
<div class=new>
<!--l. 707--><p class="indent" >  X3J13 voted in January 1989 ⟨<b>?</b>⟩ to specify that user-deﬁned printing functions
for the <i>defstruct</i> <i>:print-function</i> option may print objects to the supplied stream
using <i>write</i>, <i>print1</i>, <i>princ</i>, <i>format</i>, or <i>print-object</i> and expect circularities to be
detected and printed using <i>#n#</i> syntax (when <i>*print-circle*</i> is non-<i>nil</i>, of
course). See <i>*print-circle*</i>.
</div>
<div class=new>
<!--l. 719--><p class="indent" >  X3J13 voted in January 1989 ⟨<b>?</b>⟩ to clarify that if the <i>:print-function</i>
option is not speciﬁed but the <i>:include</i> option is speciﬁed, then the print
function is inherited from the included structure type. Thus, for example, an
<i>astronaut</i> will be printed by the same printing function that is used for
<i>person</i>.
<!--l. 727--><p class="indent" >  X3J13 in the same vote extended the <i>print-function</i> option as follows: If the
<i>print-function</i> option is speciﬁed but with no argument, then the standard default
printing function (that uses <i>#S</i> syntax) will be used. This provides a means of
overriding the inheritance rule. For example, if <i>person</i> and <i>astronaut</i> had been
deﬁned as <div class=lisp> <div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(defstruct (person
</td></tr></table>
<!--l. 734--><p class="indent" >                <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">             (:print-function     ;Special print function</td></tr></table>
<!--l. 735--><p class="indent" >                                            <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">             (lambda (p s k)</td></tr></table>
<!--l. 736--><p class="indent" >                              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">               (format s &#x0022;&#x003C;<tt>~</tt>A, age <tt>~</tt>D&#x003E;&#x0022;</td></tr></table>
<!--l. 737--><p class="indent" >                               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">                       (person-name p)</td></tr></table>
<!--l. 738--><p class="indent" >                              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">                       (person-age p)))))</td></tr></table>
<!--l. 739--><p class="indent" >                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  name age sex)</td></tr></table>
<!--l. 740--><p class="indent" >                                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"></td></tr></table>
<!--l. 741--><p class="indent" >                                                      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(defstruct (astronaut</td></tr></table>
<!--l. 742--><p class="indent" >                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">             (:include person)</td></tr></table>
                                                                          

                                                                          
<!--l. 743--><p class="indent" >                                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">             (:conc-name astro-)</td></tr></table>
<!--l. 744--><p class="indent" >          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">             (:print-function))     ;Use default print function</td></tr></table>
<!--l. 745--><p class="indent" >                                                            <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">   helmet-size</td></tr></table>
<!--l. 746--><p class="indent" >                                              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">   (favorite-beverage &#x2019;tang))</td></tr></table>
<!--l. 748--><p class="indent" >
</div>
</div>
<!--l. 749--><p class="noindent" >then an ordinary person would be printed as “<i>&#x003C;Joe Schmoe, age 27&#x003E;</i>” but an
astronaut would be printed as, for example, <div class=lisp> <div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">#S(ASTRONAUT NAME BUZZ AGE 45 SEX T
</td></tr></table>
<!--l. 752--><p class="indent" >                <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">   HELMET-SIZE 17.5 FAVORITE-BEVERAGE TANG)</td></tr></table>
<!--l. 754--><p class="indent" >
</div>
</div>
<!--l. 755--><p class="noindent" >using the default <i>#S</i> syntax (yuk).
<!--l. 757--><p class="indent" >  These changes make the behavior of <i>defstruct</i> with respect to the <i>:include</i>
option a bit more like the behavior of classes in CLOS.
</div>
  <br /><b>
<i>:type</i>                                                                      </b>
The <i>:type</i> option explicitly speciﬁes the representation to be used for the
structure. It takes one argument, which must be one of the types enumerated
below.
<!--l. 766--><p class="indent" >  Specifying this option has the eﬀect of forcing a speciﬁc representation and of
forcing the components to be stored in the order speciﬁed in the <i>defstruct</i> form in
corresponding successive elements of the speciﬁed representation. It also prevents
the structure name from becoming a valid type speciﬁer recognizable by <i>typep</i> (see
section <a 
href="clmse109.html#x133-17500019.7">19.7<!--tex4ht:ref: EXPLICIT-TYPE-STRUCTURES --></a>).
<!--l. 774--><p class="indent" >  Normally this option is not speciﬁed, in which case the structure is represented
in an implementation-dependent manner.
        <div class="quotation">
                                                                          

                                                                          
<div class=flushdesc>
     <!--l. 778--><p class="indent" >
  <div><br /><b>
<i>vector</i>                                                               </b>
This produces the same result as specifying <i>(vector t)</i>. The structure is
represented as a general vector, storing components as vector elements.
The ﬁrst component is vector element 1 if the structure is <i>:named</i>, and
element 0 otherwise.
  <br /><b>
<i>(vector element-type)</i>                                                 </b>
The structure is represented as a (possibly specialized) vector, storing
components as vector elements. Every component must be of a type
that can be stored in a vector of the type speciﬁed. The ﬁrst component
is vector element 1 if the structure is <i>:named</i>, and element 0 otherwise.
The structure may be <i>:named</i> only if the type <i>symbol</i> is a subtype of
the speciﬁed <i>element-type</i>.
  <br /><b>
<i>list</i>                                                                  </b>
The structure is represented as a list. The ﬁrst component is the cadr if
the structure is <i>:named</i>, and the car if it is <i>:unnamed</i>.</div>
</div>
     </div>
  <br /><b>
<i>:named</i>                                                                   </b>The
<i>:named</i> option speciﬁes that the structure is “named”; this option takes no
argument. If no <i>:type</i> option is speciﬁed, then the structure is always named; so
this option is useful only in conjunction with the <i>:type</i> option. See section <a 
href="clmse109.html#x133-17500019.7">19.7<!--tex4ht:ref: EXPLICIT-TYPE-STRUCTURES --></a> for
a further description of this option.
  <br /><b>
<i>:initial-oﬀset</i>                                                              </b>This
allows you to tell <i>defstruct</i> to skip over a certain number of slots before it
starts allocating the slots described in the body. This option requires an
                                                                          

                                                                          
argument, a non-negative integer, which is the number of slots you want
<i>defstruct</i> to skip. The <i>:initial-oﬀset</i> option may be used only if the <i>:type</i>
option is also speciﬁed. See section <a 
href="clmse109.html#x133-17800019.7.3">19.7.3<!--tex4ht:ref: DEFSTRUCT-INITIAL-OFFSET --></a> for a further description of this
option.</div>
</div>
                                                                          

                                                                          
   <!--l. 820--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse108.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse106.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse106.html#tailclmse106.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse107.html" >Front</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch19.html#clmse107.html" >Up</a><tt>&#x003E;</tt></p></div>
<!--l. 820--><p class="indent" >   <a 
 id="tailclmse107.html"></a>  
</body></html> 

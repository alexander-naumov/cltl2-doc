<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Defstruct Options</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,next,charset=utf-8,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-03-09 12:51:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
</head><body 
>
   <!--l. 471--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse108.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse106.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse106.html#tailclmse106.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse107.html">Tail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch19.html#clmse107.html" >Up</a><tt>&#x003E;</tt></p></div>
   <h3 class="sectionHead"><span class="titlemark">19.5   </span> <a 
 id="x131-25400019.5"></a>Defstruct Options</h3>
<!--l. 475--><p class="noindent" >The preceding description of <a 
href="clmse104.html#x128-250002r619">defstruct</a> is all that the average user will need (or
want) to know in order to use structures. The remainder of this chapter discusses
more complex features of the <a 
href="clmse104.html#x128-250002r619">defstruct</a> facility.
<!--l. 480--><p class="indent" >   This section explains each of the options that can be given to <a 
href="clmse104.html#x128-250002r619">defstruct</a>. A
<a 
href="clmse104.html#x128-250002r619">defstruct</a> option may be either a keyword or a list of a keyword and arguments for
that keyword. (Note that the syntax for <a 
href="clmse104.html#x128-250002r619">defstruct</a> options diﬀers from
the pair syntax used for slot-options. No part of any of these options is
evaluated.)
<div class=flushdesc>
<!--l. 488--><p class="indent" >
      <ul><li><b>
:conc-name </b></li>This  provides  for  automatic  preﬁxing  of  names  of  access
      functions.  It  is  conventional  to  begin  the  names  of  all  the  access
      functions of a structure with a speciﬁc preﬁx, the name of the structure
      followed by a hyphen. This is the default behavior.
      <!--l. 495--><p class="noindent" >The argument to the :conc-name option speciﬁes an alternative preﬁx
      to be used. (If a hyphen is to be used as a separator, it must be speciﬁed
      as part of the preﬁx.) If <a 
href="clmse31.html#x42-77002r19">nil</a> is speciﬁed as an argument, then no preﬁx
      is used; then the names of the access functions are the same as the
      slot-names, and it is up to the user to name the slots reasonably.
      <!--l. 503--><p class="noindent" >Note that no matter what is speciﬁed for :conc-name, with a constructor
      function one uses slot keywords that match the slot-names, with no preﬁx
      attached. On the other hand, one uses the access-function name when using
      <a 
href="clmse36.html#x48-93002r66">setf</a>. Here is an example: <div class=lisp> <div class=tabbing>
      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">(defstruct door knob-color width material)
</td></tr></table>
                                                                          

                                                                          
      <!--l. 509--><p class="noindent" >                                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">(setq my-door</td></tr></table>
      <!--l. 510--><p class="noindent" >                              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">      (make-door :knob-color &#x2019;red :width 5.0))</td></tr></table>
      <!--l. 511--><p class="noindent" >                                                     <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">(door-width my-door)  ⇒ 5.0</td></tr></table>
      <!--l. 512--><p class="noindent" >                                                 <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">(setf (door-width my-door) 43.7)</td></tr></table>
      <!--l. 513--><p class="noindent" >                                                    <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">(door-width my-door)  ⇒ 43.7</td></tr></table>
      <!--l. 514--><p class="noindent" >                                               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">(door-knob-color my-door)  ⇒ red</td></tr></table>
      <!--l. 516--><p class="noindent" >
</div>
</div>
      <li><b>
:constructor </b></li>This option takes one argument, a symbol, which speciﬁes the name
      of the constructor function. If the argument is not provided or if the option
      itself is not provided, the name of the constructor is produced by
      concatenating the string &#x0022;MAKE-&#x0022; and the name of the structure, putting
      the name in whatever package is current at the time the <a 
href="clmse104.html#x128-250002r619">defstruct</a> form is
      processed (see <a 
href="clmse63.html#x79-187003r173">*package*</a>). If the argument is provided and is <a 
href="clmse31.html#x42-77002r19">nil</a>, no
      constructor function is deﬁned.
      <!--l. 529--><p class="noindent" >This option actually has a more general syntax that is explained in
      section <a 
href="clmse108.html#x132-25500019.6">19.6<!--tex4ht:ref: DEFSTRUCT-CONSTRUCTOR-SYNTAX --></a>.
      <li><b>
:copier </b></li>This option takes one argument, a symbol, which speciﬁes the name of the
      copier function. If the argument is not provided or if the option itself is not
      provided, the name of the copier is produced by concatenating the string
      &#x0022;COPY-&#x0022; and the name of the structure, putting the name in whatever
      package is current at the time the <a 
href="clmse104.html#x128-250002r619">defstruct</a> form is processed (see
      <a 
href="clmse63.html#x79-187003r173">*package*</a>). If the argument is provided and is <a 
href="clmse31.html#x42-77002r19">nil</a>, no copier function is
      deﬁned.
      <!--l. 542--><p class="noindent" >The automatically deﬁned copier function simply makes a new structure and
      transfers all components verbatim from the argument into the newly created
      structure. No attempt is made to make copies of the components.
      Corresponding components of the old and new structures will therefore be
      <a 
href="clmse33.html#x44-81005r47">eql</a>.
                                                                          

                                                                          
      <li><b>
:predicate </b></li>This option takes one argument, which speciﬁes the name of the type
      predicate. If the argument is not provided or if the option itself is not
      provided, the name of the predicate is made by concatenating the name of
      the structure to the string &#x0022;-P&#x0022;, putting the name in whatever package is
      current at the time the <a 
href="clmse104.html#x128-250002r619">defstruct</a> form is processed (see <a 
href="clmse63.html#x79-187003r173">*package*</a>).
      If the argument is provided and is <a 
href="clmse31.html#x42-77002r19">nil</a>, no predicate is deﬁned. A
      predicate can be deﬁned only if the structure is “named”; if the
      :type option is speciﬁed and the :named option is not speciﬁed, then
      the :predicate option must either be unspeciﬁed or have the value
      <a 
href="clmse31.html#x42-77002r19">nil</a>.
      <li><b>
:include </b></li>This option is used for building a new structure deﬁnition as an
      extension of an old structure deﬁnition. As an example, suppose you have a
      structure called person that looks like this: <div class=lisp> <div class=tabbing>
      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">(defstruct person name age sex)
</td></tr></table>
      <!--l. 569--><p class="noindent" >
</div>
</div>
      <!--l. 570--><p class="noindent" >Now suppose you want to make a new structure to represent an astronaut.
      Since astronauts are people too, you would like them also to have the
      attributes of name, age, and sex, and you would like Lisp functions that
      operate on person structures to operate just as well on astronaut structures.
      You can do this by deﬁning astronaut with the :include option, as
      follows:
<div class=lisp>
<div class=tabbing>
      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">(defstruct (astronaut (:include person)
</td></tr></table>
                                                                          

                                                                          
      <!--l. 578--><p class="noindent" >                               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">                      (:conc-name astro-))</td></tr></table>
      <!--l. 579--><p class="noindent" >                                                                         <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">   helmet-size</td></tr></table>
      <!--l. 580--><p class="noindent" >                                                      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">   (favorite-beverage &#x2019;tang))</td></tr></table>
      <!--l. 582--><p class="noindent" >
</div>
</div>
      <!--l. 584--><p class="noindent" >The :include option causes the structure being deﬁned to have the same
      slots as the included structure. This is done in such a way that the access
      functions for the included structure will also work on the structure being
      deﬁned. In this example, an astronaut will therefore have ﬁve slots: the three
      deﬁned in person and the two deﬁned in astronaut itself. The access
      functions deﬁned by the person structure can be applied to instances of the
      astronaut structure, and they will work correctly. Moreover, astronaut will
      have its own access functions for components deﬁned by the person
      structure. The following examples illustrate how you can use astronaut
      structures:
<div class=lisp>
<div class=tabbing>
      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">(setq x (make-astronaut :name &#x2019;buzz
</td></tr></table>
      <!--l. 601--><p class="noindent" >                                             <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">                        :age 45</td></tr></table>
      <!--l. 602--><p class="noindent" >                                               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">                        :sex t</td></tr></table>
      <!--l. 603--><p class="noindent" >                              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">                        :helmet-size 17.5))</td></tr></table>
      <!--l. 604--><p class="noindent" >                                                                                            <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing"></td></tr></table>
      <!--l. 605--><p class="noindent" >                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">(person-name x)  ⇒ buzz</td></tr></table>
      <!--l. 606--><p class="noindent" >                                                            <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">(astro-name x)  ⇒ buzz</td></tr></table>
      <!--l. 607--><p class="noindent" >                                                                                            <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing"></td></tr></table>
      <!--l. 608--><p class="noindent" >                                             <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">(astro-favorite-beverage x)  ⇒ tang</td></tr></table>
      <!--l. 610--><p class="noindent" >
                                                                          

                                                                          
</div>
</div>
      <!--l. 611--><p class="noindent" >The diﬀerence between the access functions person-name and astro-name is
      that person-name may be correctly applied to any person, including an
      astronaut, while astro-name may be correctly applied only to an astronaut.
      (An implementation may or may not check for incorrect use of access
      functions.)
      <!--l. 617--><p class="noindent" >At most one :include option may be speciﬁed in a single <a 
href="clmse104.html#x128-250002r619">defstruct</a> form. The
      argument to the :include option is required and must be the name of
      some previously deﬁned structure. If the structure being deﬁned
      has no :type option, then the included structure must also have
      had no :type option speciﬁed for it. If the structure being deﬁned
      has a :type option, then the included structure must have been
      declared with a :type option specifying the same representation
      type.
      <!--l. 627--><p class="noindent" >If no :type option is involved, then the structure name of the including
      structure deﬁnition becomes the name of a data type, of course, and
      therefore a valid type speciﬁer recognizable by <a 
href="clmse32.html#x43-79002r21">typep</a>; moreover, it becomes
      a subtype of the included structure. In the above example, astronaut is a
      subtype of person; hence <div class=lisp> <div class=tabbing>
      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">(typep (make-astronaut) &#x2019;person)
</td></tr></table>
      <!--l. 635--><p class="noindent" >
</div>
</div>
      <!--l. 636--><p class="noindent" >is true, indicating that all operations on persons will also work on
      astronauts.
      <!--l. 639--><p class="noindent" >The following is an advanced feature of the :include option. Sometimes,
      when one structure includes another, the default values or slot-options for
      the slots that came from the included structure are not what you want. The
      new structure can specify default values or slot-options for the included slots
      diﬀerent from those the included structure speciﬁes, by giving the :include
      option as <div class=lisp> <div class=tabbing>
                                                                          

                                                                          
      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">(:include name slot-description-1 slot-description-2 ...)
</td></tr></table>
      <!--l. 647--><p class="noindent" >
</div>
</div>
      <!--l. 648--><p class="noindent" >Each slot-description-j must have a slot-name or slot-keyword that is the
      same as that of some slot in the included structure. If slot-description-j has
      no default-init, then in the new structure the slot will have no initial value.
      Otherwise its initial value form will be replaced by the default-init in
      slot-description-j. A normally writable slot may be made read-only. If a slot
      is read-only in the included structure, then it must also be so in the
      including structure. If a type is speciﬁed for a slot, it must be the same as,
      or a subtype of, the type speciﬁed in the included structure. If it is a strict
      subtype, the implementation may or may not choose to error-check
      assignments.
      <!--l. 661--><p class="noindent" >For example, if we had wanted to deﬁne astronaut so that the default age
      for an astronaut is 45, then we could have said: <div class=lisp> <div class=tabbing>
      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">(defstruct (astronaut (:include person (age 45)))
</td></tr></table>
      <!--l. 664--><p class="noindent" >                                                                         <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">   helmet-size</td></tr></table>
      <!--l. 665--><p class="noindent" >                                                      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">   (favorite-beverage &#x2019;tang))</td></tr></table>
      <!--l. 667--><p class="noindent" >
</div>
</div>
<div class=new>
      <!--l. 670--><p class="noindent" >X3J13 voted in June 1988 <a 
 id="dx131-254001"></a>to require any structure type created by <a 
href="clmse104.html#x128-250002r619">defstruct</a>
      (or <a 
href="clmse151.html#x184-437022r920">defclass</a>) to be disjoint from any of the types <a 
href="clmse86.html#x106-224062r474">cons</a>, <a 
href="clmch10.html#x68-17500010">symbol</a>, array,
      number, <a 
href="clmse79.html#x97-215002r384">character</a>, hash-table, readtable, package, <a 
href="clmse119.html#x147-301005r742">pathname</a>, stream, and
      random-state. A consequence of this requirement is that it is an error to
      specify any of these types, or any of their subtypes, to the <a 
href="clmse104.html#x128-250002r619">defstruct</a> :include
                                                                          

                                                                          
      option. (The ﬁrst edition said nothing explicitly about this. Inasmuch as
      using such a type with the :include option was not deﬁned to work, one
      might argue that such use was an error in Common Lisp as deﬁned by the
      ﬁrst edition.)
      </div>
      <li><b>
:print-function </b></li>This option may be used only if the :type option is not speciﬁed.
      The argument to the :print-function option should be a function of three
      arguments, in a form acceptable to the <a 
href="clmse35.html#x47-88006r54">function</a> special form, to be used to
      print structures of this type. When a structure of this type is to be printed,
      the function is called on three arguments: the structure to be printed, a
      stream to print to, and an integer indicating the current depth (to be
      compared against *print-level*). The printing function should observe
      the values of such printer-control variables as *print-escape* and
      *print-pretty*.
      <!--l. 701--><p class="noindent" >If the :print-function option is not speciﬁed and the :type option
      also not speciﬁed, then a default printing function is provided for
      the structure that will print out all its slots using #S syntax (see
      section <a 
href="clmse115.html#x142-27600022.1.4">22.1.4<!--tex4ht:ref: SHARP-SIGN-MACRO-CHARACTER-SECTION --></a>).
<div class=new>
      <!--l. 707--><p class="noindent" >X3J13 voted in January 1989 <a 
 id="dx131-254002"></a>to specify that user-deﬁned printing functions
      for the <a 
href="clmse104.html#x128-250002r619">defstruct</a> :print-function option may print objects to the supplied
      stream using <a 
href="clmse117.html#x144-284006r711">write</a>, print1, <a 
href="clmse117.html#x144-284014r715">princ</a>, <a 
href="clmse117.html#x144-287003r730">format</a>, or <a 
href="clmse151.html#x184-444038r968">print-object</a> and expect
      circularities to be detected and printed using #n# syntax (when
      *print-circle* is non-<a 
href="clmse31.html#x42-77002r19">nil</a>, of course). See *print-circle*.
      </div>
<div class=new>
      <!--l. 719--><p class="noindent" >X3J13 voted in January 1989 <a 
 id="dx131-254003"></a>to clarify that if the :print-function option is
      not speciﬁed but the :include option is speciﬁed, then the print function is
      inherited from the included structure type. Thus, for example, an
      astronaut will be printed by the same printing function that is used for
      person.
      <!--l. 727--><p class="noindent" >X3J13 in the same vote extended the print-function option as follows: If the
      print-function option is speciﬁed but with no argument, then the standard
      default printing function (that uses #S syntax) will be used. This provides a
      means of overriding the inheritance rule. For example, if person and
                                                                          

                                                                          
      astronaut had been deﬁned as <div class=lisp> <div class=tabbing>
      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">(defstruct (person
</td></tr></table>
      <!--l. 734--><p class="noindent" >              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">             (:print-function     ;Special print function</td></tr></table>
      <!--l. 735--><p class="noindent" >                                                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">             (lambda (p s k)</td></tr></table>
      <!--l. 736--><p class="noindent" >                                <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">               (format s &#x0022;&#x003C;~A, age ~D&#x003E;&#x0022;</td></tr></table>
      <!--l. 737--><p class="noindent" >                                  <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">                       (person-name p)</td></tr></table>
      <!--l. 738--><p class="noindent" >                                <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">                       (person-age p)))))</td></tr></table>
      <!--l. 739--><p class="noindent" >                                                                      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">  name age sex)</td></tr></table>
      <!--l. 740--><p class="noindent" >                                                                                            <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing"></td></tr></table>
      <!--l. 741--><p class="noindent" >                                                                 <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">(defstruct (astronaut</td></tr></table>
      <!--l. 742--><p class="noindent" >                                                 <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">             (:include person)</td></tr></table>
      <!--l. 743--><p class="noindent" >                                              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">             (:conc-name astro-)</td></tr></table>
      <!--l. 744--><p class="noindent" >        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">             (:print-function))     ;Use default print function</td></tr></table>
      <!--l. 745--><p class="noindent" >                                                                         <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">   helmet-size</td></tr></table>
      <!--l. 746--><p class="noindent" >                                                      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">   (favorite-beverage &#x2019;tang))</td></tr></table>
      <!--l. 748--><p class="noindent" >
</div>
</div>
      <!--l. 749--><p class="noindent" >then an ordinary person would be printed as “&#x003C;Joe Schmoe, age 27&#x003E;” but
      an astronaut would be printed as, for example, <div class=lisp> <div class=tabbing>
      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">#S(ASTRONAUT NAME BUZZ AGE 45 SEX T
</td></tr></table>
      <!--l. 752--><p class="noindent" >               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">   HELMET-SIZE 17.5 FAVORITE-BEVERAGE TANG)</td></tr></table>
      <!--l. 754--><p class="noindent" >
                                                                          

                                                                          
</div>
</div>
      <!--l. 755--><p class="noindent" >using the default #S syntax (yuk).
      <!--l. 757--><p class="noindent" >These changes make the behavior of <a 
href="clmse104.html#x128-250002r619">defstruct</a> with respect to the :include
      option a bit more like the behavior of classes in CLOS.
      </div>
      <li><b>
:type </b></li>The :type option explicitly speciﬁes the representation to be used for the
      structure. It takes one argument, which must be one of the types
      enumerated below.
      <!--l. 766--><p class="noindent" >Specifying this option has the eﬀect of forcing a speciﬁc representation and
      of forcing the components to be stored in the order speciﬁed in the <a 
href="clmse104.html#x128-250002r619">defstruct</a>
      form in corresponding successive elements of the speciﬁed representation. It
      also prevents the structure name from becoming a valid type speciﬁer
      recognizable by <a 
href="clmse32.html#x43-79002r21">typep</a> (see section <a 
href="clmse109.html#x133-25600019.7">19.7<!--tex4ht:ref: EXPLICIT-TYPE-STRUCTURES --></a>).
      <!--l. 774--><p class="noindent" >Normally this option is not speciﬁed, in which case the structure is
      represented in an implementation-dependent manner.
           <div class="quotation">
<div class=flushdesc>
           <!--l. 778--><p class="noindent" >
    <ul><li><b>
<a 
href="clmse94.html#x116-238014r562">vector</a> </b></li>This  produces  the  same  result  as  specifying  (vector  t).
    The  structure  is  represented  as  a  general  vector,  storing
    components as vector elements. The ﬁrst component is vector
    element 1 if the structure is :named, and element 0 otherwise.
    <li><b>
(vector element-type) </b></li>The structure is represented as a (possibly
    specialized) vector, storing components as vector elements.
    Every component must be of a type that can be stored in
    a vector of the type speciﬁed. The ﬁrst component is vector
    element 1 if the structure is :named, and element 0 otherwise.
    The structure may be :named only if the type <a 
href="clmch10.html#x68-17500010">symbol</a> is a
    subtype of the speciﬁed element-type.
                                                                          

                                                                          
    <li><b>
<a 
href="clmse87.html#x107-225038r493">list</a> </b></li>The structure is represented as a list. The ﬁrst component
    is the cadr if the structure is :named, and the car if it is
    :unnamed.</ul>
</div>
           </div>
      <li><b>
:named </b></li>The :named option speciﬁes that the structure is “named”; this option
      takes no argument. If no :type option is speciﬁed, then the structure is
      always named; so this option is useful only in conjunction with
      the :type option. See section <a 
href="clmse109.html#x133-25600019.7">19.7<!--tex4ht:ref: EXPLICIT-TYPE-STRUCTURES --></a> for a further description of this
      option.
      <li><b>
:initial-oﬀset </b></li>This allows you to tell <a 
href="clmse104.html#x128-250002r619">defstruct</a> to skip over a certain number of
      slots before it starts allocating the slots described in the body. This option
      requires an argument, a non-negative integer, which is the number of slots
      you want <a 
href="clmse104.html#x128-250002r619">defstruct</a> to skip. The :initial-oﬀset option may be used only if the
      :type option is also speciﬁed. See section <a 
href="clmse109.html#x133-25900019.7.3">19.7.3<!--tex4ht:ref: DEFSTRUCT-INITIAL-OFFSET --></a> for a further description of
      this option.</ul>
</div>
                                                                          

                                                                          
   <!--l. 820--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse108.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse106.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse106.html#tailclmse106.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse107.html" >Front</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch19.html#clmse107.html" >Up</a><tt>&#x003E;</tt></p></div>
<!--l. 820--><p class="indent" >   <a 
 id="tailclmse107.html"></a>  
</body></html> 

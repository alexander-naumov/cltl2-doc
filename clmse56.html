<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Creating Symbols</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,next,charset=utf-8,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-02-22 01:55:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
</head><body 
>
   <!--l. 379--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmch11.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse55.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse55.html#tailclmse55.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse56.html">Tail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch10.html#clmse56.html" >Up</a><tt>&#x003E;</tt></p></div>
   <h3 class="sectionHead"><span class="titlemark">10.3   </span> <a 
 id="x71-11000010.3"></a>Creating Symbols</h3>
<!--l. 381--><p class="noindent" >Symbols can be used in two rather diﬀerent ways. An interned symbol is one that
is indexed by its print name in a catalogue called a package. A request to locate a
symbol with that print name results in the same (<a 
href="clmse33.html#x44-74002r46">eq</a>) symbol. Every time input is
read with the function <a 
href="clmse116.html#x143-195002r694">read</a>, and that print name appears, it is read as the same
symbol. This property of symbols makes them appropriate to use as names for
things and as hooks on which to hang permanent data objects (using the property
list, for example).
<!--l. 392--><p class="indent" >   Interned symbols are normally created automatically; the ﬁrst time something
(such as the function <a 
href="clmse116.html#x143-195002r694">read</a>) asks the package system for a symbol with a given
print name, that symbol is automatically created. The function used to
ask for an interned symbol is <a 
href="clmse63.html#x79-118028r184">intern</a>, or one of the functions related to
<a 
href="clmse63.html#x79-118028r184">intern</a>.
<!--l. 399--><p class="indent" >   Although interned symbols are the most commonly used, they will not be
discussed further here. For more information, see chapter <a 
href="clmch11.html#x72-11100011">11<!--tex4ht:ref: XPACK --></a>.
<!--l. 403--><p class="indent" >   An uninterned symbol is a symbol used simply as a data object, with no
special cataloguing (it belongs to no particular package). An uninterned symbol is
printed as <i>#:</i> followed by its print name. The following are some functions for
creating uninterned symbols.
<div class=defun>
<!--l. 409--><p class="noindent" > <i>[Function]</i>   <b>make-symbol</b> <a 
 id="dx71-110001"></a><a 
 id="x71-110002r164"></a>   <i>print-name</i>
<!--l. 411--><p class="noindent" ><i>(make-symbol print-name)</i> creates a new uninterned symbol, whose print name is
the string print-name. The value and function bindings will be unbound and the
property list will be empty.
<!--l. 416--><p class="indent" >   The string actually installed in the symbol&#x2019;s print-name component may be
the given string print-name or may be a copy of it, at the implementation&#x2019;s
discretion. The user should not assume that <i>(symbol-name (make-symbol x))</i> is <a 
href="clmse33.html#x44-74002r46">eq</a>
to x, but also should not alter a string once it has been given as an argument to
<a 
href="#x71-110002r164">make-symbol</a>.
<div class=implementation>
<!--l. 424--><p class="noindent" ><b>Implementation note:</b> An implementation might choose, for example, to
                                                                          

                                                                          
copy the string to some read-only area, in the expectation that it will never be
altered.
</div>
</div>
<div class=defun>
<!--l. 432--><p class="noindent" > <i>[Function]</i>   <b>copy-symbol</b> <a 
 id="dx71-110003"></a><a 
 id="x71-110004r165"></a>   <i>sym</i>  <b>&#x0026;optional</b>  <i>copy-props</i>
<!--l. 434--><p class="noindent" >This returns a new uninterned symbol with the same print name as sym.
<div class=newer>
<!--l. 439--><p class="indent" >   X3J13 voted in March 1989 ⟨<b>?</b>⟩ that the print name of the new symbol is
required to be the same only in the sense of <i>string=</i>; in other words, an
implementation is permitted (but not required) to make a copy of the print name.
User programs should not assume that the print names of the old and
new symbols will be <a 
href="clmse33.html#x44-74002r46">eq</a>, although they may happen to be <a 
href="clmse33.html#x44-74002r46">eq</a> in some
implementations.
</div>
<!--l. 449--><p class="indent" >   If copy-props is non-<a 
href="clmse31.html#x42-70002r19">nil</a>, then the initial value and function deﬁnition of the
new symbol will be the same as those of sym, and the property list of the new
symbol will be a copy of sym&#x2019;s.
<div class=newer>
<!--l. 455--><p class="indent" >   X3J13 voted in March 1989 ⟨<b>?</b>⟩ to clarify that only the top-level conses of the
property list are copied; it is as if <i>(copy-list (symbol-plist sym))</i> were used as the
property list of the new symbol.
</div>
<!--l. 461--><p class="indent" >   If copy-props is <a 
href="clmse31.html#x42-70002r19">nil</a> (the default), then the new symbol will be unbound and
undeﬁned, and its property list will be empty.
</div>
<div class=defun>
<!--l. 466--><p class="noindent" > <i>[Function]</i>   <b>gensym</b> <a 
 id="dx71-110005"></a><a 
 id="x71-110006r166"></a>   <b>&#x0026;optional</b>  <i>x</i>
<!--l. 468--><p class="noindent" ><a 
href="#x71-110006r166">gensym</a> invents a print name and creates a new symbol with that print name. It
returns the new, uninterned symbol.
<!--l. 472--><p class="indent" >   The invented print name consists of a preﬁx (which defaults to G), followed by
the decimal representation of a number. <div class=obsolete> The number is increased by 1 every time
<a 
href="#x71-110006r166">gensym</a> is called.
<!--l. 477--><p class="indent" >   If the argument x is present and is an integer, then x must be non-negative,
and the internal counter is set to x for future use; otherwise the internal
counter is incremented. If x is a string, then that string is made the default
preﬁx for this and future calls to <a 
href="#x71-110006r166">gensym</a>. After handling the argument,
<a 
href="#x71-110006r166">gensym</a> creates a symbol as it would with no argument. For example: <div class=lisp>
                                                                          

                                                                          
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(gensym)  ⇒ G7
</td></tr></table>
<!--l. 486--><p class="indent" >                                             <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(gensym &#x0022;FOO-&#x0022;)  ⇒ FOO-8</td></tr></table>
<!--l. 487--><p class="indent" >                                                  <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(gensym 32)  ⇒ FOO-32</td></tr></table>
<!--l. 488--><p class="indent" >                                                     <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(gensym)  ⇒ FOO-33</td></tr></table>
<!--l. 489--><p class="indent" >                               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(gensym &#x0022;GARBAGE-&#x0022;)  ⇒ GARBAGE-34</td></tr></table>
<!--l. 491--><p class="indent" >
</div>
</div>
</div>
<!--l. 494--><p class="indent" >   <a 
href="#x71-110006r166">gensym</a> is usually used to create a symbol that should not normally be seen by
the user and whose print name is unimportant except to allow easy distinction by
eye between two such symbols. The optional argument is rarely supplied. The
name comes from “generate symbol,” and the symbols produced by it are often
called “gensyms.”
<div class=incompatibility>
<!--l. 502--><p class="noindent" ><b>Compatibility note:</b> In earlier versions of Lisp, such as MacLisp and Interlisp, the
print name of a gensym was of ﬁxed length, consisting of a single letter and a
ﬁxed-length decimal representation with leading zeros if necessary, for example, <i>G0007</i>.
This convention was motivated by an implementation consideration, namely that the
name should ﬁt into a single machine word, allowing a quick and clever implementation.
Such considerations are less relevant in Common Lisp. The consistent use of mnemonic
preﬁxes can make it easier for the programmer, when debugging, to determine what code
generated a particular symbol. The elimination of the ﬁxed-length decimal
representation prevents the same name from being used twice unless the counter is
explicitly reset.
</div>
<!--l. 519--><p class="indent" >   If it is desirable for the generated symbols to be interned, and yet guaranteed
to be symbols distinct from all others, then the function <a 
href="#x71-110010r168">gentemp</a> may be more
appropriate to use.
<div class=newer>
<!--l. 526--><p class="indent" >   X3J13 voted in March 1989 ⟨<b>?</b>⟩ to alter the speciﬁcation of <a 
href="#x71-110006r166">gensym</a> so that
supplying an optional argument (whether a string or a number) does not alter the
internal state maintained by <a 
href="#x71-110006r166">gensym</a>. Instead, the internal counter is made
explicitly available as a variable named <i>*gensym-counter*</i>.
                                                                          

                                                                          
<!--l. 533--><p class="indent" >   If a string argument is given to <a 
href="#x71-110006r166">gensym</a>, that string is used as the preﬁx;
otherwise “G” is used. If a number is provided, its decimal representation is used,
but the internal counter is unaﬀected. X3J13 deprecates the use of a number as an
argument.
</div>
</div>
<div class=newer>
<div class=defun>
<!--l. 541--><p class="noindent" > <i>[Variable]</i>   <b>*gensym-counter*</b> <a 
 id="dx71-110007"></a><a 
 id="x71-110008r167"></a>
<!--l. 543--><p class="noindent" >X3J13 voted in March 1989 ⟨<b>?</b>⟩ to add <i>*gensym-counter*</i>, which holds the state of
the <a 
href="#x71-110006r166">gensym</a> counter; that is, <a 
href="#x71-110006r166">gensym</a> uses the decimal representation of its value as
part of the generated name and then increments its value.
<!--l. 550--><p class="indent" >   The initial value of this variable is implementation-dependent but will be a
non-negative integer.
<!--l. 553--><p class="indent" >   The user may assign to or bind this variable at any time, but its value must
always be a non-negative integer.
</div>
</div>
<div class=defun>
<!--l. 558--><p class="noindent" > <i>[Function]</i>   <b>gentemp</b> <a 
 id="dx71-110009"></a><a 
 id="x71-110010r168"></a>   <b>&#x0026;optional</b>  <i>preﬁx</i> <i>package</i>
<!--l. 560--><p class="noindent" ><a 
href="#x71-110010r168">gentemp</a>, like <a 
href="#x71-110006r166">gensym</a>, creates and returns a new symbol. <a 
href="#x71-110010r168">gentemp</a> diﬀers from
<a 
href="#x71-110006r166">gensym</a> in that it interns the symbol (see <a 
href="clmse63.html#x79-118028r184">intern</a>) in the package (which defaults to
the current package; see <i>*package*</i>). <a 
href="#x71-110010r168">gentemp</a> guarantees the symbol will be
a new one not already existing in the package. It does this by using a
counter as <a 
href="#x71-110006r166">gensym</a> does, but if the generated symbol is not really new, then
the process is repeated until a new one is created. There is no provision
for resetting the <a 
href="#x71-110010r168">gentemp</a> counter. Also, the preﬁx for <a 
href="#x71-110010r168">gentemp</a> is not
remembered from one call to the next; if preﬁx is omitted, the default preﬁx T is
used.
</div>
<div class=defun>
<!--l. 573--><p class="noindent" > <i>[Function]</i>   <b>symbol-package</b> <a 
 id="dx71-110011"></a><a 
 id="x71-110012r169"></a>   <i>sym</i>
<!--l. 575--><p class="noindent" >Given a symbol sym, <a 
href="#x71-110012r169">symbol-package</a> returns the contents of the package cell of
that symbol. This will be a package object or <a 
href="clmse31.html#x42-70002r19">nil</a>.
</div>
<div class=defun>
<!--l. 580--><p class="noindent" > <i>[Function]</i>   <b>keywordp</b> <a 
 id="dx71-110013"></a><a 
 id="x71-110014r170"></a>   <i>object</i>
<!--l. 582--><p class="noindent" >The argument may be any Lisp object. The predicate <a 
href="#x71-110014r170">keywordp</a> is true if the
                                                                          

                                                                          
argument is a symbol and that symbol is a keyword (that is, belongs to the
keyword package). Keywords are those symbols that are written with a leading
colon. Every keyword is a constant, in the sense that it always evaluates to itself.
See <a 
href="clmse110.html#x135-180012r623">constantp</a>.
</div>
                                                                          

                                                                          
                                                                          

                                                                          
                                                                          

                                                                          
                                                                          

                                                                          
   <!--l. 6--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmch11.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse55.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse55.html#tailclmse55.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse56.html" >Front</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch10.html#clmse56.html" >Up</a><tt>&#x003E;</tt></p></div>
<!--l. 6--><p class="indent" >   <a 
 id="tailclmse56.html"></a>  
</body></html> 

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Conses</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,next,charset=utf-8,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-02-22 01:55:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
</head><body 
>
   <!--l. 20--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse87.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch15.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch15.html#tailclmch15.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse86.html">Tail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch15.html#clmse86.html" >Up</a><tt>&#x003E;</tt></p></div>
   <h3 class="sectionHead"><span class="titlemark">15.1   </span> <a 
 id="x106-14800015.1"></a>Conses</h3>
<!--l. 22--><p class="noindent" >These are the basic operations on conses viewed as pairs rather than as the
constituents of a list.
<div class=defun>
<!--l. 25--><p class="noindent" > <i>[Function]</i>   <b>car</b> <a 
 id="dx106-148001"></a><a 
 id="x106-148002r442"></a>   <i>list</i>
<!--l. 27--><p class="noindent" >This returns the car of list, which must be a cons or <i>(</i><i>)</i>; that is, list must satisfy
the predicate <a 
href="clmse32.html#x43-73010r27">listp</a>. By deﬁnition, the car of <i>(</i><i>)</i> is <i>(</i><i>)</i>. If the cons is regarded as the
ﬁrst cons of a list, then <a 
href="#x106-148002r442">car</a> returns the ﬁrst element of the list. For example: <div class=lisp>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(car &#x2019;(a b c))  ⇒ a
</td></tr></table>
<!--l. 36--><p class="indent" >
</div>
                                                                          

                                                                          
</div>
<!--l. 37--><p class="noindent" >See <a 
href="clmse87.html#x107-149008r477">ﬁrst</a>. The car of a cons may be altered by using <a 
href="clmse88.html#x108-150002r507">rplaca</a> or <a 
href="clmse36.html#x48-80002r66">setf</a>.
</div>
<div class=defun>
<!--l. 41--><p class="noindent" > <i>[Function]</i>   <b>cdr</b> <a 
 id="dx106-148003"></a><a 
 id="x106-148004r443"></a>   <i>list</i>
<!--l. 43--><p class="noindent" >This returns the cdr of list, which must be a cons or <i>(</i><i>)</i>; that is, list must satisfy
the predicate <a 
href="clmse32.html#x43-73010r27">listp</a>. By deﬁnition, the cdr of <i>(</i><i>)</i> is <i>(</i><i>)</i>. If the cons is regarded
as the ﬁrst cons of a list, then <a 
href="#x106-148004r443">cdr</a> returns the rest of the list, which is
a list with all elements but the ﬁrst of the original list. For example: <div class=lisp>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(cdr &#x2019;(a b c))  ⇒ (b c)
</td></tr></table>
<!--l. 53--><p class="indent" >
</div>
</div>
<!--l. 54--><p class="noindent" >See <a 
href="clmse87.html#x107-149028r487">rest</a>. The cdr of a cons may be altered by using <a 
href="clmse88.html#x108-150004r508">rplacd</a> or <a 
href="clmse36.html#x48-80002r66">setf</a>.
</div>
<div class=defun>
<!--l. 58--><p class="noindent" > <i>[Function]</i>   <b>caar</b> <a 
 id="dx106-148005"></a><a 
 id="x106-148006r444"></a>   <i>list</i> <br 
class="newline" /><i>[Function]</i>   <b>cadr</b> <a 
 id="dx106-148007"></a><a 
 id="x106-148008r445"></a>   <i>list</i> <br 
class="newline" /><i>[Function]</i>   <b>cdar</b> <a 
 id="dx106-148009"></a><a 
 id="x106-148010r446"></a>   <i>list</i> <br 
class="newline" /><i>[Function]</i>   <b>cddr</b> <a 
 id="dx106-148011"></a><a 
 id="x106-148012r447"></a>   <i>list</i> <br 
class="newline" /><i>[Function]</i>   <b>caaar</b> <a 
 id="dx106-148013"></a><a 
 id="x106-148014r448"></a>   <i>list</i> <br 
class="newline" /><i>[Function]</i>   <b>caadr</b> <a 
 id="dx106-148015"></a><a 
 id="x106-148016r449"></a>   <i>list</i> <br 
class="newline" /><i>[Function]</i>   <b>cadar</b> <a 
 id="dx106-148017"></a><a 
 id="x106-148018r450"></a>   <i>list</i> <br 
class="newline" /><i>[Function]</i>   <b>caddr</b> <a 
 id="dx106-148019"></a><a 
 id="x106-148020r451"></a>   <i>list</i> <br 
class="newline" /><i>[Function]</i>   <b>cdaar</b> <a 
 id="dx106-148021"></a><a 
 id="x106-148022r452"></a>   <i>list</i> <br 
class="newline" /><i>[Function]</i>   <b>cdadr</b> <a 
 id="dx106-148023"></a><a 
 id="x106-148024r453"></a>   <i>list</i> <br 
class="newline" /><i>[Function]</i>   <b>cddar</b> <a 
 id="dx106-148025"></a><a 
 id="x106-148026r454"></a>   <i>list</i> <br 
class="newline" /><i>[Function]</i>   <b>cdddr</b> <a 
 id="dx106-148027"></a><a 
 id="x106-148028r455"></a>   <i>list</i> <br 
class="newline" /><i>[Function]</i>   <b>caaaar</b> <a 
 id="dx106-148029"></a><a 
 id="x106-148030r456"></a>   <i>list</i> <br 
class="newline" /><i>[Function]</i>   <b>caaadr</b> <a 
 id="dx106-148031"></a><a 
 id="x106-148032r457"></a>   <i>list</i> <br 
class="newline" /><i>[Function]</i>   <b>caadar</b> <a 
 id="dx106-148033"></a><a 
 id="x106-148034r458"></a>   <i>list</i> <br 
class="newline" /><i>[Function]</i>   <b>caaddr</b> <a 
 id="dx106-148035"></a><a 
 id="x106-148036r459"></a>   <i>list</i> <br 
class="newline" /><i>[Function]</i>   <b>cadaar</b> <a 
 id="dx106-148037"></a><a 
 id="x106-148038r460"></a>   <i>list</i> <br 
class="newline" /><i>[Function]</i>   <b>cadadr</b> <a 
 id="dx106-148039"></a><a 
 id="x106-148040r461"></a>   <i>list</i> <br 
class="newline" /><i>[Function]</i>   <b>caddar</b> <a 
 id="dx106-148041"></a><a 
 id="x106-148042r462"></a>   <i>list</i> <br 
class="newline" /><i>[Function]</i>   <b>cadddr</b> <a 
 id="dx106-148043"></a><a 
 id="x106-148044r463"></a>   <i>list</i> <br 
class="newline" /><i>[Function]</i>   <b>cdaaar</b> <a 
 id="dx106-148045"></a><a 
 id="x106-148046r464"></a>   <i>list</i> <br 
class="newline" /><i>[Function]</i>   <b>cdaadr</b> <a 
 id="dx106-148047"></a><a 
 id="x106-148048r465"></a>   <i>list</i> <br 
class="newline" /><i>[Function]</i>   <b>cdadar</b> <a 
 id="dx106-148049"></a><a 
 id="x106-148050r466"></a>   <i>list</i> <br 
class="newline" /><i>[Function]</i>   <b>cdaddr</b> <a 
 id="dx106-148051"></a><a 
 id="x106-148052r467"></a>   <i>list</i> <br 
class="newline" /><i>[Function]</i>   <b>cddaar</b> <a 
 id="dx106-148053"></a><a 
 id="x106-148054r468"></a>   <i>list</i> <br 
class="newline" /><i>[Function]</i>   <b>cddadr</b> <a 
 id="dx106-148055"></a><a 
 id="x106-148056r469"></a>   <i>list</i> <br 
class="newline" /><i>[Function]</i>   <b>cdddar</b> <a 
 id="dx106-148057"></a><a 
 id="x106-148058r470"></a>   <i>list</i> <br 
class="newline" /><i>[Function]</i>   <b>cddddr</b> <a 
 id="dx106-148059"></a><a 
 id="x106-148060r471"></a>   <i>list</i>
<!--l. 87--><p class="noindent" >All of the compositions of up to four <a 
href="#x106-148002r442">car</a> and <a 
href="#x106-148004r443">cdr</a> operations are deﬁned as
separate Common Lisp functions. The names of these functions begin
with c and end with r, and in between is a sequence of a and d letters
corresponding to the composition performed by the function. For example: <div class=lisp>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(cddadr x) is the same as (cdr (cdr (car (cdr x))))
</td></tr></table>
<!--l. 97--><p class="indent" >
</div>
</div>
<!--l. 98--><p class="noindent" >If the argument is regarded as a list, then <a 
href="#x106-148008r445">cadr</a> returns the second element of
the list, <a 
href="#x106-148020r451">caddr</a> the third, and <a 
href="#x106-148044r463">cadddr</a> the fourth. If the ﬁrst element of a
list is a list, then <a 
href="#x106-148006r444">caar</a> is the ﬁrst element of the sublist, <a 
href="#x106-148010r446">cdar</a> is the rest
of that sublist, and <a 
href="#x106-148018r450">cadar</a> is the second element of the sublist, and so
on.
<!--l. 105--><p class="indent" >   As a matter of style, it is often preferable to deﬁne a function or macro to
access part of a complicated data structure, rather than to use a long <a 
href="#x106-148002r442">car</a>/<a 
href="#x106-148004r443">cdr</a>
string. For example, one might deﬁne a macro to extract the list of parameter
variables from a lambda-expression: <div class=lisp> <div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(defmacro lambda-vars (lambda-exp) ‘(cadr ,lambda-exp))
</td></tr></table>
<!--l. 111--><p class="indent" >
</div>
                                                                          

                                                                          
</div>
<!--l. 112--><p class="noindent" >and then use lambda-vars for this purpose instead of <a 
href="#x106-148008r445">cadr</a>. See also <a 
href="clmse104.html#x128-170002r617">defstruct</a>, which
will automatically deﬁne new record data types and access functions for instances
of them.
<!--l. 116--><p class="indent" >   Any of these functions may be used to specify a place for <a 
href="clmse36.html#x48-80002r66">setf</a>.
</div>
<div class=defun>
<!--l. 119--><p class="noindent" > <i>[Function]</i>   <b>cons</b> <a 
 id="dx106-148061"></a><a 
 id="x106-148062r472"></a>   <i>x</i>  <i>y</i>
<!--l. 121--><p class="noindent" ><a 
href="#x106-148062r472">cons</a> is the primitive function to create a new cons whose car is x and whose cdr is
y. For example: <div class=lisp> <div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(cons &#x2019;a &#x2019;b)  ⇒ (a . b)
</td></tr></table>
<!--l. 126--><p class="indent" >                                <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(cons &#x2019;a (cons &#x2019;b (cons &#x2019;c &#x2019;<i>(</i><i>)</i>)))  ⇒ (a b c)</td></tr></table>
<!--l. 127--><p class="indent" >                                            <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(cons &#x2019;a &#x2019;(b c d))  ⇒ (a b c d)</td></tr></table>
<!--l. 129--><p class="indent" >
</div>
</div>
<!--l. 130--><p class="noindent" ><a 
href="#x106-148062r472">cons</a> may be thought of as creating a cons, or as adding a new element to the front of
a list.
</div>
<div class=defun>
<!--l. 134--><p class="noindent" > <i>[Function]</i>   <b>tree-equal</b> <a 
 id="dx106-148063"></a><a 
 id="x106-148064r473"></a>   <i>x</i>  <i>y</i>  <b>&#x0026;key</b>  :test  :test-not
<!--l. 136--><p class="noindent" >This is a predicate that is true if x and y are isomorphic trees with identical
leaves, that is, if x and y are atoms that satisfy the test (by default <a 
href="clmse33.html#x44-74004r47">eql</a>), or if they
are both conses and their car&#x2019;s are <a 
href="#x106-148064r473">tree-equal</a> and their cdr&#x2019;s are <a 
href="#x106-148064r473">tree-equal</a>. Thus
<a 
href="#x106-148064r473">tree-equal</a> recursively compares conses (but not any other objects that have
components). See <a 
href="clmse33.html#x44-74006r48">equal</a>, which does recursively compare certain other structured
objects, such as strings.
<div class=new>
<!--l. 147--><p class="indent" >   X3J13 voted in January 1989 ⟨<b>?</b>⟩ to restrict user side eﬀects; see section <a 
href="clmse43.html#x55-920007.9">7.9<!--tex4ht:ref: STRUCTURE-TRAVERSAL-SECTION --></a>.
</div>
</div>
                                                                          

                                                                          
   <!--l. 153--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse87.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch15.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch15.html#tailclmch15.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse86.html" >Front</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch15.html#clmse86.html" >Up</a><tt>&#x003E;</tt></p></div>
<!--l. 153--><p class="indent" >   <a 
 id="tailclmse86.html"></a>  
</body></html> 

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Системные пакеты</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,index=2,next,fn-in,charset=utf-8,sections+,minitoc<,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-04-11 09:24:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
<link rel="stylesheet" type="text/css" href="cltl2ed.css"></head><body 
>
<!--l. 2534--><p class="noindent" > <div id="main_container"> <div id="content"> <!--l. 2534--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse59.html" >Далее</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse57.html" >Назад</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse57.html#tailclmse57.html" >Назад-и-вниз</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse58.html">В-конец</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch11.html#clmse58.html" >Вверх</a><tt>&#x003E;</tt></p></div>
   <h3 class="sectionHead"><span class="titlemark">11.6   </span> <a 
href="clm.html#QQ2-74-174" id="x74-16600011.6">Системные пакеты</a></h3>
<div class=flushdesc>
<!--l. 2537--><p class="noindent" >
      <ul><li><b>
<tt>common-lisp</tt> </b></li>Пакет с именем <tt>common-lisp</tt> содержит базовые элементы
      системы  ANSI  Common  Lisp.  Его  внешние  символы  включают
      все  видимые  пользователю  функции  и  глобальные  переменные,
      которые представлены в ANSI Common Lisp системе, такие как <tt><a 
href="clmse79.html#x99-200002r393">car</a></tt>,
      <tt><a 
href="clmse79.html#x99-200004r394">cdr</a></tt> и <tt><a 
href="clmse59.html#x75-167002r141">*package*</a></tt>. Следует однако отметить, что домашним пакетом
      этих символов не обязательно должен является пакет <tt>common-lisp</tt>
      (для символов, например <tt><a 
href="clmse30.html#x41-73004r19">t</a></tt> и <tt>lambda</tt> будет проще быть доступными
      и   в   <tt>common-lisp</tt>,   и   в   другом   пакете,   возможно   с   именем
      <tt>lisp</tt> FIXME).  Почти  все  другие  пакеты  должны  использовать
      <tt>common-lisp</tt>,  таким  образом  эти  символы  будут  доступны  без
      использования полного имени (с двоеточием). Данный пакет имеет
      псевдоним <tt>cl</tt>.
      <li><b>
<tt>common-lisp-user</tt> </b></li>Пакет  <tt>common-lisp-user</tt> является,  по-умолчанию,
      текущим пакетом во время запуска ANSI Common Lisp системы.
      Этот  пакет  использует  пакет  <tt>common-lisp</tt> и  имеет  псевдоним
      <tt>cl-user</tt>. В зависимости от реализации он также может содержать
      другие символы и использовать платформоспецифичные пакеты.</ul>
</div>
<div class=flushdesc>
<!--l. 2559--><p class="noindent" >
      <ul><li><b>
<tt>keyword</tt> </b></li>Этот  пакет  содержит  все  ключевые  символы,  используемые
      встроенными или пользовательскими Lisp&#x2019;овыми функциями. Имя
                                                                          

                                                                          
      символа,  начинающегося  с  двоеточия,  интерпретируется,  как
      ссылка  на  символ  из  этого  пакета,  который  всегда  является
      внешним.  Все  символы  в  этом  пакете  является  константами,
      которые вычисляются сами в себя, поэтому пользователь может
      записывать <tt>:foo</tt> вместо <tt>&#x2019;:foo</tt>.</ul>
</div>
<div class=newer>
<!--l. 2568--><p class="noindent" >X3J13 проголосовал в марте 1989 <a 
 id="dx74-166001"></a>запретить пользовательским программам
выполнение следующих действий, которые могут противоречить базовому
функционалу или негативно с ним взаимодействовать. Если над символом в
пакете <tt>common-lisp</tt> совершается одно из действий ниже, за исключением
явных указаний в книге, последствия не определены.
      <ul class="itemize1">
      <li class="itemize">связывание  или  изменение  значения  символа  (лексически  или
      динамически)
      </li>
      <li class="itemize">определение или связывания символа с функцией
      </li>
      <li class="itemize">определение или связывания символа с макросом
      </li>
      <li class="itemize">определение  его  как  спецификатора  типа  (<tt><a 
href="clmse97.html#x121-225002r561">defstruct</a></tt>,  <tt><a 
href="clmse140.html#x172-400022r835">defclass</a></tt>,
      <tt><a 
href="clmse23.html#x32-50002r6">deftype</a></tt>)
      </li>
      <li class="itemize">определение его как структуры (<tt><a 
href="clmse97.html#x121-225002r561">defstruct</a></tt>)
      </li>
      <li class="itemize">определение его как декларации
      </li>
      <li class="itemize">определение его макроса символа
      </li>
      <li class="itemize">изменение выводимого имени символа
      </li>
      <li class="itemize">изменение пакета символа
                                                                          

                                                                          
      </li>
      <li class="itemize">трассировка символа
      </li>
      <li class="itemize">декларация  или  прокламация  символа  как  специального  или
      лексического
      </li>
      <li class="itemize">декларация или прокламация типа символа (<tt>type</tt>, <tt>ftype</tt>)
      </li>
      <li class="itemize">удаление символа из пакета <tt>common-lisp</tt>
      </li>
      <li class="itemize">определение как макроса компилятора</li></ul>
<!--l. 2590--><p class="indent" >   Если такой символ не определён глобально как переменная или
константа, пользовательская программа может связывать его лексически и
декларировать тип <tt>type</tt> данного связывания.
<!--l. 2594--><p class="indent" >   Если такой символ не определён как функция, макрос или специальная
форма, пользовательская программа может лексически связать символ с
функцией, декларировать тип <tt>ftype</tt> данного связывания и трассировать это
связывание.
<!--l. 2598--><p class="indent" >   Если такой символ не определён как функция, макрос или специальная
форма, пользовательская программа может лексически связать символ с
макросом.
<!--l. 2601--><p class="indent" >   В качестве примера, поведение данного фрагмента кода <div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(ﬂet ((open (ﬁlename &#x0026;key direction)
</td></tr></table>
<!--l. 2603--><p class="indent" >                              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">         (format t &#x0022;~%OPEN was called.&#x0022;)</td></tr></table>
<!--l. 2604--><p class="indent" >                           <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">         (open ﬁlename :direction direction)))</td></tr></table>
<!--l. 2605--><p class="indent" >                             <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (with-open-ﬁle (x &#x0022;frob&#x0022; :direction &#x2019;:output)</td></tr></table>
<!--l. 2606--><p class="indent" >                                 <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">    (format t &#x0022;~%Was OPEN called?&#x0022;)))</td></tr></table>
<!--l. 2608--><p class="indent" >
</div>
</div>
                                                                          

                                                                          
<!--l. 2609--><p class="noindent" >не определено. Даже в «разумной» реализации, например, раскрытие макрос
<tt><a 
href="clmse113.html#x141-276011r698">with-open-file</a></tt> должно ссылаться на функцию <tt><a 
href="clmse113.html#x141-276002r697">open</a></tt>. Тем не менее,
предшествующие правила определяют является ли реализация «разумной».
Данный фрагмент кода нарушает правила. Официально его поведение, таким
образом, полностью не определено, и точка.
<!--l. 2615--><p class="indent" >   Следует отметить, что «изменение списка свойств» не входит в список
упомянутых действий, таким образом пользовательская программа
может добавлять или удалять свойства для символов в <tt>common-lisp</tt>
пакете.
</div>
                                                                          

                                                                          
   <!--l. 2620--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse59.html" >Далее</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse57.html" >Назад</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse57.html#tailclmse57.html" >Назад-и-вниз</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse58.html" >В-начало</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch11.html#clmse58.html" >Вверх</a><tt>&#x003E;</tt></p></div>
<!--l. 2620--><p class="indent" >   <a 
 id="tailclmse58.html"></a>  </div> </div> 
</body></html> 

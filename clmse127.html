<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Environment Inquiries</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,next,charset=utf-8,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-03-14 15:35:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
</head><body 
>
   <!--l. 1608--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse128.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse126.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse126.html#tailclmse126.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse127.html">Tail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch25.html#clmse127.html" >Up</a><tt>&#x003E;</tt></p></div>
   <h3 class="sectionHead"><span class="titlemark">25.4   </span> <a 
 id="x157-30900025.4"></a>Environment Inquiries</h3>
<!--l. 1610--><p class="noindent" >Environment inquiry functions provide information about the environment in
which a Common Lisp program is being executed. They are described here in two
categories: ﬁrst, those dealing with determination and measurement of time, and
second, all the others, most of which deal with identiﬁcation of the computer
hardware and software.
<!--l. 1617--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">25.4.1   </span> <a 
 id="x157-31000025.4.1"></a>Time Functions</h4>
<!--l. 1620--><p class="noindent" >Time is represented in three diﬀerent ways in Common Lisp: Decoded Time,
Universal Time, and Internal Time. The ﬁrst two representations are used
primarily to represent calendar time and are precise only to one second. Internal
Time is used primarily to represent measurements of computer time (such as run
time) and is precise to some implementation-dependent fraction of a second, as
speciﬁed by <a 
href="#x157-310012r789">internal-time-units-per-second</a>. Decoded Time format is used only for
absolute time indications. Universal Time and Internal Time formats are used for
both absolute and relative times.
<!--l. 1632--><p class="indent" >   Decoded Time format represents calendar time as a number of components:
      <ul class="itemize1">
      <li class="itemize">Second: an integer between 0 and 59, inclusive.
      </li>
      <li class="itemize">Minute: an integer between 0 and 59, inclusive.
      </li>
      <li class="itemize">Hour: an integer between 0 and 23, inclusive.
      </li>
      <li class="itemize">Date: an integer between 1 and 31, inclusive (the upper limit actually
      depends on the month and year, of course).
                                                                          

                                                                          
      </li>
      <li class="itemize">Month: an integer between 1 and 12, inclusive; 1 means January, 12
      means December.
      </li>
      <li class="itemize">Year: an integer indicating the year A.D. However, if this integer is
      between 0 and 99, the “obvious” year is used; more precisely, that year
      is assumed that is equal to the integer modulo 100 and within ﬁfty
      years of the current year (inclusive backwards and exclusive forwards).
      Thus, in the year 1978, year 28 is 1928 but year 27 is 2027. (Functions
      that return time in this format always return a full year number.)</li></ul>
<div class=incompatibility>
<!--l. 1662--><p class="noindent" ><b>Compatibility note:</b> This is incompatible with the Lisp Machine Lisp deﬁnition in two
ways. First, in Lisp Machine Lisp a year between 0 and 99 always has 1900 added to it.
Second, in Lisp Machine Lisp time functions return the abbreviated year number
between 0 and 99 rather than the full year number. The incompatibility is prompted by
the imminent arrival of the twenty-ﬁrst century. Note that (mod year 100) always
reliably converts a year number to the abbreviated form, while the inverse conversion
can be very diﬃcult.
</div>
      <ul class="itemize1">
      <li class="itemize">Day-of-week: an integer between 0 and 6, inclusive; 0 means Monday,
      1 means Tuesday, and so on; 6 means Sunday.
      </li>
      <li class="itemize">Daylight-saving-time-p: a ﬂag that, if not <a 
href="clmse31.html#x42-74002r18">nil</a>, indicates that daylight
      saving time is in eﬀect.
      </li>
      <li class="itemize">Time-zone: an integer speciﬁed as the number of hours west of GMT
      (Greenwich Mean Time). For example, in Massachusetts the time zone
      is 5, and in California it is 8. Any adjustment for daylight saving time
      is separate from this.</li></ul>
<div class=newer>
<!--l. 1691--><p class="indent" >   X3J13 voted in March 1989 <a 
 id="dx157-310001"></a>to specify that the time zone part of Decoded
Time need not be an integer, but may be any rational number (either an integer
                                                                          

                                                                          
or a ratio) in the range -24 to 24 (inclusive on both ends) that is an integral
multiple of 1/3600.
<div class=rationale>
<!--l. 1698--><p class="noindent" ><b>Rationale:</b> For all possible time designations to be accommodated, it is necessary
to allow the time zone to be non-integral, for some places in the world have
time standards oﬀset from Greenwich Mean Time by a non-integral number of
hours.
<!--l. 1704--><p class="indent" >   There appears to be no user demand for ﬂoating-point time zones. Since such zones
would introduce inexact arithmetic, X3J13 did not consider adding them at this
time.
<!--l. 1708--><p class="indent" >   This speciﬁcation does require time zones to be represented as integral multiples of 1
second (rather than 1 hour). This prevents problems that could otherwise occur in
converting Decoded Time to Universal Time.
</div>
</div>
<!--l. 1715--><p class="indent" >   Universal Time represents time as a single non-negative integer. For relative
time purposes, this is a number of seconds. For absolute time, this is the number
of seconds since midnight, January 1, 1900 GMT. Thus the time 1 is
00:00:01 (that is, 12:00:01 A.M.) on January 1, 1900 GMT. Similarly,
the time 2398291201 corresponds to time 00:00:01 on January 1, 1976
GMT. Recall that the year 1900 was not a leap year; for the purposes of
Common Lisp, a year is a leap year if and only if its number is divisible
by 4, except that years divisible by 100 are not leap years, except that
years divisible by 400 are leap years. Therefore the year 2000 will be a
leap year. (Note that the “leap seconds” that are sporadically inserted by
the world&#x2019;s oﬃcial timekeepers as an additional correction are ignored;
Common Lisp assumes that every day is exactly 86400 seconds long.)
Universal Time format is used as a standard time representation within the
ARPANET; see reference <span class="cite">[<a 
href="clmli5.html#XKLH-TIME-SERVER">22</a>]</span>. Because the Common Lisp Universal Time
representation uses only non-negative integers, times before the base time
of midnight, January 1, 1900 GMT cannot be processed by Common
Lisp.
<!--l. 1737--><p class="indent" >   Internal Time also represents time as a single integer, but in terms of an
implementation-dependent unit. Relative time is measured as a number of these
units. Absolute time is relative to an arbitrary time base, typically the time at
which the system began running.
<div class=defun>
                                                                          

                                                                          
<!--l. 1743--><p class="noindent" ><i>[Function]</i><a 
 id="dx157-310002"></a><a 
 id="x157-310003r785"></a><b> get-decoded-time</b>
<!--l. 1745--><p class="noindent" >The current time is returned in Decoded Time format. Nine values are returned:
second, minute, hour, date, month, year, day-of-week, daylight-saving-time-p, and
time-zone.
<div class=incompatibility>
<!--l. 1751--><p class="noindent" ><b>Compatibility note:</b> In Lisp Machine Lisp time-zone is not currently returned.
Consider, however, the use of Common Lisp in some mobile vehicle. It is entirely
plausible that the time zone might change from time to time.
</div>
</div>
<div class=defun>
<!--l. 1759--><p class="noindent" ><i>[Function]</i><a 
 id="dx157-310004"></a><a 
 id="x157-310005r786"></a><b> get-universal-time</b>
<!--l. 1761--><p class="noindent" >The current time of day is returned as a single integer in Universal Time
format.
</div>
<div class=defun>
<!--l. 1766--><p class="noindent" ><i>[Function]</i><a 
 id="dx157-310006"></a><a 
 id="x157-310007r787"></a><b> decode-universal-time</b>  <i>universal-time</i> &#x0026;optional  <i>time-zone</i>
<!--l. 1768--><p class="noindent" >The time speciﬁed by universal-time in Universal Time format is converted to
Decoded Time format. Nine values are returned: second, minute, hour, date,
month, year, day-of-week, daylight-saving-time-p, and time-zone.
<div class=incompatibility>
<!--l. 1775--><p class="noindent" ><b>Compatibility note:</b> In Lisp Machine Lisp time-zone is not currently returned.
Consider, however, the use of Common Lisp in some mobile vehicle. It is entirely
plausible that the time zone might change from time to time.
</div>
<!--l. 1782--><p class="indent" >   The time-zone argument defaults to the current time zone. <div class=new> X3J13 voted in
January 1989 <a 
 id="dx157-310008"></a>to specify that <a 
href="#x157-310007r787">decode-universal-time</a>, like <a 
href="#x157-310010r788">encode-universal-time</a>,
ignores daylight saving time information if a time-zone is explicitly speciﬁed; in
this case the returned daylight-saving-time-p value will necessarily be <a 
href="clmse31.html#x42-74002r18">nil</a> even if
daylight saving time happens to be in eﬀect in that time zone at the speciﬁed
time.
</div>
</div>
<div class=defun>
<!--l. 1795--><p class="noindent" ><i>[Function]</i><a 
 id="dx157-310009"></a><a 
 id="x157-310010r788"></a><b> encode-universal-time</b>  <i>second</i> <i>minute</i> <i>hour</i> <i>date</i> <i>month</i> <i>year</i>
&#x0026;optional  <i>time-zone</i>
<!--l. 1797--><p class="noindent" >The time speciﬁed by the given components of Decoded Time format is encoded
into Universal Time format and returned. If you do not specify time-zone, it
                                                                          

                                                                          
defaults to the current time zone adjusted for daylight saving time. If you
provide time-zone explicitly, no adjustment for daylight saving time is
performed.
</div>
<div class=defun>
<!--l. 1805--><p class="noindent" ><i>[Constant]</i><a 
 id="dx157-310011"></a><a 
 id="x157-310012r789"></a><b> internal-time-units-per-second</b>
<!--l. 1807--><p class="noindent" >This value is an integer, the implementation-dependent number of internal time
units in a second. (The internal time unit must be chosen so that one second is an
integral multiple of it.)
<div class=rationale>
<!--l. 1813--><p class="noindent" ><b>Rationale:</b> The reason for allowing the internal time units to be implementation-dependent
is so that <a 
href="#x157-310014r790">get-internal-run-time</a> and <a 
href="#x157-310016r791">get-internal-real-time</a> can execute with minimum
overhead. The idea is that it should be very likely that a ﬁxnum will suﬃce as
the returned value from these functions. This probability can be tuned to the
implementation by trading oﬀ the speed of the machine against the word size. Any
particular unit will be inappropriate for some implementations: a microsecond is
too long for a very fast machine, while a much smaller unit would force many
implementations to return bignums for most calls to get-internal-time, rendering that
function less useful for accurate timing measurements.
</div>
</div>
<div class=defun>
<!--l. 1831--><p class="noindent" ><i>[Function]</i><a 
 id="dx157-310013"></a><a 
 id="x157-310014r790"></a><b> get-internal-run-time</b>
<!--l. 1833--><p class="noindent" >The current run time is returned as a single integer in Internal Time format. The
precise meaning of this quantity is implementation-dependent; it may measure
real time, run time, CPU cycles, or some other quantity. The intent is that the
diﬀerence between the values of two calls to this function be the amount of time
between the two calls during which computational eﬀort was expended on behalf
of the executing program.
</div>
<div class=defun>
<!--l. 1844--><p class="noindent" ><i>[Function]</i><a 
 id="dx157-310015"></a><a 
 id="x157-310016r791"></a><b> get-internal-real-time</b>
<!--l. 1846--><p class="noindent" >The current time is returned as a single integer in Internal Time format. This
time is relative to an arbitrary time base, but the diﬀerence between the values of
two calls to this function will be the amount of elapsed real time between the two
calls, measured in the units deﬁned by <a 
href="#x157-310012r789">internal-time-units-per-second</a>.
</div>
<div class=defun>
                                                                          

                                                                          
<!--l. 1854--><p class="noindent" ><i>[Function]</i><a 
 id="dx157-310017"></a><a 
 id="x157-310018r792"></a><b> sleep</b>  <i>seconds</i>
<!--l. 1856--><p class="noindent" >(sleep n) causes execution to cease and become dormant for approximately n
seconds of real time, whereupon execution is resumed. The argument may be any
non-negative non-complex number. <a 
href="#x157-310018r792">sleep</a> returns <a 
href="clmse31.html#x42-74002r18">nil</a>.
</div>
<!--l. 1863--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">25.4.2   </span> <a 
 id="x157-31100025.4.2"></a>Other Environment Inquiries</h4>
<!--l. 1865--><p class="noindent" >For any of the following functions, if no appropriate and relevant result can be
produced, <a 
href="clmse31.html#x42-74002r18">nil</a> is returned instead of a string.
<div class=rationale>
<!--l. 1870--><p class="noindent" ><b>Rationale:</b> These inquiry facilities are functions rather than variables against the
possibility that a Common Lisp process might migrate from machine to machine.
This need not happen in a distributed environment; consider, for example,
dumping a core image ﬁle containing a compiler and then shipping it to another
site.
</div>
<div class=defun>
<!--l. 1879--><p class="noindent" ><i>[Function]</i><a 
 id="dx157-311001"></a><a 
 id="x157-311002r793"></a><b> lisp-implementation-type</b>
<!--l. 1881--><p class="noindent" >A string is returned that identiﬁes the generic name of the particular Common
Lisp implementation. Examples: &#x0022;Spice LISP&#x0022;, &#x0022;Zetalisp&#x0022;.
</div>
<div class=defun>
<!--l. 1887--><p class="noindent" ><i>[Function]</i><a 
 id="dx157-311003"></a><a 
 id="x157-311004r794"></a><b> lisp-implementation-version</b>
<!--l. 1889--><p class="noindent" >A string is returned that identiﬁes the version of the particular Common Lisp
implementation; this information should be of use to maintainers of the
implementation. Examples: &#x0022;1192&#x0022;, &#x0022;53.7 with complex numbers&#x0022;, &#x0022;1746.9A,
NEWIO 53, ETHER 5.3&#x0022;.
</div>
<div class=defun>
<!--l. 1897--><p class="noindent" ><i>[Function]</i><a 
 id="dx157-311005"></a><a 
 id="x157-311006r795"></a><b> machine-type</b>
<!--l. 1899--><p class="noindent" >A string is returned that identiﬁes the generic name of the computer hardware on
which Common Lisp is running. Examples: &#x0022;IMLAC&#x0022;, &#x0022;DEC PDP-10&#x0022;, &#x0022;DEC
VAX-11/780&#x0022;.
</div>
<div class=defun>
                                                                          

                                                                          
<!--l. 1905--><p class="noindent" ><i>[Function]</i><a 
 id="dx157-311007"></a><a 
 id="x157-311008r796"></a><b> machine-version</b>
<!--l. 1907--><p class="noindent" >A string is returned that identiﬁes the version of the computer hardware on which
Common Lisp is running. Example: &#x0022;KL10, microcode 9&#x0022;.
</div>
<div class=defun>
<!--l. 1913--><p class="noindent" ><i>[Function]</i><a 
 id="dx157-311009"></a><a 
 id="x157-311010r797"></a><b> machine-instance</b>
<!--l. 1915--><p class="noindent" >A string is returned that identiﬁes the particular instance of the computer
hardware on which Common Lisp is running; this might be a local nickname, for
example, or a serial number. Examples: &#x0022;MIT-MC&#x0022;, &#x0022;CMU GP-VAX&#x0022;.
</div>
<div class=defun>
<!--l. 1922--><p class="noindent" ><i>[Function]</i><a 
 id="dx157-311011"></a><a 
 id="x157-311012r798"></a><b> software-type</b>
<!--l. 1924--><p class="noindent" >A string is returned that identiﬁes the generic name of any relevant supporting
software. Examples: &#x0022;Spice&#x0022;, &#x0022;TOPS-20&#x0022;, &#x0022;ITS&#x0022;.
</div>
<div class=defun>
<!--l. 1930--><p class="noindent" ><i>[Function]</i><a 
 id="dx157-311013"></a><a 
 id="x157-311014r799"></a><b> software-version</b>
<!--l. 1932--><p class="noindent" >A string is returned that identiﬁes the version of any relevant supporting software;
this information should be of use to maintainers of the implementation.
</div>
<div class=defun>
<!--l. 1938--><p class="noindent" ><i>[Function]</i><a 
 id="dx157-311015"></a><a 
 id="x157-311016r800"></a><b> short-site-name</b> <br 
class="newline" /><i>[Function]</i><a 
 id="dx157-311017"></a><a 
 id="x157-311018r801"></a><b> long-site-name</b>
<!--l. 1941--><p class="noindent" >A string is returned that identiﬁes the physical location of the computer
hardware. Examples of short names: &#x0022;MIT AI Lab&#x0022;, &#x0022;CMU-CSD&#x0022;. Examples of
long names: <div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">&#x0022;MIT Artiﬁcial Intelligence Laboratory&#x0022;
</td></tr></table>
<!--l. 1947--><p class="indent" >                                    <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">&#x0022;Massachusetts Institute of Technology</td></tr></table>
<!--l. 1948--><p class="indent" >                                         <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">Artiﬁcial Intelligence Laboratory&#x0022;</td></tr></table>
<!--l. 1949--><p class="indent" >              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">&#x0022;Carnegie-Mellon University Computer Science Department&#x0022;</td></tr></table>
<!--l. 1951--><p class="indent" >
</div>
</div>
</div>
                                                                          

                                                                          
<!--l. 1954--><p class="noindent" >See also <a 
href="clmse116.html#x144-280083r729">user-homedir-pathname</a>.
<div class=defun>
<!--l. 1958--><p class="noindent" ><i>[Variable]</i><a 
 id="dx157-311019"></a><a 
 id="x157-311020r802"></a><b> *features*</b>
<!--l. 1960--><p class="noindent" >The value of the variable *features* should be a list of symbols that name
“features” provided by the implementation. Most such names will be
implementation-speciﬁc; typically a name for the implementation will be
included.
<div class=obsolete>
<!--l. 1967--><p class="indent" >   One standard feature name is ieee-ﬂoating-point, which should be
present if and only if full IEEE proposed ﬂoating-point arithmetic <span class="cite">[<a 
href="clmli5.html#XIEEE-PROPOSED-FLOATING-POINT-STANDARD">23</a>]</span> is
supported.
</div>
<!--l. 1972--><p class="indent" >   The value of this variable is used by the #+ and #- reader syntax.
<div class=newer>
<!--l. 1976--><p class="indent" >   X3J13 voted in March 1988 <a 
 id="dx157-311021"></a>to specify that feature names used with #+ and
#- are read in the keyword package unless an explicit preﬁx designating some
other package appears. The standard feature name ieee-ﬂoating-point is
therefore actually the keyword :ieee-ﬂoating-point, though one need not write
the colon when using it with #+ or #-; thus #+ieee-ﬂoating-point and
#+:ieee-ﬂoating-point mean the same thing.
</div>
</div>
                                                                          

                                                                          
   <!--l. 1988--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse128.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse126.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse126.html#tailclmse126.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse127.html" >Front</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch25.html#clmse127.html" >Up</a><tt>&#x003E;</tt></p></div>
<!--l. 1988--><p class="indent" >   <a 
 id="tailclmse127.html"></a>  
</body></html> 

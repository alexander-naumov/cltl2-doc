<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Simple Sequencing</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,index=2,next,fn-in,charset=utf-8,sections+,minitoc<,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-04-20 14:21:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
<link rel="stylesheet" type="text/css" href="../cltl2ed.css"></head><body 
>
<!--l. 1926--><p class="noindent" > <div id="main_container"> <div id="content"> <div id="toplinks"><tt>&#x003C;</tt><a 
href="clmse39.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse37.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse37.html#tailclmse37.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse38.html">Tail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="contrl.html#clmse38.html" >Up</a><tt>&#x003E;</tt>&lt;<a href="../index.html">Main Page</a>&gt;</div><h3 class="sectionHead"><span class="titlemark">7.4   </span> <a 
href="clm.html#QQ2-50-553" id="x50-5450007.4">Simple Sequencing</a></h3>
<!--l. 1928--><p class="noindent" >Each of the constructs in this section simply evaluates all the argument forms in
order. They diﬀer only in what results are returned.
<div class="defspec">
<div class="defmacheader">
<!--l. 1933--><p class="indent" >   <div class="tabbing">
 <i>[Special operator]</i> <b>progn</b> <a 
 id="dx50-545001"></a><a 
 id="x50-545002r76"></a> {form}*
   <br>
<!--l. 1934--><p class="noindent" ></div>
<!--l. 1934--><p class="noindent" ><span class="paragraphHead"><a 
href="#x50-5460007.4" id="x50-5460007.4"></a></span>
</div>
<!--l. 1935--><p class="indent" >   The <tt><a 
href="symbols.html#x185-2637700r700">progn</a></tt> construct takes a number of forms and evaluates them sequentially,
in order, from left to right. The values of all the forms but the last are discarded;
whatever the last form returns is returned by the <tt><a 
href="symbols.html#x185-2637700r700">progn</a></tt> form. One says that all
the forms but the last are evaluated for <i>eﬀect</i>, because their execution is
useful only for the side eﬀects caused, but the last form is executed for
<i>value</i>.
<tt>
<!--l. 1943--><p class="indent" >   <a 
href="symbols.html#x185-2637700r700">progn</a></tt> is the primitive control structure construct for “compound statements,”
such as <b>begin</b>-<b>end</b> blocks in Algol-like languages. Many Lisp constructs are
“implicit <tt><a 
href="symbols.html#x185-2637700r700">progn</a></tt>” forms: as part of their syntax each allows many forms to be
written that are to be evaluated sequentially, discarding the results of all forms
but the last and returning the results of the last form.
<!--l. 1951--><p class="indent" >   If the last form of the <tt><a 
href="symbols.html#x185-2637700r700">progn</a></tt> returns multiple values, then those multiple
values are returned by the <tt><a 
href="symbols.html#x185-2637700r700">progn</a></tt> form. If there are no forms for the <tt><a 
href="symbols.html#x185-2637700r700">progn</a></tt>, then
the result is <tt><a 
href="symbols.html#x185-2637609r609">nil</a></tt>. These rules generally hold for implicit <tt><a 
href="symbols.html#x185-2637700r700">progn</a></tt> forms as
well.
</div>
<div class="defmac">
<div class="defmacheader">
                                                                          

                                                                          
<!--l. 1958--><p class="indent" >   <div class="tabbing">
 <i>[Macro]</i> <b>prog1</b> <a 
 id="dx50-546001"></a><a 
 id="x50-546002r77"></a> ﬁrst {form}*
   <br>
<!--l. 1959--><p class="noindent" ></div>
<!--l. 1959--><p class="noindent" ><span class="paragraphHead"><a 
href="#x50-5470007.4" id="x50-5470007.4"></a></span>
</div>
<tt>
<!--l. 1960--><p class="indent" >   <a 
href="symbols.html#x185-2637698r698">prog1</a></tt> is similar to <tt><a 
href="symbols.html#x185-2637700r700">progn</a></tt>, but it returns the value of its <i>ﬁrst</i> form. All the
argument forms are executed sequentially; the value of the ﬁrst form is saved
while all the others are executed and is then returned.
<tt>
<!--l. 1965--><p class="indent" >   <a 
href="symbols.html#x185-2637698r698">prog1</a></tt> is most commonly used to evaluate an expression with side eﬀects and
to return a value that must be computed <i>before</i> the side eﬀects happen. For
example: <div class="lisp"><div class="tabbing">
(prog1 (car x) (rplaca x &#x2019;foo))
   <br>
<!--l. 1971--><p class="noindent" ></div>
<!--l. 1971--><p class="noindent" ><span class="paragraphHead"><a 
href="#x50-5480007.4" id="x50-5480007.4"></a></span>
<!--l. 1971--><p class="noindent" ><span class="paragraphHead"><a 
href="#x50-5490007.4" id="x50-5490007.4"></a></span>
</div>
<!--l. 1972--><p class="indent" >   alters the <i>car</i> of <tt>x</tt> to be <tt>foo</tt> and returns the old <i>car</i> of <tt>x</tt>.
<tt>
<!--l. 1975--><p class="indent" >   <a 
href="symbols.html#x185-2637698r698">prog1</a></tt> always returns a single value, even if the ﬁrst form tries to return
multiple values. As a consequence, <tt>(prog1 <i>x</i>)</tt> and <tt>(progn <i>x</i>)</tt> may behave
diﬀerently if <i>x</i> can produce multiple values. See <tt><a 
href="symbols.html#x185-2637598r598">multiple-value-prog1</a></tt>.
A point of style: although <tt><a 
href="symbols.html#x185-2637698r698">prog1</a></tt> can be used to force exactly a single
value to be returned, it is conventional to use the function <tt><a 
href="symbols.html#x185-2637917r917">values</a></tt> for this
purpose.
                                                                          

                                                                          
</div>
<div class="defmac">
<div class="defmacheader">
<!--l. 1987--><p class="indent" >   <div class="tabbing">
 <i>[Macro]</i> <b>prog2</b> <a 
 id="dx50-549001"></a><a 
 id="x50-549002r78"></a> ﬁrst second {form}*
   <br>
<!--l. 1988--><p class="noindent" ></div>
<!--l. 1988--><p class="noindent" ><span class="paragraphHead"><a 
href="#x50-5500007.4" id="x50-5500007.4"></a></span>
</div>
<tt>
<!--l. 1989--><p class="indent" >   <a 
href="symbols.html#x185-2637699r699">prog2</a></tt> is similar to <tt><a 
href="symbols.html#x185-2637698r698">prog1</a></tt>, but it returns the value of its <i>second</i> form. All the
argument forms are executed sequentially; the value of the second form is saved
while all the other forms are executed and is then returned. <tt><a 
href="symbols.html#x185-2637699r699">prog2</a></tt> is provided
mostly for historical compatibility. <div class="lisp"><div class="tabbing">
(prog2 <i>a</i> <i>b</i> <i>c</i> ... <i>z</i>) <span class="math"> ≡</span> (progn <i>a</i> (prog1 <i>b</i> <i>c</i> ... <i>z</i>))
   <br>
<!--l. 1996--><p class="noindent" ></div>
<!--l. 1996--><p class="noindent" ><span class="paragraphHead"><a 
href="#x50-5510007.4" id="x50-5510007.4"></a></span>
<!--l. 1996--><p class="noindent" ><span class="paragraphHead"><a 
href="#x50-5520007.4" id="x50-5520007.4"></a></span>
</div>
<!--l. 1997--><p class="indent" >   Occasionally it is desirable to perform one side eﬀect, then a value-producing
operation, then another side eﬀect. In such a peculiar case, <tt><a 
href="symbols.html#x185-2637699r699">prog2</a></tt> is fairly
perspicuous. For example: <div class="lisp"><div class="tabbing">
(prog2 (open-a-ﬁle) (process-the-ﬁle) (close-the-ﬁle))
   <br>
                                       ;value is that of <tt>process-the-file</tt><br>
                                                                          

                                                                          
<!--l. 2004--><p class="noindent" ></div>
<!--l. 2004--><p class="noindent" ><span class="paragraphHead"><a 
href="#x50-5530007.4" id="x50-5530007.4"></a></span>
<!--l. 2004--><p class="noindent" ><span class="paragraphHead"><a 
href="#x50-5540007.4" id="x50-5540007.4"></a></span>
</div>
<tt>
<!--l. 2006--><p class="indent" >   <a 
href="symbols.html#x185-2637699r699">prog2</a></tt>, like <tt><a 
href="symbols.html#x185-2637698r698">prog1</a></tt>, always returns a single value, even if the second
form tries to return multiple values. As a consequence of this, <tt>(prog2 <i>x</i>
<i>y</i>)</tt> and <tt>(progn <i>x</i> <i>y</i>)</tt> may behave diﬀerently if <i>y</i> can produce multiple
values.
</div>
                                                                          

                                                                          
<!--l. 2014--><p class="indent" >   <div id="bottomlinks"><tt>&#x003C;</tt><a 
href="clmse39.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse37.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse37.html#tailclmse37.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse38.html" >Front</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="contrl.html#clmse38.html" >Up</a><tt>&#x003E;</tt></div><a 
 id="tailclmse38.html"></a>   </div> </div> 
</body></html> 

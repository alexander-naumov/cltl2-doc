<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Arithmetic Operations</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,index=2,next,fn-in,charset=utf-8,sections+,minitoc<,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-04-20 14:21:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
<link rel="stylesheet" type="text/css" href="../cltl2ed.css"></head><body 
>
<!--l. 415--><p class="noindent" > <div id="main_container"> <div id="content"> <div id="toplinks"><tt>&#x003C;</tt><a 
href="clmse68.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse66.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse66.html#tailclmse66.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse67.html">Tail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="number.html#clmse67.html" >Up</a><tt>&#x003E;</tt>&lt;<a href="../index.html">Main Page</a>&gt;</div><h3 class="sectionHead"><span class="titlemark">12.4   </span> <a 
href="clm.html#QQ2-84-980" id="x84-97100012.4">Arithmetic Operations</a></h3>
<!--l. 417--><p class="noindent" >Each of the functions in this section requires that its arguments all be numbers; to
call one with a non-number is an error. Unless otherwise speciﬁed, each works on
all types of numbers, automatically performing any required coercions when
arguments are of diﬀerent types.
<div class="defun">
<!--l. 422--><p class="noindent" ><div class="defunheader"> <i>[Function]</i><a 
 id="dx84-971001"></a><a 
 id="x84-971002r202"></a> <b>+</b>  <b>&#x0026;rest</b>  <i>numbers</i>
</div>
<!--l. 425--><p class="indent" >   This returns the sum of the arguments. If there are no arguments, the result is
<tt>0</tt>, which is an identity for this operation.
</div>
<div class="defun">
<!--l. 429--><p class="noindent" ><div class="defunheader"> <i>[Function]</i><a 
 id="dx84-971003"></a><a 
 id="x84-971004r203"></a> <b>-</b>  <i>number</i> <b>&#x0026;rest</b>  <i>more-numbers</i>
</div>
<!--l. 432--><p class="indent" >   The function <tt><a 
href="symbols.html#x185-2637054r54">-</a></tt>, when given one argument, returns the negative of that
argument.
<!--l. 435--><p class="indent" >   The function <tt><a 
href="symbols.html#x185-2637054r54">-</a></tt>, when given more than one argument, successively subtracts
from the ﬁrst argument all the others, and returns the result. For example, <tt>(- 3
4 5)</tt> <span class="math"> ⇒</span> <tt>-6</tt>.
</div>
<div class="defun">
<!--l. 440--><p class="noindent" ><div class="defunheader"> <i>[Function]</i><a 
 id="dx84-971005"></a><a 
 id="x84-971006r204"></a> <b>*</b>  <b>&#x0026;rest</b>  <i>numbers</i>
</div>
<!--l. 443--><p class="indent" >   This returns the product of the arguments. If there are no arguments, the
result is <tt>1</tt>, which is an identity for this operation.
</div>
<div class="defun">
                                                                          

                                                                          
<!--l. 448--><p class="noindent" ><div class="defunheader"> <i>[Function]</i><a 
 id="dx84-971007"></a><a 
 id="x84-971008r205"></a> <b>/</b>  <i>number</i> <b>&#x0026;rest</b>  <i>more-numbers</i>
</div>
<!--l. 451--><p class="indent" >   The function <tt><a 
href="symbols.html#x185-2637055r55">/</a></tt>, when given more than one argument, successively divides the
ﬁrst argument by all the others and returns the result.
<!--l. 454--><p class="indent" >   It is generally accepted that it is an error for any argument other than the ﬁrst
to be zero.
<!--l. 457--><p class="indent" >   With one argument, <tt><a 
href="symbols.html#x185-2637055r55">/</a></tt> reciprocates the argument.
<!--l. 459--><p class="indent" >   It is generally accepted that it is an error in this case for the argument to be
zero.
<tt>
<!--l. 462--><p class="indent" >   <a 
href="symbols.html#x185-2637055r55">/</a></tt> will produce a ratio if the mathematical quotient of two integers is not an
exact integer. For example: <div class="lisp"><div class="tabbing">
(/ 12 4) <span class="math"> ⇒</span> 3
   <br>                          (/ 13 4) <span class="math"> ⇒</span> 13/4<br>                          (/ -8) <span class="math"> ⇒</span> -1/8<br>
(/ 3 4 5) <span class="math"> ⇒</span> 3/20<br>
<!--l. 469--><p class="noindent" ></div>
<!--l. 469--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-97200012.4" id="x84-97200012.4"></a></span>
<!--l. 469--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-97300012.4" id="x84-97300012.4"></a></span>
</div>
<!--l. 470--><p class="indent" >   To divide one integer by another producing an integer result, use one of the
functions <tt><a 
href="symbols.html#x185-2637388r388">floor</a></tt>, <tt><a 
href="symbols.html#x185-2637190r190">ceiling</a></tt>, <tt><a 
href="symbols.html#x185-2637888r888">truncate</a></tt>, or <tt><a 
href="symbols.html#x185-2637757r757">round</a></tt>.
<!--l. 474--><p class="indent" >   If any argument is a ﬂoating-point number, then the rules of ﬂoating-point
contagion apply.
</div>
<div class="defun">
<!--l. 478--><p class="noindent" ><div class="defunheader"> <i>[Function]</i><a 
 id="dx84-973001"></a><a 
 id="x84-973002r206"></a> <b>1+</b>  <i>number</i><br />
<i>
[Function]</i><a 
 id="dx84-973003"></a><a 
 id="x84-973004r207"></a> <b>1-</b>  <i>number</i>
</div>
<tt>
                                                                          

                                                                          
<!--l. 482--><p class="indent" >   (1+ <i>x</i>)</tt> is the same as <tt>(+ <i>x</i> 1)</tt>.
<tt>
<!--l. 484--><p class="indent" >   (1- <i>x</i>)</tt> is the same as <tt>(- <i>x</i> 1)</tt>. Note that the short name may be confusing:
<tt>(1- <i>x</i>)</tt> does <i>not</i> mean <span class="math">1 −<i>x</i></span>; rather, it means <span class="math"><i>x</i> − 1</span>._______________________<div class="implementation">
<!--l. 489--><p class="noindent" ><b>Implementation note:</b> Compiler writers are very strongly encouraged to ensure that
<tt>(1+ x)</tt> and <tt>(+ x 1)</tt> compile into identical code, and similarly for <tt>(1- x)</tt> and
<tt>(- x 1)</tt>, to avoid pressure on a Lisp programmer to write possibly less clear
code for the sake of eﬃciency. This can easily be done as a source-language
transformation.
</div>___________________________________________________________________________________________________________
</div>
<div class="defmac">
<div class="defmacheader">
<!--l. 500--><p class="indent" >     <div class="tabbing">
  <i>[Macro]</i> <b>incf</b> <a 
 id="dx84-973005"></a><a 
 id="x84-973006r208"></a> place [delta]
     <br>
<!--l. 500--><p class="noindent" ></div>
<!--l. 500--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-97400012.4" id="x84-97400012.4"></a></span>
</div>
<div class="defmacheader">
<!--l. 500--><p class="indent" >     <div class="tabbing">
  <i>[Macro]</i> <b>decf</b> <a 
 id="dx84-974001"></a><a 
 id="x84-974002r209"></a> place [delta]
     <br>
<!--l. 502--><p class="noindent" ></div>
<!--l. 502--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-97500012.4" id="x84-97500012.4"></a></span>
</div>
<!--l. 503--><p class="indent" >     The number produced by the form <i>delta</i> is added to (<tt><a 
href="symbols.html#x185-2637441r441">incf</a></tt>) or subtracted from
(<tt><a 
href="symbols.html#x185-2637268r268">decf</a></tt>) the number in the generalized variable named by <i>place</i>, and the sum is
stored back into <i>place</i> and returned. The form <i>place</i> may be any form acceptable
as a generalized variable to <tt><a 
href="symbols.html#x185-2637778r778">setf</a></tt>. If <i>delta</i> is not supplied, then the number in
<i>place</i> is changed by <tt>1</tt>. For example: <div class="lisp"><div class="tabbing">
                                                                          

                                                                          
(setq n 0)
   <br>                                              (incf n) <span class="math"> ⇒</span> 1          and now n <span class="math"> ⇒</span> 1<br>
(decf n 3) <span class="math"> ⇒</span> -2      and now n <span class="math"> ⇒</span> -2<br>
(decf n -5) <span class="math"> ⇒</span> 3      and now n <span class="math"> ⇒</span> 3<br> (decf n) <span class="math"> ⇒</span> 2         and now n <span class="math"> ⇒</span> 2<br>
<!--l. 519--><p class="noindent" ></div>
<!--l. 519--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-97600012.4" id="x84-97600012.4"></a></span>
<!--l. 519--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-97700012.4" id="x84-97700012.4"></a></span>
</div>
<!--l. 520--><p class="indent" >   The eﬀect of <tt>(incf <i>place</i> <i>delta</i>)</tt> is roughly equivalent to <div class="lisp"><div class="tabbing">
(setf <i>place</i> (+ <i>place</i> <i>delta</i>))
   <br>
<!--l. 524--><p class="noindent" ></div>
<!--l. 524--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-97800012.4" id="x84-97800012.4"></a></span>
<!--l. 524--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-97900012.4" id="x84-97900012.4"></a></span>
</div>
<!--l. 525--><p class="indent" >   except that the latter would evaluate any subforms of <i>place</i> twice, whereas
<tt><a 
href="symbols.html#x185-2637441r441">incf</a></tt> takes care to evaluate them only once. Moreover, for certain <i>place</i> forms
<tt><a 
href="symbols.html#x185-2637441r441">incf</a></tt> may be signiﬁcantly more eﬃcient than the <tt><a 
href="symbols.html#x185-2637778r778">setf</a></tt> version. <div class="newer"> X3J13 voted in
March 1988 <a 
 id="dx84-979001"></a>to clarify order of evaluation (see section <a 
href="clmse36.html#x48-4440007.2">7.2<!--tex4ht:ref: SETF-SECTION --></a>).
</div>
</div>
<div class="defun">
<!--l. 535--><p class="noindent" ><div class="defunheader"> <i>[Function]</i><a 
 id="dx84-979002"></a><a 
 id="x84-979003r210"></a> <b>conjugate</b>  <i>number</i>
                                                                          

                                                                          
</div>
<!--l. 538--><p class="indent" >   This returns the complex conjugate of <i>number</i>. The conjugate of a
non-complex number is itself. For a complex number <tt>z</tt>, <div class="lisp"><div class="tabbing">
(conjugate z) <span class="math"> ≡</span> (complex (realpart z) (- (imagpart z)))
   <br>
<!--l. 542--><p class="noindent" ></div>
<!--l. 542--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-98000012.4" id="x84-98000012.4"></a></span>
<!--l. 542--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-98100012.4" id="x84-98100012.4"></a></span>
</div>
<!--l. 543--><p class="indent" >   For example: <div class="lisp"><div class="tabbing">
(conjugate #C(3/5 4/5)) <span class="math"> ⇒</span> #C(3/5 -4/5)
   <br>                         (conjugate #C(0.0D0 -1.0D0)) <span class="math"> ⇒</span> #C(0.0D0 1.0D0)<br>
(conjugate 3.7) <span class="math"> ⇒</span> 3.7<br>
<!--l. 548--><p class="noindent" ></div>
<!--l. 548--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-98200012.4" id="x84-98200012.4"></a></span>
<!--l. 548--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-98300012.4" id="x84-98300012.4"></a></span>
</div>
</div>
<div class="defun">
<!--l. 551--><p class="noindent" ><div class="defunheader"> <i>[Function]</i><a 
 id="dx84-983001"></a><a 
 id="x84-983002r211"></a> <b>gcd</b>  <b>&#x0026;rest</b>  <i>integers</i>
</div>
<!--l. 554--><p class="indent" >   This returns the greatest common divisor of all the arguments, which must be
                                                                          

                                                                          
integers. The result of <tt><a 
href="symbols.html#x185-2637404r404">gcd</a></tt> is always a non-negative integer. If one argument is
given, its absolute value is returned. If no arguments are given, <tt><a 
href="symbols.html#x185-2637404r404">gcd</a></tt> returns <tt>0</tt>,
which is an identity for this operation. For three or more arguments,
<div class="lisp"><div class="tabbing">
(gcd <i>a</i> <i>b</i> <i>c</i> ... <i>z</i>) <span class="math"> ≡</span> (gcd (gcd <i>a</i> <i>b</i>) <i>c</i> ... <i>z</i>)
   <br>
<!--l. 563--><p class="noindent" ></div>
<!--l. 563--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-98400012.4" id="x84-98400012.4"></a></span>
<!--l. 563--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-98500012.4" id="x84-98500012.4"></a></span>
</div>
<!--l. 565--><p class="indent" >   Here are some examples of the use of <tt><a 
href="symbols.html#x185-2637404r404">gcd</a></tt>: <div class="lisp"><div class="tabbing">
(gcd 91 -49) <span class="math"> ⇒</span> 7
   <br>                                                                   (gcd 63 -42 35) <span class="math"> ⇒</span> 7<br>
(gcd 5) <span class="math"> ⇒</span> 5<br>                                                (gcd -4) <span class="math"> ⇒</span> 4<br>
(gcd) <span class="math"> ⇒</span> 0<br>
<!--l. 572--><p class="noindent" ></div>
<!--l. 572--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-98600012.4" id="x84-98600012.4"></a></span>
<!--l. 572--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-98700012.4" id="x84-98700012.4"></a></span>
</div>
</div>
<div class="defun">
<!--l. 575--><p class="noindent" ><div class="defunheader"> <i>[Function]</i><a 
 id="dx84-987001"></a><a 
 id="x84-987002r212"></a> <b>lcm</b>  <i>integer</i> <b>&#x0026;rest</b>  <i>more-integers</i>
                                                                          

                                                                          
</div>
<!--l. 578--><p class="indent" >   This returns the least common multiple of its arguments, which must be
integers. The result of <tt><a 
href="symbols.html#x185-2637467r467">lcm</a></tt> is always a non-negative integer. For two arguments
that are not both zero, <div class="lisp"><div class="tabbing">
(lcm <i>a</i> <i>b</i>) <span class="math"> ≡</span> (/ (abs (* <i>a</i> <i>b</i>)) (gcd <i>a</i> <i>b</i>))
   <br>
<!--l. 584--><p class="noindent" ></div>
<!--l. 584--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-98800012.4" id="x84-98800012.4"></a></span>
<!--l. 584--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-98900012.4" id="x84-98900012.4"></a></span>
</div>
<!--l. 585--><p class="indent" >   If one or both arguments are zero, <div class="lisp"><div class="tabbing">
(lcm <i>a</i> 0) <span class="math"> ≡</span> (lcm 0 <i>a</i>) <span class="math"> ≡</span> 0
   <br>
<!--l. 588--><p class="noindent" ></div>
<!--l. 588--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-99000012.4" id="x84-99000012.4"></a></span>
<!--l. 588--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-99100012.4" id="x84-99100012.4"></a></span>
</div>
<!--l. 590--><p class="indent" >   For one argument, <tt><a 
href="symbols.html#x185-2637467r467">lcm</a></tt> returns the absolute value of that argument. For three
or more arguments, <div class="lisp"><div class="tabbing">
(lcm <i>a</i> <i>b</i> <i>c</i> ... <i>z</i>) <span class="math"> ≡</span> (lcm (lcm <i>a</i> <i>b</i>) <i>c</i> ... <i>z</i>)
   <br>
<!--l. 594--><p class="noindent" ></div>
                                                                          

                                                                          
<!--l. 594--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-99200012.4" id="x84-99200012.4"></a></span>
<!--l. 594--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-99300012.4" id="x84-99300012.4"></a></span>
</div>
<!--l. 596--><p class="indent" >   Some examples: <div class="lisp"><div class="tabbing">
(lcm 14 35) <span class="math"> ⇒</span> 70
   <br>                                                                           (lcm 0 5) <span class="math"> ⇒</span> 0<br>
(lcm 1 2 3 4 5 6) <span class="math"> ⇒</span> 60<br>
<!--l. 601--><p class="noindent" ></div>
<!--l. 601--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-99400012.4" id="x84-99400012.4"></a></span>
<!--l. 601--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-99500012.4" id="x84-99500012.4"></a></span>
</div>
<div class="lisp">
<!--l. 603--><p class="indent" >   <div class="tabbing">
<tt>(lcm) <span class="math"> ⇒</span> 1</tt>.
   <br>
<!--l. 605--><p class="noindent" ></div>
<!--l. 605--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-99600012.4" id="x84-99600012.4"></a></span>
<!--l. 605--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-99700012.4" id="x84-99700012.4"></a></span>
</div>
<tt>
<!--l. 607--><p class="indent" >   (lcm)</tt> ought to have been deﬁned to return 1.
</div>
                                                                          

                                                                          
<!--l. 610--><p class="indent" >   <div id="bottomlinks"><tt>&#x003C;</tt><a 
href="clmse68.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse66.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse66.html#tailclmse66.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse67.html" >Front</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="number.html#clmse67.html" >Up</a><tt>&#x003E;</tt></div><a 
 id="tailclmse67.html"></a>    </div> </div> 
</body></html> 

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Creating Symbols</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,index=2,next,fn-in,charset=utf-8,sections+,minitoc<,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-04-20 16:10:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
<link rel="stylesheet" type="text/css" href="../cltl2ed.css"></head><body 
>
<!--l. 316--><p class="noindent" > <div id="main_container"> <div id="content"> <div id="toplinks"><tt>&#x003C;</tt><a 
href="xpack.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse55.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse55.html#tailclmse55.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse56.html">Tail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="symbol.html#clmse56.html" >Up</a><tt>&#x003E;</tt>&lt;<a href="../index.html">Main Page</a>&gt;</div><h3 class="sectionHead"><span class="titlemark">10.3   </span> <a 
href="clm.html#QQ2-71-939" id="x71-93000010.3">Creating Symbols</a></h3>
<!--l. 318--><p class="noindent" >Symbols can be used in two rather diﬀerent ways. An <i>interned</i> symbol is one that
is indexed by its print name in a catalogue called a <i>package</i>. A request to locate a
symbol with that print name results in the same (<tt><a 
href="symbols.html#x187-2636337r337">eq</a></tt>) symbol. Every time input is
read with the function <tt><a 
href="symbols.html#x187-2636717r717">read</a></tt>, and that print name appears, it is read as the same
symbol. This property of symbols makes them appropriate to use as names for
things and as hooks on which to hang permanent data objects (using the property
list, for example).
<!--l. 329--><p class="indent" >   Interned symbols are normally created automatically; the ﬁrst time something
(such as the function <tt><a 
href="symbols.html#x187-2636717r717">read</a></tt>) asks the package system for a symbol with a given
print name, that symbol is automatically created. The function used to
ask for an interned symbol is <tt><a 
href="symbols.html#x187-2636451r451">intern</a></tt>, or one of the functions related to
<tt><a 
href="symbols.html#x187-2636451r451">intern</a></tt>.
<!--l. 336--><p class="indent" >   Although interned symbols are the most commonly used, they will not be
discussed further here. For more information, see chapter <a 
href="xpack.html#x72-93100011">11<!--tex4ht:ref: XPACK --></a>.
<!--l. 340--><p class="indent" >   An <i>uninterned</i> symbol is a symbol used simply as a data object, with no
special cataloguing (it belongs to no particular package). An uninterned symbol is
printed as <tt>#:</tt> followed by its print name. The following are some functions for
creating uninterned symbols.
<div class="defun">
<!--l. 346--><p class="noindent" ><div class="defunheader"> <i>[Function]</i><a 
 id="dx71-930001"></a><a 
 id="x71-930002r154"></a> <b>make-symbol</b>  <i>print-name</i>
</div>
<tt>
<!--l. 349--><p class="indent" >   (make-symbol <i>print-name</i>)</tt> creates a new uninterned symbol, whose print
name is the string <i>print-name</i>. The value and function bindings will be unbound
and the property list will be empty.
<!--l. 353--><p class="indent" >   The string actually installed in the symbol&#x2019;s print-name component may be
the given string <i>print-name</i> or may be a copy of it, at the implementation&#x2019;s
discretion. The user should not assume that <tt>(symbol-name (make-symbol x))</tt> is
<tt><a 
href="symbols.html#x187-2636337r337">eq</a></tt> to <tt>x</tt>, but also should not alter a string once it has been given as an argument
to <tt><a 
href="symbols.html#x187-2636552r552">make-symbol</a></tt>.__________________________________________________________<div class="implementation">
                                                                          

                                                                          
<!--l. 361--><p class="noindent" ><b>Implementation note:</b> An implementation might choose, for example, to
copy the string to some read-only area, in the expectation that it will never be
altered.
</div>
__________________________________________________________________________
</div>
<div class="defun">
<!--l. 369--><p class="noindent" ><div class="defunheader"> <i>[Function]</i><a 
 id="dx71-930003"></a><a 
 id="x71-930004r155"></a> <b>copy-symbol</b>  <i>sym</i> <b>&#x0026;optional</b>  <i>copy-props</i>
</div>
<!--l. 372--><p class="indent" >    This returns a new uninterned symbol with the same print name as
<i>sym</i>.
<div class="newer">
<!--l. 376--><p class="indent" >     X3J13 voted in March 1989 <a 
 id="dx71-930005"></a>that the print name of the new symbol is
required to be the same only in the sense of <tt><a 
href="symbols.html#x187-2636844r844">string=</a></tt>; in other words, an
implementation is permitted (but not required) to make a copy of the print name.
User programs should not assume that the print names of the old and
new symbols will be <tt><a 
href="symbols.html#x187-2636337r337">eq</a></tt>, although they may happen to be <tt><a 
href="symbols.html#x187-2636337r337">eq</a></tt> in some
implementations.
</div>
<!--l. 385--><p class="indent" >     If <i>copy-props</i> is non-<tt><a 
href="symbols.html#x187-2636609r609">nil</a></tt>, then the initial value and function deﬁnition of the
new symbol will be the same as those of <i>sym</i>, and the property list of the new
symbol will be a copy of <i>sym</i>&#x2019;s.
<div class="newer">
<!--l. 391--><p class="indent" >     X3J13 voted in March 1989 <a 
 id="dx71-930006"></a>to clarify that only the top-level conses of the
property list are copied; it is as if <tt>(copy-list (symbol-plist <i>sym</i>))</tt> were used
as the property list of the new symbol.
</div>
<!--l. 397--><p class="indent" >     If <i>copy-props</i> is <tt><a 
href="symbols.html#x187-2636609r609">nil</a></tt> (the default), then the new symbol will be unbound and
undeﬁned, and its property list will be empty.
</div>
<div class="defun">
<!--l. 402--><p class="noindent" ><div class="defunheader"> <i>[Function]</i><a 
 id="dx71-930007"></a><a 
 id="x71-930008r156"></a> <b>gensym</b>  <b>&#x0026;optional</b>  <i>x</i>
</div>
<tt>
<!--l. 405--><p class="indent" >    <a 
href="symbols.html#x187-2636408r408">gensym</a></tt> invents a print name and creates a new symbol with that print name.
It returns the new, uninterned symbol.
                                                                          

                                                                          
<!--l. 408--><p class="indent" >   The invented print name consists of a preﬁx (which defaults to <tt>G</tt>), followed by
the decimal representation of a number.
<tt>
<!--l. 411--><p class="indent" >   <a 
href="symbols.html#x187-2636408r408">gensym</a></tt> is usually used to create a symbol that should not normally be seen by
the user and whose print name is unimportant except to allow easy distinction by
eye between two such symbols. The optional argument is rarely supplied. The
name comes from “generate symbol,” and the symbols produced by it are often
called “gensyms.”
<!--l. 418--><p class="indent" >   If it is desirable for the generated symbols to be interned, and yet guaranteed
to be symbols distinct from all others, then the function <tt><a 
href="symbols.html#x187-2636409r409">gentemp</a></tt> may be more
appropriate to use.
<div class="newer">
<!--l. 425--><p class="indent" >   X3J13 voted in March 1989 <a 
 id="dx71-930009"></a>to alter the speciﬁcation of <tt><a 
href="symbols.html#x187-2636408r408">gensym</a></tt> so that
supplying an optional argument (whether a string or a number) does <i>not</i> alter the
internal state maintained by <tt><a 
href="symbols.html#x187-2636408r408">gensym</a></tt>. Instead, the internal counter is made
explicitly available as a variable named <tt>*gensym-counter*</tt>.
<!--l. 432--><p class="indent" >   If a string argument is given to <tt><a 
href="symbols.html#x187-2636408r408">gensym</a></tt>, that string is used as the preﬁx;
otherwise “<tt>G</tt>” is used. If a number is provided, its decimal representation is used,
but the internal counter is unaﬀected. X3J13 deprecates the use of a number as an
argument.
</div>
</div>
<div class="defun">
<!--l. 439--><p class="noindent" ><div class="defunheader"> <i>[Variable]</i><a 
 id="dx71-930010"></a><a 
 id="x71-930011r157"></a> <b>*gensym-counter*</b>
</div>
<tt>
<!--l. 442--><p class="indent" >   <a 
href="symbols.html#x187-2636017r17">*gensym-counter*</a></tt> holds the state of the <tt><a 
href="symbols.html#x187-2636408r408">gensym</a></tt> counter; that is, <tt><a 
href="symbols.html#x187-2636408r408">gensym</a></tt> uses
the decimal representation of its value as part of the generated name and then
increments its value.
<!--l. 447--><p class="indent" >   The initial value of this variable is implementation-dependent but will be a
non-negative integer.
<!--l. 450--><p class="indent" >   The user may assign to or bind this variable at any time, but its value must
always be a non-negative integer.
</div>
<div class="defun">
                                                                          

                                                                          
<!--l. 454--><p class="noindent" ><div class="defunheader"> <i>[Function]</i><a 
 id="dx71-930012"></a><a 
 id="x71-930013r158"></a> <b>gentemp</b>  <b>&#x0026;optional</b>  <i>preﬁx</i> <i>package</i>
</div>
<tt>
<!--l. 457--><p class="indent" >   <a 
href="symbols.html#x187-2636409r409">gentemp</a></tt>, like <tt><a 
href="symbols.html#x187-2636408r408">gensym</a></tt>, creates and returns a new symbol. <tt><a 
href="symbols.html#x187-2636409r409">gentemp</a></tt> diﬀers from
<tt><a 
href="symbols.html#x187-2636408r408">gensym</a></tt> in that it interns the symbol (see <tt><a 
href="symbols.html#x187-2636451r451">intern</a></tt>) in the <i>package</i> (which defaults
to the current package; see <tt><a 
href="symbols.html#x187-2636023r23">*package*</a></tt>). <tt><a 
href="symbols.html#x187-2636409r409">gentemp</a></tt> guarantees the symbol will be
a new one not already existing in the package. It does this by using a
counter as <tt><a 
href="symbols.html#x187-2636408r408">gensym</a></tt> does, but if the generated symbol is not really new, then
the process is repeated until a new one is created. There is no provision
for resetting the <tt><a 
href="symbols.html#x187-2636409r409">gentemp</a></tt> counter. Also, the preﬁx for <tt><a 
href="symbols.html#x187-2636409r409">gentemp</a></tt> is not
remembered from one call to the next; if <i>preﬁx</i> is omitted, the default preﬁx <tt>T</tt> is
used.
</div>
<div class="defun">
<!--l. 469--><p class="noindent" ><div class="defunheader"> <i>[Function]</i><a 
 id="dx71-930014"></a><a 
 id="x71-930015r159"></a> <b>symbol-package</b>  <i>sym</i>
</div>
<!--l. 472--><p class="indent" >   Given a symbol <i>sym</i>, <tt><a 
href="symbols.html#x187-2636866r866">symbol-package</a></tt> returns the contents of the package cell
of that symbol. This will be a package object or <tt><a 
href="symbols.html#x187-2636609r609">nil</a></tt>.
</div>
<div class="defun">
<!--l. 476--><p class="noindent" ><div class="defunheader"> <i>[Function]</i><a 
 id="dx71-930016"></a><a 
 id="x71-930017r160"></a> <b>keywordp</b>  <i>object</i>
</div>
<!--l. 479--><p class="indent" >   The argument may be any Lisp object. The predicate <tt><a 
href="symbols.html#x187-2636460r460">keywordp</a></tt> is true if the
argument is a symbol and that symbol is a keyword (that is, belongs to the
keyword package). Keywords are those symbols that are written with a leading
colon. Every keyword is a constant, in the sense that it always evaluates to itself.
See <tt><a 
href="symbols.html#x187-2636251r251">constantp</a></tt>.
</div>
                                                                          

                                                                          
                                                                          

                                                                          
                                                                          

                                                                          
                                                                          

                                                                          
<!--l. 8--><p class="indent" >   <div id="bottomlinks"><tt>&#x003C;</tt><a 
href="xpack.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse55.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse55.html#tailclmse55.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse56.html" >Front</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="symbol.html#clmse56.html" >Up</a><tt>&#x003E;</tt></div><a 
 id="tailclmse56.html"></a>  </div> </div> 
</body></html> 

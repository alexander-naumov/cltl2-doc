<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Translating Strings to Symbols</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,next,charset=utf-8,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-03-10 00:01:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
</head><body 
>
   <!--l. 218--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse60.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse58.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse58.html#tailclmse58.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse59.html">Tail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch11.html#clmse59.html" >Up</a><tt>&#x003E;</tt></p></div>
   <h3 class="sectionHead"><span class="titlemark">11.3   </span> <a 
 id="x75-18300011.3"></a>Translating Strings to Symbols</h3>
<!--l. 221--><p class="noindent" >The value of the special variable <a 
href="clmse63.html#x79-187003r173">*package*</a> must always be a package object (not
a name). Whatever package object is currently the value of <a 
href="clmse63.html#x79-187003r173">*package*</a> is referred
to as the current package.
<!--l. 225--><p class="indent" >   When the Lisp reader has, by parsing, obtained a string of characters thought
to name a symbol, that name is looked up in the current package. This lookup
may involve looking in other packages whose external symbols are inherited by the
current package. If the name is found, the corresponding symbol is returned. If the
name is not found (that is, there is no symbol of that name accessible in the
current package), a new symbol is created for it and is placed in the current
package as an internal symbol. Moreover, the current package becomes
the owner (home package) of the symbol, and so the symbol becomes
interned in the current package. If the name is later read again while
this same package is current, the same symbol will then be found and
returned.
<!--l. 238--><p class="indent" >   Often it is desirable to refer to an external symbol in some package other than
the current one. This is done through the use of a qualiﬁed name, consisting of a
package name, then a colon, then the name of the symbol. This causes the
symbol&#x2019;s name to be looked up in the speciﬁed package, rather than in the current
one. For example, editor:buﬀer refers to the external symbol named buﬀer
accessible in the package named editor, regardless of whether there is a symbol
named buﬀer in the current package. If there is no package named editor, or if no
symbol named buﬀer is accessible in editor, or if buﬀer is an internal symbol in
editor, the Lisp reader will signal a correctable error to ask the user for
instructions.
<!--l. 251--><p class="indent" >   On rare occasions, a user may need to refer to an internal symbol of some
package other than the current one. It is illegal to do this with the colon qualiﬁer,
since accessing an internal symbol of some other package is usually a mistake.
However, this operation is legal if a doubled colon :: is used as the separator in
place of the usual single colon. If editor::buﬀer is seen, the eﬀect is exactly the
same as reading buﬀer with <a 
href="clmse63.html#x79-187003r173">*package*</a> temporarily rebound to the package
                                                                          

                                                                          
whose name is editor. This special-purpose qualiﬁer should be used with
caution.
<!--l. 262--><p class="indent" >   The package named keyword contains all keyword symbols used by the
Lisp system itself and by user-written code. Such symbols must be easily
accessible from any package, and name conﬂicts are not an issue because
these symbols are used only as labels and never to carry package-speciﬁc
values or properties. Because keyword symbols are used so frequently,
Common Lisp provides a special reader syntax for them. Any symbol
preceded by a colon but no package name (for example :foo) is added to (or
looked up in) the keyword package as an external symbol. The keyword
package is also treated specially in that whenever a symbol is added to the
keyword package the symbol is always made external; the symbol is also
automatically declared to be a constant (see <a 
href="clmse30.html#x40-71006r16">defconstant</a>) and made to have
itself as its value. This is why every keyword evaluates to itself. As a
matter of style, keywords should always be accessed using the leading-colon
convention; the user should never import or inherit keywords into any
other package. It is an error to try to apply <a 
href="clmse63.html#x79-188057r194">use-package</a> to the keyword
package.
<!--l. 281--><p class="indent" >   Each symbol contains a package cell that is used to record the home package of
the symbol, or <a 
href="clmse31.html#x42-77002r19">nil</a> if the symbol is uninterned. This cell may be accessed by using
the function <a 
href="clmse56.html#x71-179016r171">symbol-package</a>. When an interned symbol is printed, if it is a
symbol in the keyword package, then it is printed with a preceding colon;
otherwise, if it is accessible (directly or by inheritance) in the current package, it
is printed without any qualiﬁcation; otherwise, it is printed with the name of the
home package as the qualiﬁer, using : as the separator if the symbol is external
and :: if not.
<!--l. 292--><p class="indent" >   A symbol whose package slot contains <a 
href="clmse31.html#x42-77002r19">nil</a> (that is, has no home package) is
printed preceded by #:. It is possible, by the use of <a 
href="clmse63.html#x79-188046r191">import</a> and <a 
href="clmse63.html#x79-188037r188">unintern</a>, to create
a symbol that has no recorded home package but that in fact is accessible in some
package. The system does not check for this pathological case, and such symbols
will always be printed preceded by #:.
<!--l. 300--><p class="indent" >   In summary, the following four uses of symbol qualiﬁer syntax are
deﬁned.
<div class=flushdesc>
<!--l. 303--><p class="indent" >
      <ul><li><b>
foo:bar </b></li>When read, looks up BAR among the external symbols of the package
                                                                          

                                                                          
      named FOO. Printed when symbol bar is external in its home package
      foo and is not accessible in the current package.
      <li><b>
foo::bar </b></li>When  read,  interns  BAR  as  if  FOO  were  the  current  package.
      Printed when symbol bar is internal in its home package foo and is not
      accessible in the current package.
      <li><b>
 :bar </b></li>When read, interns BAR as an external symbol in the keyword package
      and makes it evaluate to itself. Printed when the home package of
      symbol bar is keyword.
      <li><b>
#:bar </b></li>When read, creates a new uninterned symbol named BAR. Printed
      when the symbol bar is uninterned (has no home package), even in
      the pathological case that bar is uninterned but nevertheless somehow
      accessible in the current package.</ul>
</div>
<!--l. 325--><p class="indent" >   All other uses of colons within names of symbols are not deﬁned by Common
Lisp but are reserved for implementation-dependent use; this includes
names that end in a colon, contain two or more colons, or consist of just a
colon.
                                                                          

                                                                          
   <!--l. 330--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse60.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse58.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse58.html#tailclmse58.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse59.html" >Front</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch11.html#clmse59.html" >Up</a><tt>&#x003E;</tt></p></div>
<!--l. 330--><p class="indent" >   <a 
 id="tailclmse59.html"></a>  
</body></html> 

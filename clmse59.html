<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Built-in Packages</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,next,charset=utf-8,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-03-14 15:35:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
</head><body 
>
   <!--l. 939--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse60.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse58.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse58.html#tailclmse58.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse59.html">Tail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch11.html#clmse59.html" >Up</a><tt>&#x003E;</tt></p></div>
   <h3 class="sectionHead"><span class="titlemark">11.6   </span> <a 
 id="x75-16700011.6"></a>Built-in Packages</h3>
<div class=obsolete>
<!--l. 942--><p class="noindent" >The following packages, at least, are built into every Common Lisp system.
<div class=flushdesc>
<!--l. 946--><p class="indent" >
      <ul><li><b>
 lisp </b></li>The package named lisp contains the primitives of the Common Lisp
      system. Its external symbols include all of the user-visible functions
      and global variables that are present in the Common Lisp system, such
      as <a 
href="clmse83.html#x103-205002r412">car</a>, <a 
href="clmse83.html#x103-205004r413">cdr</a>, and <a 
href="clmse60.html#x76-168003r141">*package*</a>. Almost all other packages will want to use
      lisp so that these symbols will be accessible without qualiﬁcation.
      <li><b>
 user </b></li>The user package is, by default, the current package at the time a
      Common Lisp system starts up. This package uses the lisp package.</ul>
</div>
</div>
<div class=newer>
<!--l. 961--><p class="noindent" >X3J13 voted in March 1989 <a 
 id="dx75-167001"></a>to specify that the forthcoming ANSI Common Lisp
will use the package name common-lisp instead of lisp and the package name
common-lisp-user instead of user. The purpose is to allow a single Lisp
system to support both “old” Common Lisp and “new” ANSI Common Lisp
simultaneously despite the fact that in some cases the two languages use
the same names for incompatible purposes. (That&#x2019;s what packages are
for!)
<div class=flushdesc>
<!--l. 971--><p class="indent" >
      <ul><li><b>
common-lisp </b></li>The package named common-lisp contains the primitives of the
                                                                          

                                                                          
      ANSI Common Lisp system (as opposed to a Common Lisp system
      based on the 1984 speciﬁcation). Its external symbols include all of
      the user-visible functions and global variables that are present in the
      ANSI Common Lisp system, such as <a 
href="clmse83.html#x103-205002r412">car</a>, <a 
href="clmse83.html#x103-205004r413">cdr</a>, and <a 
href="clmse60.html#x76-168003r141">*package*</a>. Note,
      however, that the home package of such symbols is not necessarily the
      common-lisp package (this makes it easier for symbols such as <a 
href="clmse31.html#x42-74004r19">t</a> and
      lambda to be shared between the common-lisp package and another
      package, possibly one named lisp). Almost all other packages ought
      to use common-lisp so that these symbols will be accessible without
      qualiﬁcation. This package has the nickname cl.
      <li><b>
common-lisp-user </b></li>The common-lisp-user package is, by default, the current
      package at the time an ANSI Common Lisp system starts up. This
      package uses the common-lisp package and has the nickname cl-user.
      It may contain other implementation-dependent symbols and may use
      other implementation-speciﬁc packages.
      <!--l. 993--><p class="noindent" >Пакет common-lisp-ise является, по-умолчанию, текущим пакетом
      во  время  запуска  ANSI  Common  Lisp  системы.  Этот  пакет
      использует   пакет   common-lisp   и   имеет   псевдоним   cl-user.   В
      зависимости  от  реализации  он  также  может  содержать  другие
      символы и использовать платформоспецифичные пакеты.</ul>
</div>
</div>
<div class=flushdesc>
<!--l. 1002--><p class="noindent" >
      <ul><li><b>
keyword </b></li>This  package  contains  all  of  the  keywords  used  by  built-in  or
      user-deﬁned Lisp functions. Printed symbol representations that start
      with a colon are interpreted as referring to symbols in this package,
      which are always external symbols. All symbols in this package are
      treated as constants that evaluate to themselves, so that the user can
      type :foo instead of &#x2019;:foo.
      <!--l. 1010--><p class="noindent" >Этот   пакет   содержит   все   ключевые   символы,   используемые
      встроенными или пользовательскими Lisp&#x2019;овыми функциями. Имя
      символа,  начинающегося  с  двоеточего,  интерпретируется,  как
                                                                          

                                                                          
      ссылка  на  символ  из  этого  пакета,  который  всегда  является
      внешним.  Все  символы  в  этом  пакете  является  константами,
      которые вычисляются сами в себя, поэтому пользователь может
      записывать :foo вместо &#x2019;:foo.</ul>
</div>
<div class=obsolete>
<div class=flushdesc>
<!--l. 1019--><p class="noindent" >
      <ul><li><b>
system </b></li>This package name is reserved to the implementation. Normally this
      is used to contain names of implementation-dependent system-interface
      functions. This package uses lisp and has the nickname sys.</ul>
</div>
</div>
<div class=new>
<!--l. 1028--><p class="noindent" >X3J13 voted in January 1989 <a 
 id="dx75-167002"></a>to modify the requirements on the built-in packages
so as to limit what may appear in the common-lisp package and to lift the
requirement that every implementation have a package named system. The details
are as follows.
<!--l. 1035--><p class="indent" >   Not only must the common-lisp package in any given implementation contain
all the external symbols prescribed by the standard; the common-lisp package
moreover may not contain any external symbol that is not prescribed by the
standard. However, the common-lisp package may contain additional internal
symbols, depending on the implementation.
<!--l. 1042--><p class="indent" >   An external symbol of the common-lisp package may not have a function,
macro, or special form deﬁnition, or a top-level value, or a special proclamation,
or a type deﬁnition, unless speciﬁcally permitted by the standard. Programmers
may validly rely on this fact; for example, <a 
href="clmse35.html#x47-86013r57">fboundp</a> is guaranteed to be false for all
external symbols of the common-lisp package except those explicitly speciﬁed in
the standard to name functions, macros, and special forms. Similarly, <a 
href="clmse35.html#x47-86011r56">boundp</a> will
be false of all such external symbols except those documented to be variables or
constants.
<!--l. 1052--><p class="indent" >   Portable programs may use external symbols in the common-lisp package that
are not documented to be constants or variables as names of local lexical variables
with the presumption that the implementation has not proclaimed such variables
to be special; this legitimizes the common practice of using such names as <a 
href="clmse84.html#x104-206038r461">list</a> and
                                                                          

                                                                          
<a 
href="clmse99.html#x122-227022r584">string</a> as names for local variables.
<!--l. 1060--><p class="indent" >   A valid implementation may initially have properties on any symbol, or
dynamically put new properties on symbols (even user-created symbols), as long
as no property indicator used for this purpose is an external symbol of any
package deﬁned by the standard or a symbol that is accessible from the
common-lisp-user package or any package deﬁned by the user.
<!--l. 1067--><p class="indent" >   This vote eliminates the requirement that every implementation have a
predeﬁned package named system. An implementation may provide any number of
predeﬁned packages; these should be described in the documentation for that
implementation.
<!--l. 1072--><p class="indent" >   The common-lisp-user package may contain symbols not described by the
standard and may use other implementation-speciﬁc packages.
</div>
<div class=newer>
<!--l. 1077--><p class="noindent" >X3J13 voted in March 1989 <a 
 id="dx75-167003"></a>to restrict user programs from performing certain
actions that might interfere with built-in facilities or interact badly with them.
Except where explicitly allowed, the consequences are undeﬁned if any
of the following actions are performed on a symbol in the common-lisp
package.
      <ul class="itemize1">
      <li class="itemize">binding or altering its value (lexically or dynamically)
      </li>
      <li class="itemize">deﬁning or binding it as a function
      </li>
      <li class="itemize">deﬁning or binding it as a macro
      </li>
      <li class="itemize">deﬁning it as a type speciﬁer (<a 
href="clmse101.html#x125-230002r585">defstruct</a>, <a 
href="clmse148.html#x181-416022r882">defclass</a>, <a 
href="clmse24.html#x33-51002r6">deftype</a>)
      </li>
      <li class="itemize">deﬁning it as a structure (<a 
href="clmse101.html#x125-230002r585">defstruct</a>)
      </li>
      <li class="itemize">deﬁning it as a declaration
      </li>
      <li class="itemize">dsing it as a symbol macro
                                                                          

                                                                          
      </li>
      <li class="itemize">altering its print name
      </li>
      <li class="itemize">altering its package
      </li>
      <li class="itemize">tracing it
      </li>
      <li class="itemize">declaring or proclaiming it special or lexical
      </li>
      <li class="itemize">declaring or proclaiming its type or ftype
      </li>
      <li class="itemize">removing it from the package common-lisp</li></ul>
<!--l. 1099--><p class="noindent" >X3J13 also voted in June 1989 <a 
 id="dx75-167004"></a>to add to this list the item
      <ul class="itemize1">
      <li class="itemize">deﬁning it as a compiler macro</li></ul>
<!--l. 1105--><p class="indent" >   If such a symbol is not globally deﬁned as a variable or a constant, a
user program is allowed to lexically bind it and declare the type of that
binding.
<!--l. 1108--><p class="indent" >   If such a symbol is not deﬁned as a function, macro, or special form, a user
program is allowed to (lexically) bind it as a function and to declare the ftype of
that binding and to trace that binding.
<!--l. 1112--><p class="indent" >   If such a symbol is not deﬁned as a function, macro, or special form, a user
program is allowed to (lexically) bind it as a macro.
<!--l. 1115--><p class="indent" >   As an example, the behavior of the code fragment <div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(ﬂet ((open (ﬁlename &#x0026;key direction)
</td></tr></table>
<!--l. 1117--><p class="indent" >                              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">         (format t &#x0022;~%OPEN was called.&#x0022;)</td></tr></table>
<!--l. 1118--><p class="indent" >                           <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">         (open ﬁlename :direction direction)))</td></tr></table>
<!--l. 1119--><p class="indent" >                             <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (with-open-ﬁle (x &#x0022;frob&#x0022; :direction &#x2019;:output)</td></tr></table>
<!--l. 1120--><p class="indent" >                                 <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">    (format t &#x0022;~%Was OPEN called?&#x0022;)))</td></tr></table>
<!--l. 1122--><p class="indent" >
                                                                          

                                                                          
</div>
</div>
<!--l. 1123--><p class="noindent" >is undeﬁned. Even in a “reasonable” implementation, for example, the macro
expansion of <a 
href="clmse117.html#x145-281012r731">with-open-ﬁle</a> might refer to the <a 
href="clmse117.html#x145-281002r730">open</a> function and might not.
However, the preceding rules eliminate the burden of deciding whether an
implementation is reasonable. The code fragment violates the rules; oﬃcially its
behavior is therefore completely undeﬁned, and that&#x2019;s that.
<!--l. 1130--><p class="indent" >   Note that “altering the property list” is not in the list of proscribed actions, so
a user program <i>is</i> permitted to add properties to or remove properties from
symbols in the common-lisp package.
</div>
                                                                          

                                                                          
   <!--l. 1136--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse60.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse58.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse58.html#tailclmse58.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse59.html" >Front</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch11.html#clmse59.html" >Up</a><tt>&#x003E;</tt></p></div>
<!--l. 1136--><p class="indent" >   <a 
 id="tailclmse59.html"></a>  
</body></html> 

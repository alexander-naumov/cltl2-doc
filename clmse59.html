<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Функции и переменные для системы пакетов</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,index=2,next,fn-in,charset=utf-8,sections+,minitoc<,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-03-30 23:01:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
</head><body 
>
   <!--l. 2620--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmch12.html" >Далее</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse58.html" >Назад</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse58.html#tailclmse58.html" >Назад-и-вниз</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse59.html">В-конец</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch11.html#clmse59.html" >Вверх</a><tt>&#x003E;</tt></p></div>
   <h3 class="sectionHead"><span class="titlemark">11.7   </span> <a 
href="clm.html#QQ2-75-174" id="x75-16700011.7">Функции и переменные для системы пакетов</a></h3>
<!--l. 2623--><p class="noindent" >Для описанных здесь функций, все необязательные аргументы с именем
<i>package</i> имеют значение по-умолчанию <tt><a 
href="#x75-167002r141">*package*</a></tt>. Там, где функция
принимает аргумент, который может быть символом или списком символов,
значение <tt><a 
href="clmse30.html#x41-73002r18">nil</a></tt> расценивается, как пустой список символов. Любой аргумент,
описанный как имя пакета, может быть символом или строкой. Если указан
символ, то используется его выводимое имя. Если строка, то пользователь
должен позаботиться о преобразовании регистра символов в верхний там, где
это необходимо.
<div class=defun>
<!--l. 2632--><p class="noindent" ><i>[Переменная]</i><a 
 id="dx75-167001"></a><a 
 id="x75-167002r141"></a><b> *package*</b>
<!--l. 2634--><p class="noindent" >Значение этой переменной должно быть объектом пакета. Этот пакет
называется текущим. Первоначальное значение <tt><a 
href="#x75-167002r141">*package*</a></tt> является пакетом
<tt>common-lisp-user</tt>.
<!--l. 2638--><p class="indent" >   Функции <tt><a 
href="clmse115.html#x143-279002r707">load</a></tt> и <tt><a 
href="clmse117.html#x146-282009r716">compile-file</a></tt> пересвязывают <tt><a 
href="#x75-167002r141">*package*</a></tt> в текущее
значение. Если некоторая форма в файле во время загрузки изменяет
значение <tt><a 
href="#x75-167002r141">*package*</a></tt>, старое значение будет восстановлено после завершения
загрузки.
<!--l. 2642--><p class="indent" >   Функция <tt><a 
href="clmse117.html#x146-282009r716">compile-file</a></tt> пересвязывает <tt><a 
href="#x75-167002r141">*package*</a></tt> в текущее значение.
Если некоторая форма в файле во время загрузки или компиляции изменяет
значение <tt><a 
href="#x75-167002r141">*package*</a></tt>, старое значение будет восстановлено после завершения
функции.
<div class=defun>
<!--l. 2647--><p class="noindent" ><i>[Функция]</i><a 
 id="dx75-167003"></a><a 
 id="x75-167004r142"></a><b> make-package</b>  <i>package-name</i> &#x0026;key  <i>:nicknames</i> <i>:use</i>
<!--l. 2649--><p class="noindent" >Эта функция создаёт и возвращает новый пакет с указанным именем. Как
было описано выше, аргументом может быть или символ, или строка.
Аргумент <tt>:nicknames</tt> должен быть списком строк, которые будут
псевдонимами. И здесь пользователь вместо строк может указывать символы,
в случае которых будут использоваться выводимые имена. Это имя и
псевдонимы не могут конфликтовать с уже имеющимися именами пакетов.
Если конфликт произошёл, сигнализируется ошибка с возможностью
                                                                          

                                                                          
исправления.
<!--l. 2658--><p class="indent" >   Аргумент <tt>:use</tt> является списком пакетов или имён (строк или символов)
пакетов, чьи внешние символы будут унаследованы новым пакетом. Эти
пакеты должны существовать перед вызовом функции.
</div>
<div class=defmac>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"> <i>[Макрос]</i><b> in-package </b><a 
 id="dx75-167005"></a><a 
 id="x75-167006r143"></a> name
</td></tr></table>
<!--l. 2665--><p class="indent" >
</div>
<!--l. 2665--><p class="noindent" ><span class="paragraphHead"><a 
href="#x75-16800011.7" id="x75-16800011.7"></a></span>
   Этот макрос пересвязывает переменную <tt><a 
href="#x75-167002r141">*package*</a></tt> с пакетом, имя
которого указано в параметре <i>name</i>. Параметр <i>name</i> может быть строкой
или символом. Форма <i>name</i> не вычисляется. В случае отсутствия пакета,
сигнализируется ошибка. Кроме того, в случае вызова в качестве формы
верхнего уровня, этот макрос работает и во время компиляции.
<tt>
<!--l. 2673--><p class="indent" >   <a 
href="#x75-167006r143">in-package</a></tt> возвращает новый пакет, то есть значение <tt><a 
href="#x75-167002r141">*package*</a></tt> после
выполнения операции.
</div>
<div class=defun>
<!--l. 2677--><p class="noindent" ><i>[Функция]</i><a 
 id="dx75-168001"></a><a 
 id="x75-168002r144"></a><b> ﬁnd-package</b>  <i>name</i>
<!--l. 2679--><p class="noindent" >Параметр <i>name</i> должен быть строкой, которая является именем или
псевдонимом искомого пакета. Этот параметр может также быть символов, в
случае которого используется выводимое имя. В результате возвращается
объект пакета с указанным именем или псевдонимом. Если пакет найден не
был, то <tt><a 
href="#x75-168002r144">find-package</a></tt> возвращает <tt><a 
href="clmse30.html#x41-73002r18">nil</a></tt>. Сравнение имен регистрозависимо
(как в <tt><a 
href="clmse94.html#x117-221002r538">string=</a></tt>).
<!--l. 2687--><p class="indent" >   Аргумент <i>package</i> может быть объектом пакета, в таком случае значение
аргумента сразу возвращается. Смотрите раздел <a 
href="clmse54.html#x70-16200011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
</div>
                                                                          

                                                                          
<div class=defun>
<!--l. 2691--><p class="noindent" ><i>[Функция]</i><a 
 id="dx75-168003"></a><a 
 id="x75-168004r145"></a><b> package-name</b>  <i>package</i>
<!--l. 2693--><p class="noindent" >Аргумент должен быть объектом пакета. Данная функция возвращает
строку имени указанного пакета.
<!--l. 2697--><p class="indent" >   Кроме того функция принимает имя пакета или псевдоним, и в этом
случае возвращает главное имя пакета. Смотрите раздел <a 
href="clmse54.html#x70-16200011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
<tt>
<!--l. 2700--><p class="indent" >   <a 
href="#x75-168004r145">package-name</a></tt> возвращает <tt><a 
href="clmse30.html#x41-73002r18">nil</a></tt> вместо имени пакета, если пакет был
удалён. Смотрите <tt><a 
href="#x75-168018r152">delete-package</a></tt>.
</div>
<div class=defun>
<!--l. 2704--><p class="noindent" ><i>[Функция]</i><a 
 id="dx75-168005"></a><a 
 id="x75-168006r146"></a><b> package-nicknames</b>  <i>package</i>
<!--l. 2706--><p class="noindent" >Аргумент должен быть объектом пакета. Эта функция возвращает список
псевдонимов для заданного пакета, не включая главное имя.
<!--l. 2710--><p class="indent" >   Кроме того функция принимает имя пакета или псевдоним, и в этом
случае возвращается список псевдонимов пакета. Смотрите раздел <a 
href="clmse54.html#x70-16200011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
</div>
<div class=defun>
<!--l. 2714--><p class="noindent" ><i>[Функция]</i><a 
 id="dx75-168007"></a><a 
 id="x75-168008r147"></a><b> rename-package</b>  <i>package</i> <i>new-name</i> &#x0026;optional  <i>new-nicknames</i>
<!--l. 2716--><p class="noindent" >Старое имя и все старые псевдонимы пакета <i>package</i> удаляются и
заменяются на <i>new-name</i> и <i>new-nicknames</i>. Аргумент <i>new-name</i> может быть
строкой или символом. Аргумент <i>new-nicknames</i>, который по-умолчанию <tt><a 
href="clmse30.html#x41-73002r18">nil</a></tt>,
является списком строк или символов.
<!--l. 2722--><p class="indent" >   Аргумент <i>package</i> может быть как объектом пакета, так и его именем.
Смотрите раздел <a 
href="clmse54.html#x70-16200011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
<tt>
<!--l. 2725--><p class="indent" >   <a 
href="#x75-168008r147">rename-package</a></tt> возвращает <i>package</i>.
</div>
<div class=defun>
<!--l. 2728--><p class="noindent" ><i>[Функция]</i><a 
 id="dx75-168009"></a><a 
 id="x75-168010r148"></a><b> package-use-list</b>  <i>package</i>
<!--l. 2730--><p class="noindent" >Данная функция возвращает список пакетов, используемых указанным в
параметре пакетом.
<!--l. 2734--><p class="indent" >   Аргумент <i>package</i> может быть как объектом пакета, так и его именем.
Смотрите раздел <a 
href="clmse54.html#x70-16200011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
</div>
<div class=defun>
<!--l. 2738--><p class="noindent" ><i>[Функция]</i><a 
 id="dx75-168011"></a><a 
 id="x75-168012r149"></a><b> package-used-by-list</b>  <i>package</i>
<!--l. 2740--><p class="noindent" >Данная функция возвращает список пакетов, использующих указанный в
                                                                          

                                                                          
параметре пакет.
<!--l. 2744--><p class="indent" >   Аргумент <i>package</i> может быть как объектом пакета, так и его именем.
Смотрите раздел <a 
href="clmse54.html#x70-16200011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
</div>
<div class=defun>
<!--l. 2748--><p class="noindent" ><i>[Функция]</i><a 
 id="dx75-168013"></a><a 
 id="x75-168014r150"></a><b> package-shadowing-symbols</b>  <i>package</i>
<!--l. 2750--><p class="noindent" >Данная функция возвращает список символов, которые были задекларированы,
как скрывающие символы, с помощью <tt><a 
href="#x75-168034r160">shadow</a></tt> или <tt><a 
href="#x75-168032r159">shadowing-import</a></tt>. Все
символы в этом списке является <i>родственными</i> указанному пакету.
<!--l. 2755--><p class="indent" >   Аргумент <i>package</i> может быть как объектом пакета, так и его именем.
Смотрите раздел <a 
href="clmse54.html#x70-16200011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
</div>
<div class=defun>
<!--l. 2759--><p class="noindent" ><i>[Функция]</i><a 
 id="dx75-168015"></a><a 
 id="x75-168016r151"></a><b> list-all-packages</b>
<!--l. 2761--><p class="noindent" >Эта функция возвращает список всех пакетов, которые существуют в
Lisp&#x2019;овой системе.
</div>
<div class=defun>
<!--l. 2766--><p class="noindent" ><i>[Функция]</i><a 
 id="dx75-168017"></a><a 
 id="x75-168018r152"></a><b> delete-package</b>  <i>package</i>
<!--l. 2768--><p class="noindent" >Функция <tt><a 
href="#x75-168018r152">delete-package</a></tt> удаляет указанный в аргументе <i>package</i> пакет, из
всех структур данных системы пакетов. Аргумент <i>package</i> может быть как
пакетом, так и его именем.
<!--l. 2773--><p class="indent" >   Если <i>package</i> является именем, но пакета с данным именем не
существует, сигнализируется исправимая ошибка. Продолжение из этой
ошибки не делает попытку удаления, но возвращает <tt><a 
href="clmse30.html#x41-73002r18">nil</a></tt> из вызова
<tt><a 
href="#x75-168018r152">delete-package</a></tt>.
<!--l. 2777--><p class="indent" >   Если <i>package</i> является пакетов, но пакет уже был удалён, ошибка не
сигнализируется и попыток удаления не происходит. Вместо этого
<tt><a 
href="#x75-168018r152">delete-package</a></tt> немедленно возвращает <tt><a 
href="clmse30.html#x41-73002r18">nil</a></tt>.
<!--l. 2781--><p class="indent" >   Если пакет, указанный для удаления, в этот момент используется
другими пакетами, сигнализируется исправимая ошибка. Продолжение из
этой ошибки выглядит как, если бы функция <tt><a 
href="#x75-168038r162">unuse-package</a></tt> была выполнена
на всех использующих пакетах для удаления зависимостей, после чего была
вызвана <tt><a 
href="#x75-168018r152">delete-package</a></tt> для удаления пакета.
<!--l. 2787--><p class="indent" >   Если указанный пакет является домашним для некоторого символа, тогда
после выполнения <tt><a 
href="#x75-168018r152">delete-package</a></tt>, ячейка домашнего пакета символа
становится неопределённой. Никак по-другому символы в удаляемом пакете
не модифицируются.
                                                                          

                                                                          
<!--l. 2791--><p class="indent" >   Имя и псевдонимы пакета <i>package</i> перестают быть сами собой. Объект
пакета остаётся, но анонимно: <tt><a 
href="clmse31.html#x42-76040r41">packagep</a></tt> будет истинным, но <tt><a 
href="#x75-168004r145">package-name</a></tt>
применительно к нему будет возвращать <tt><a 
href="clmse30.html#x41-73002r18">nil</a></tt>.
<!--l. 2795--><p class="indent" >   Влияние любой другой операции на удалённым объектом пакета не
определена. В частности, попытка найти символ в удалённый пакет
(например, используя <tt><a 
href="#x75-168020r153">intern</a></tt> или <tt><a 
href="#x75-168022r154">find-symbol</a></tt>) будет иметь неопределённый
результат.
<!--l. 2799--><p class="indent" >   Если удаление было успешно, <tt><a 
href="#x75-168018r152">delete-package</a></tt> возвращает <tt><a 
href="clmse30.html#x41-73004r19">t</a></tt>, иначе
<tt><a 
href="clmse30.html#x41-73002r18">nil</a></tt>.
</div>
<div class=defun>
<!--l. 2802--><p class="noindent" ><i>[Функция]</i><a 
 id="dx75-168019"></a><a 
 id="x75-168020r153"></a><b> intern</b>  <i>string</i> &#x0026;optional  <i>package</i>
<!--l. 2804--><p class="noindent" >В пакете <i>package</i>, который по-умолчанию равен текущему пакету,
осуществляется поиск символа с именем, указанным в аргументе <i>string</i>. Этот
поиск будет включить унаследованные символы, как описано в разделе <a 
href="clmse56.html#x72-16400011.4">11.4<!--tex4ht:ref: EXPORT-IMPORT-SECTION --></a>.
Если ни одного символа не найдено, то символ создаётся и устанавливается в
указанный пакет в качестве внутреннего символа (или внешнего символа,
если пакет <tt>keyword</tt>). Указанный пакет становиться домашним пакетом для
созданного символа. Возвращается два значения. Первое является
символом, который был найден или создан. Второе значение <tt><a 
href="clmse30.html#x41-73002r18">nil</a></tt>,
если символ не существовал ранее, или одно из следующих значений:
<div class=indentdesc>
      <ul><li><b>
<tt>:internal</tt> </b></li>Символ  напрямую  представлен  в  пакете  как  внутренний
      символ.
      <li><b>
<tt>:external</tt> </b></li>Символ напрямую представлен в пакете как внешний символ.
      <li><b>
<tt>:inherited</tt> </b></li>Символ    унаследован    с    помощью    <tt><a 
href="#x75-168036r161">use-package</a></tt>   (и
      следовательно символ является внутренним).</ul>
</div>
<!--l. 2827--><p class="indent" >   Аргумент <i>package</i> может быть как объектом пакета, так и его именем.
Смотрите раздел <a 
href="clmse54.html#x70-16200011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
</div>
<div class=defun>
                                                                          

                                                                          
<!--l. 2831--><p class="noindent" ><i>[Функция]</i><a 
 id="dx75-168021"></a><a 
 id="x75-168022r154"></a><b> ﬁnd-symbol</b>  <i>string</i> &#x0026;optional  <i>package</i>
<!--l. 2833--><p class="noindent" >Эта функция идентична <tt><a 
href="#x75-168020r153">intern</a></tt>, но она никогда не создаёт новый символ.
Если символ с указанным именем был найден в указанном пакете, напрямую
или через наследование, найденный возвращается символ как первое
значение и второе значение так же как в <tt><a 
href="#x75-168020r153">intern</a></tt>. Если символ не доступен в
заданном пакете, оба значения равны <tt><a 
href="clmse30.html#x41-73002r18">nil</a></tt>.
<!--l. 2840--><p class="indent" >   Аргумент <i>package</i> может быть как объектом пакета, так и его именем.
Смотрите раздел <a 
href="clmse54.html#x70-16200011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
</div>
<div class=defun>
<!--l. 2844--><p class="noindent" ><i>[Функция]</i><a 
 id="dx75-168023"></a><a 
 id="x75-168024r155"></a><b> unintern</b>  <i>symbol</i> &#x0026;optional  <i>package</i>
<!--l. 2846--><p class="noindent" >Если указанный символ представлен в указанном пакете <i>package</i>, он
удаляется из этого пакета и также из списка затеняющих символов,
если он там был. Кроме того, если <i>package</i> для символа является
домашним пакетом, то символ отсоединяется и становится бездомным.
Следует отметить, что в некоторых обстоятельствах может продолжить
быть доступным с помощью наследования в указанном пакете. Если
удаление действительно произошло, <tt><a 
href="#x75-168024r155">unintern</a></tt> возвращает <tt><a 
href="clmse30.html#x41-73004r19">t</a></tt>, иначе
<tt><a 
href="clmse30.html#x41-73002r18">nil</a></tt>.
<tt>
<!--l. 2856--><p class="indent" >   <a 
href="#x75-168024r155">unintern</a></tt> должна использоваться с осторожностью. Она изменяет
состояние системы пакетов так, что правила согласованности перестают
действовать.
<!--l. 2859--><p class="indent" >   Аргумент <i>package</i> может быть как объектом пакета, так и его именем.
Смотрите раздел <a 
href="clmse54.html#x70-16200011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
</div>
<div class=defun>
<!--l. 2863--><p class="noindent" ><i>[Функция]</i><a 
 id="dx75-168025"></a><a 
 id="x75-168026r156"></a><b> export</b>  <i>symbols</i> &#x0026;optional  <i>package</i>
<!--l. 2865--><p class="noindent" >Аргумент <i>symbols</i> должен быть списком символов или одиночным символом.
Эти символы становятся доступными как внешние символы в пакете <i>package</i>
(смотрите раздел <a 
href="clmse56.html#x72-16400011.4">11.4<!--tex4ht:ref: EXPORT-IMPORT-SECTION --></a>). <tt><a 
href="#x75-168026r156">export</a></tt> возвращает <tt><a 
href="clmse30.html#x41-73004r19">t</a></tt>.
<!--l. 2871--><p class="indent" >   По соглашению, вызов <tt><a 
href="#x75-168026r156">export</a></tt> содержит все экспортируемые символы и
помещается рядом с началом файла, для указания того, какие символы
экспортируются данным файлом для использования другими программами.
<!--l. 2875--><p class="indent" >   Аргумент <i>package</i> может быть как объектом пакета, так и его именем.
Смотрите раздел <a 
href="clmse54.html#x70-16200011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
</div>
<div class=defun>
                                                                          

                                                                          
<!--l. 2879--><p class="noindent" ><i>[Функция]</i><a 
 id="dx75-168027"></a><a 
 id="x75-168028r157"></a><b> unexport</b>  <i>symbols</i> &#x0026;optional  <i>package</i>
<!--l. 2881--><p class="noindent" >Аргумент <i>symbols</i> должен быть списком символов или одиночным символом.
Эти символы становятся внутренними символами в пакете <i>package</i>.
Использование этой операции для символов пакета <tt>keyword</tt> является
ошибкой. (смотрите раздел <a 
href="clmse56.html#x72-16400011.4">11.4<!--tex4ht:ref: EXPORT-IMPORT-SECTION --></a>). <tt><a 
href="#x75-168028r157">unexport</a></tt> возвращает <tt><a 
href="clmse30.html#x41-73004r19">t</a></tt>.
<!--l. 2888--><p class="indent" >   Аргумент <i>package</i> может быть как объектом пакета, так и его именем.
Смотрите раздел <a 
href="clmse54.html#x70-16200011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
</div>
<div class=defun>
<!--l. 2892--><p class="noindent" ><i>[Функция]</i><a 
 id="dx75-168029"></a><a 
 id="x75-168030r158"></a><b> import</b>  <i>symbols</i> &#x0026;optional  <i>package</i>
<!--l. 2894--><p class="noindent" >Аргумент <i>symbols</i> должен быть списком символов или одиночным символом.
Эти символы становятся внутренними символами в пакете <i>package</i> и, таким
образом, могут быть указаны без использования полного имени (с
двоеточием). <tt><a 
href="#x75-168030r158">import</a></tt> сигнализирует исправимую ошибку, если любой
из импортируемых символов имеет такое же имя, как один из уже
присутствующих в пакете символов (смотрите раздел <a 
href="clmse56.html#x72-16400011.4">11.4<!--tex4ht:ref: EXPORT-IMPORT-SECTION --></a>). <tt><a 
href="#x75-168030r158">import</a></tt>
возвращает <tt><a 
href="clmse30.html#x41-73004r19">t</a></tt>.
<!--l. 2903--><p class="indent" >   Если любой импортируемый символ не имеет домашнего пакета,
тогда <tt><a 
href="#x75-168030r158">import</a></tt> устанавливает домашний пакет тот, в который символ
импортируется.
<!--l. 2906--><p class="indent" >   Аргумент <i>package</i> может быть как объектом пакета, так и его именем.
Смотрите раздел <a 
href="clmse54.html#x70-16200011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
</div>
<div class=defun>
<!--l. 2910--><p class="noindent" ><i>[Функция]</i><a 
 id="dx75-168031"></a><a 
 id="x75-168032r159"></a><b> shadowing-import</b>  <i>symbols</i> &#x0026;optional  <i>package</i>
<!--l. 2912--><p class="noindent" >Данная функция похожа на <tt><a 
href="#x75-168030r158">import</a></tt>, но не сигнализирует ошибку, даже если
импортирование символа будет затенять некоторый другой символ, уже
присутствующий в пакете. В дополнение к импортированию символ
помещается в список затеняющих символов пакета <i>package</i> (смотрите
раздел <a 
href="clmse57.html#x73-16500011.5">11.5<!--tex4ht:ref: NAME-CONFLICTS-SECTION --></a>). <tt><a 
href="#x75-168032r159">shadowing-import</a></tt> возвращает <tt><a 
href="clmse30.html#x41-73004r19">t</a></tt>.
<tt>
<!--l. 2920--><p class="indent" >   <a 
href="#x75-168032r159">shadowing-import</a></tt> должен использоваться с осторожностью. Она
изменяет состояние системы пакетов так, что правила согласованности
перестают действовать.
<!--l. 2923--><p class="indent" >   Аргумент <i>package</i> может быть как объектом пакета, так и его именем.
Смотрите раздел <a 
href="clmse54.html#x70-16200011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
</div>
<div class=defun>
                                                                          

                                                                          
<!--l. 2927--><p class="noindent" ><i>[Функция]</i><a 
 id="dx75-168033"></a><a 
 id="x75-168034r160"></a><b> shadow</b>  <i>symbols</i> &#x0026;optional  <i>package</i>
<!--l. 2929--><p class="noindent" >Аргумент должен быть списком символов или строк или одиночным
символом или строкой. Рассматривается выводимое имя каждого
символа (или просто строка) и в указанном пакете <i>package</i> ищется
символ с таким же именем. Если данный символ присутствует в этом
пакете (напрямую, не с помощью наследования), тогда он добавляется
в список затеняющих символов. Иначе, создаётся новый символ с
указанным выводимым именем, и вставляется в пакет <i>package</i> как
внутренний символ. Символ также помещается в список затеняющих
символов пакета <i>package</i> (смотрите раздел <a 
href="clmse57.html#x73-16500011.5">11.5<!--tex4ht:ref: NAME-CONFLICTS-SECTION --></a>). <tt><a 
href="#x75-168034r160">shadow</a></tt> возвращает
<tt><a 
href="clmse30.html#x41-73004r19">t</a></tt>.
<tt>
<!--l. 2940--><p class="indent" >   shadowing</tt> должен использоваться с осторожностью. Она изменяет
состояние системы пакетов так, что правила согласованности перестают
действовать.
<!--l. 2943--><p class="indent" >   Аргумент <i>package</i> может быть как объектом пакета, так и его именем.
Смотрите раздел <a 
href="clmse54.html#x70-16200011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
</div>
<div class=defun>
<!--l. 2947--><p class="noindent" ><i>[Функция]</i><a 
 id="dx75-168035"></a><a 
 id="x75-168036r161"></a><b> use-package</b>  <i>packages-to-use</i> &#x0026;optional  <i>package</i>
<!--l. 2949--><p class="noindent" >Аргумент <i>packages-to-use</i> должен быть списком пакетов или их имён или
одиночным пакетом или его именем. Эти пакеты добавляются в список
использования <i>package</i>, если их там ещё нет. Все внешние символы в пакетах
становятся доступными в пакете <i>package</i> как внутренние символы (смотрите
раздел <a 
href="clmse56.html#x72-16400011.4">11.4<!--tex4ht:ref: EXPORT-IMPORT-SECTION --></a>). Использование пакета <tt>keyword</tt> является ошибкой. <tt><a 
href="#x75-168036r161">use-package</a></tt>
возвращает <tt><a 
href="clmse30.html#x41-73004r19">t</a></tt>.
<!--l. 2958--><p class="indent" >   Аргумент <i>package</i> может быть как объектом пакета, так и его именем.
Смотрите раздел <a 
href="clmse54.html#x70-16200011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
</div>
<div class=defun>
<!--l. 2962--><p class="noindent" ><i>[Функция]</i><a 
 id="dx75-168037"></a><a 
 id="x75-168038r162"></a><b> unuse-package</b>  <i>packages-to-unuse</i> &#x0026;optional  <i>package</i>
<!--l. 2964--><p class="noindent" >Аргумент <i>packages-to-use</i> должен быть списком пакетов или их имён или
одиночным пакетом или его именем. Эти пакеты удаляются из списка
использования <i>package</i>, если они там были. <tt><a 
href="#x75-168038r162">unuse-package</a></tt> возвращает
<tt><a 
href="clmse30.html#x41-73004r19">t</a></tt>.
<!--l. 2970--><p class="indent" >   Аргумент <i>package</i> может быть как объектом пакета, так и его именем.
Смотрите раздел <a 
href="clmse54.html#x70-16200011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
</div>
                                                                          

                                                                          
<div class=defmac>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"> <i>[Макрос]</i><b> defpackage </b><a 
 id="dx75-168039"></a><a 
 id="x75-168040r163"></a> deﬁned-package-name  {option}*
</td></tr></table>
<!--l. 2976--><p class="indent" >
</div>
<!--l. 2976--><p class="noindent" ><span class="paragraphHead"><a 
href="#x75-16900011.7" id="x75-16900011.7"></a></span>
   Эта функция создаёт новый пакет, или модифицирует уже существующий,
имя которого является <i>deﬁned-package-name</i>. Аргумент <i>deﬁne-package-name</i>
может быть строкой или символом. Если он является символом, то
используется его выводимое имя, а не пакет, если вдруг в котором находится
данный символ. Созданный или модифицированный пакет возвращается как
значение формы <tt><a 
href="#x75-168040r163">defpackage</a></tt>.
<div class=flushdesc>
<!--l. 2986--><p class="indent" >
      <ul><li><b>
<tt>(:size <i>integer</i>)</tt> </b></li>Запись  указывает  примерное  количество  символов
      ожидаемых быть в пакете. Это просто подсказка для менеджера
      памяти так, что реализация используя хеш-таблицы для хранения
      структуры  пакета  может  указать  данный  параметр,  и  память
      будет более эффективно выделяться (удобно, например при чтении
      файла и всех его символов в пакет).
      <li><b>
<tt>(:nicknames {<i><i></i></i>}*package-name)</tt> </b></li>Запись   указывает   псевдонимы   для
      пакета. Если один из псевдонимов уже указывает на имеющийся
      пакет, то сигнализируется исправимая ошибка, как для функции
      <tt><a 
href="#x75-167004r142">make-package</a></tt>.
      <li><b>
<tt>(:shadow {<i><i></i></i>}*symbol-name)</tt> </b></li>Указывает имена символов, которые будут
      затеняющими в определяемом пакете. Работает как <tt><a 
href="#x75-168034r160">shadow</a></tt>.
                                                                          

                                                                          
      <li><b>
<tt>(:shadowing-import-from <i>package-name</i> {<i><i></i></i>}*symbol-name)</tt> </b></li>
      Указывает
      имена символов, которые будут размещены в определяемом пакете.
      Эти символы импортируются в пакет, будучи при необходимости
      затеняющими, как при использовании функции <tt><a 
href="#x75-168032r159">shadowing-import</a></tt>.
      Ни в коем случае символы не создаются. Если для любого имени
      <i>symbol-name</i> не существует символа доступного в пакете с именем
      <i>package-name</i>, то сигнализируется исправимая ошибка.
      <li><b>
<tt>(:use {<i><i></i></i>}*package-name)</tt> </b></li>Указывает                           определяемому
      пакету «использовать» (наследовать от) пакеты указанные в этой
      опции. Работает также, как и <tt><a 
href="#x75-168036r161">use-package</a></tt>. Если <tt>:use</tt> не указана,
      тогда опция имеет неопределённое значение.
      <li><b>
<tt>(:import-from <i>package-name</i> {<i><i></i></i>}*symbol-name)</tt> </b></li>Указывает   символы,
      которые будут размещены в определяемом пакете. Эти символы
      импортируются   в   пакет,   как   при   использовании   функции
      <tt><a 
href="#x75-168032r159">shadowing-import</a></tt>. Ни в коем случае символы не создаются. Если
      для любого имени <i>symbol-name</i> не существует символа доступного
      в пакете с именем <i>package-name</i>, то сигнализируется исправимая
      ошибка.
      <li><b>
<tt>(:intern {<i><i></i></i>}*symbol-name)</tt> </b></li>Указанные   символы   размещаются   или
      создаются в определяемом пакете, как при использовании функции
      <tt><a 
href="#x75-168020r153">intern</a></tt>. Следует отметить, что действие этой опции может зависеть
      от опции <tt>:use</tt>, так как преимущество отдаётся унаследованному
      символу, чем созданию нового.
      <li><b>
<tt>(:export {<i><i></i></i>}*symbol-name)</tt> </b></li>Указанные   символы   размещаются   или
      создаются  в  определяемом  пакете  и  затем  экспортируются,  как
      при   использовании   функции   <tt><a 
href="#x75-168026r156">export</a></tt>.   Следует   отметить,   что
      действие этой опции может зависеть от опции <tt>:use</tt>, <tt>import-from</tt>
      или   <tt>shadowing-import-from</tt>  так   как   преимущество   отдаётся
      унаследованному или импортированному символу, чем созданию
                                                                          

                                                                          
      нового.</ul>
</div>
<!--l. 3037--><p class="indent" >   Порядок, в котором опции используются в форме <tt><a 
href="#x75-168040r163">defpackage</a></tt>, не имеет
значения. Часть соглашения в том, что <tt><a 
href="#x75-168040r163">defpackage</a></tt> сортирует опции
перед обработкой. Опции обрабатываются в следующем порядке:
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">1.  <tt>:shadow</tt> and <tt>:shadowing-import-from</tt>
</td></tr></table>
<!--l. 3042--><p class="indent" >                                                                 <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">2.  <tt>:use</tt></td></tr></table>
<!--l. 3043--><p class="indent" >                                           <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">3.  <tt>:import-from</tt> and <tt>:intern</tt></td></tr></table>
<!--l. 3044--><p class="indent" >                                                              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">4.  <tt>:export</tt></td></tr></table>
<!--l. 3046--><p class="indent" >
</div>
<!--l. 3047--><p class="noindent" >Сначала устанавливаются затенения, чтобы избежать ложных конфликтов при
установке связей для use. Связи use должны устанавливаться перед
импортированием и интернированием, таким образом эти операции могут
ссылаться на нормально унаследованные символы, а не создавать новые.
Экспортирование выполняется последним, таким образом символы созданные
любой другой операцией, в частности, затеняющие и импортированные символы,
могут быть экспортированы. Следует отметить, что экспортирование
унаследованного символа сначала неявно импортирует его (смотрите
раздел <a 
href="clmse56.html#x72-16400011.4">11.4<!--tex4ht:ref: EXPORT-IMPORT-SECTION --></a>).
<!--l. 3056--><p class="indent" >   Если пакета с именем <i>deﬁned-package-name</i> не существовало, то
<tt><a 
href="#x75-168040r163">defpackage</a></tt> создаст его. Если такой пакет уже существовал, то новый пакет
создан не будет. Существующий пакет модифицируется, если возможно, для
отражения нового определения. Результат не определён, если новое
определение не совместимо с текущим состоянием пакета.
<!--l. 3062--><p class="indent" >   Если одинаковый аргумент <tt><a 
href="clmse51.html#x66-158002r133">symbol-name</a></tt> (в смысле сравнения имён с
помощью <tt><a 
href="clmse94.html#x117-221002r538">string=</a></tt>) встречается более одного раза в опциях <tt>:shadow</tt>,
<tt>:shadowing-import-from</tt>, <tt>:import-from</tt> и <tt>:intern</tt>, сигнализируется
ошибка.
<!--l. 3067--><p class="indent" >   Если одинаковый аргумент <tt><a 
href="clmse51.html#x66-158002r133">symbol-name</a></tt> (в смысле сравнения имён с
помощью <tt><a 
href="clmse94.html#x117-221002r538">string=</a></tt>) встречается более одного раза в опциях <tt>:intern</tt> и
<tt>:export</tt>, сигнализируется ошибка.
                                                                          

                                                                          
<!--l. 3071--><p class="indent" >   Другие виды конфликтов обрабатывается в том же стиле, как в
соответствующих операциях <tt><a 
href="#x75-168036r161">use-package</a></tt>, <tt><a 
href="#x75-168030r158">import</a></tt> и <tt><a 
href="#x75-168026r156">export</a></tt>.
<!--l. 3074--><p class="indent" >   Реализация может поддерживать другие опции для <tt><a 
href="#x75-168040r163">defpackage</a></tt>.
Каждая реализация должно сигнализировать ошибку при встрече с
неподдерживаемой опцией для <tt><a 
href="#x75-168040r163">defpackage</a></tt>.
<!--l. 3078--><p class="indent" >   Функция <tt><a 
href="clmse117.html#x146-282009r716">compile-file</a></tt> должна обрабатывается формы верхнего уровня
<tt><a 
href="#x75-168040r163">defpackage</a></tt> таким же методом, как и обрабатывает формы верхнего уровня
для работы с пакетам (как описано в начале раздела <a 
href="#x75-16700011.7">11.7<!--tex4ht:ref: PACKAGE-FUNCTIONS-SECTION --></a>).
<!--l. 3082--><p class="indent" >   Вот пример вызова <tt><a 
href="#x75-168040r163">defpackage</a></tt>, которая «не рискует (plays it safe)»,
используя только строки в качестве имён. <div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(cl:defpackage &#x0022;MY-VERY-OWN-PACKAGE&#x0022;
</td></tr></table>
<!--l. 3085--><p class="indent" >                                                              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (:size 496)</td></tr></table>
<!--l. 3086--><p class="indent" >                         <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (:nicknames &#x0022;MY-PKG&#x0022; &#x0022;MYPKG&#x0022; &#x0022;MVOP&#x0022;)</td></tr></table>
<!--l. 3087--><p class="indent" >                                               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (:use &#x0022;COMMON-LISP&#x0022;)</td></tr></table>
<!--l. 3088--><p class="indent" >                                               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (:shadow &#x0022;CAR&#x0022; &#x0022;CDR&#x0022;)</td></tr></table>
<!--l. 3089--><p class="indent" >                  <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (:shadowing-import-from &#x0022;BRAND-X-LISP&#x0022; &#x0022;CONS&#x0022;)</td></tr></table>
<!--l. 3090--><p class="indent" >   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (:import-from &#x0022;BRAND-X-LISP&#x0022; &#x0022;GC&#x0022; &#x0022;BLINK-FRONT-PANEL-LIGHTS&#x0022;)</td></tr></table>
<!--l. 3091--><p class="indent" >              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (:export &#x0022;EQ&#x0022; &#x0022;CONS&#x0022; &#x0022;MY-VERY-OWN-FUNCTION&#x0022;))</td></tr></table>
<!--l. 3093--><p class="indent" >
</div>
</div>
<tt>
<!--l. 3094--><p class="noindent" ><a 
href="#x75-168040r163">defpackage</a></tt> пример выше спроектирован работать корректно, даже если
текущий пакет не использует пакет <tt>common-lisp</tt>. (Следует отметить, что в
этом примере используется псевдоним <tt>cl</tt> для пакета <tt>common-lisp</tt>.) Более
того, выполнение этой формы <tt><a 
href="#x75-168040r163">defpackage</a></tt> не создаст символа в текущем
пакете. А также для последующего удобства для строк использованы буквы
в верхнем регистре.
<!--l. 3101--><p class="indent" >   А вот для контраста пример <tt><a 
href="#x75-168040r163">defpackage</a></tt>, который «играет по крупному
(plays the whale)» с использованием всех типов допустимого синтаксиса.
<div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(defpackage my-very-own-package
</td></tr></table>
                                                                          

                                                                          
<!--l. 3104--><p class="indent" >                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (:export :EQ common-lisp:cons my-very-own-function)</td></tr></table>
<!--l. 3105--><p class="indent" >                                     <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (:nicknames &#x0022;MY-PKG&#x0022; #:MyPkg)</td></tr></table>
<!--l. 3106--><p class="indent" >                                               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (:use &#x0022;COMMON-LISP&#x0022;)</td></tr></table>
<!--l. 3107--><p class="indent" >                                                      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (:shadow &#x0022;CAR&#x0022;)</td></tr></table>
<!--l. 3108--><p class="indent" >                                                              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (:size 496)</td></tr></table>
<!--l. 3109--><p class="indent" >                                                     <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (:nicknames mvop)</td></tr></table>
<!--l. 3110--><p class="indent" >       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (:import-from &#x0022;BRAND-X-LISP&#x0022; &#x0022;GC&#x0022; Blink-Front-Panel-Lights)</td></tr></table>
<!--l. 3111--><p class="indent" >                                             <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (:shadow common-lisp::cdr)</td></tr></table>
<!--l. 3112--><p class="indent" >                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (:shadowing-import-from &#x0022;BRAND-X-LISP&#x0022; CONS))</td></tr></table>
<!--l. 3114--><p class="indent" >
</div>
</div>
<!--l. 3115--><p class="noindent" >Этот пример производит то же влияние на вновь созданный пакет, но может
создавать бесполезные символы в других пакетах. Использования явных
тегов пакетов особенно запутаны. Например, эта форма <tt><a 
href="#x75-168040r163">defpackage</a></tt> делает
так, что символ <tt><a 
href="clmse79.html#x99-200004r394">cdr</a></tt> будет затенён в <i>новом пакете</i>. Данный символ не будет
затенён в пакете <tt>common-lisp</tt>. Факт, что имя «<tt>CDR</tt>» было указано полным
именем (с двоеточием) является отвлекающим маневром. Мораль в том, что
синтаксическая гибкость <tt><a 
href="#x75-168040r163">defpackage</a></tt>, как в других частях Common Lisp&#x2019;а,
даёт большие удобства в использовании в рамках здравого смысла, но
создаёт невообразимую путаницу при использовании мальтузианского
изобилия.
<!--l. 3126--><p class="indent" >   Следует отметить, что <tt><a 
href="#x75-168040r163">defpackage</a></tt> не способна сама по себе определять
взаимно рекурсивные пакеты, например, два пакета использующих друг
друга. Однако, ничто не мешает использовать <tt><a 
href="#x75-168040r163">defpackage</a></tt> для выполнения
первоначальных установок, а затем использовать такие функции, как
<tt><a 
href="#x75-168036r161">use-package</a></tt>, <tt><a 
href="#x75-168030r158">import</a></tt> и <tt><a 
href="#x75-168026r156">export</a></tt> для создания связи.
<!--l. 3132--><p class="indent" >   Цель <tt><a 
href="#x75-168040r163">defpackage</a></tt> поощрять пользователя размещать определение
пакета и его зависимостей в одном месте. Это может также позволить
проектировщику большой системы размещать определения всех необходимых
пакетов (скажем) в один файл, который может быть загружен перед
загрузкой или компиляцией кода, который зависит от этих пакетов. Такой
файл, если аккуратно сконструирован, может быть просто загружен в пакет
<tt>common-lisp-user</tt>.
<!--l. 3139--><p class="indent" >   Реализации и программные окружения могут также лучше поддерживать
процесс разработки (если только предлагая лучшую проверку ошибок) с
помощью глобальной базы значений о предполагаемых установках
                                                                          

                                                                          
пакетов.
</div>
<div class=defun>
<!--l. 3144--><p class="noindent" ><i>[Функция]</i><a 
 id="dx75-169001"></a><a 
 id="x75-169002r164"></a><b> ﬁnd-all-symbols</b>  <i>string-or-symbol</i>
<!--l. 3146--><p class="noindent" ><tt><a 
href="#x75-169002r164">find-all-symbols</a></tt> просматривает каждый пакет в Lisp&#x2019;овой системе для
поиска символа, имя которого совпадает с указанной строкой. Список всех
найденных символов возвращается в качестве результата. Этот поиск
регистрозависимый. Если аргумент является символом, для поиска по строке
используется его выводимое имя.
</div>
<div class=defmac>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"> <i>[Макрос]</i><b> do-symbols </b><a 
 id="dx75-169003"></a><a 
 id="x75-169004r165"></a> (var [package [result-form]])
</td></tr></table>
<!--l. 3157--><p class="indent" >                                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"> {declaration}*  {tag | statement}* </td></tr></table>
<!--l. 3158--><p class="indent" >
</div>
<!--l. 3158--><p class="noindent" ><span class="paragraphHead"><a 
href="#x75-17000011.7" id="x75-17000011.7"></a></span>
   <tt><a 
href="#x75-169004r165">do-symbols</a></tt> предоставляет прямой цикл по символам пакета. Тело
выполняется единожды для каждого символа доступного в пакете <i>package</i>.
Символ связывается с переменной <i>var</i>. Затем вычисляется форма <i>result-form</i>
(одиночная форма, <i>не</i> неявный <tt><a 
href="clmse37.html#x49-95002r71">progn</a></tt>), и результат является результатом
формы <tt><a 
href="#x75-169004r165">do-symbols</a></tt>. (Когда вычисляется форма <i>result-form</i>, переменная <i>var</i>
продолжает быть связанной и имеет значение <tt><a 
href="clmse30.html#x41-73002r18">nil</a></tt>.) Если <i>result-form</i> опущена,
результат <tt><a 
href="clmse30.html#x41-73002r18">nil</a></tt>. Для немедленного завершения цикла может использоваться
<tt><a 
href="clmse131.html#x161-330002r798">return</a></tt>. Если выполнение тела влияет на то, какие символы содержаться в
пакете <i>package</i>, то возможно только удаление символа связанного
с переменной <i>var</i> с использованием <tt><a 
href="#x75-168024r155">unintern</a></tt>, иначе результат не
определён.
<!--l. 3172--><p class="indent" >   Аргумент <i>package</i> может быть как объектом пакета, так и его именем.
Смотрите раздел <a 
href="clmse54.html#x70-16200011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
</div>
                                                                          

                                                                          
<div class=defmac>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"> <i>[Макрос]</i><b> do-external-symbols </b><a 
 id="dx75-170001"></a><a 
 id="x75-170002r166"></a> (var [package [result]])
</td></tr></table>
<!--l. 3178--><p class="indent" >                                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"> {declaration}*  {tag | statement}* </td></tr></table>
<!--l. 3179--><p class="indent" >
</div>
<!--l. 3179--><p class="noindent" ><span class="paragraphHead"><a 
href="#x75-17100011.7" id="x75-17100011.7"></a></span>
   <tt><a 
href="#x75-170002r166">do-external-symbols</a></tt> похожа на <tt><a 
href="#x75-169004r165">do-symbols</a></tt> за исключением того, что
сканируются только внешние символы пакета.
<!--l. 3183--><p class="indent" >   Аргумент <i>package</i> может быть как объектом пакета, так и его именем.
Смотрите раздел <a 
href="clmse54.html#x70-16200011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
</div>
<div class=defmac>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"> <i>[Макрос]</i><b> do-all-symbols </b><a 
 id="dx75-171001"></a><a 
 id="x75-171002r167"></a> (var [result-form])
</td></tr></table>
<!--l. 3189--><p class="indent" >                                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"> {declaration}*  {tag | statement}* </td></tr></table>
<!--l. 3190--><p class="indent" >
</div>
<!--l. 3190--><p class="noindent" ><span class="paragraphHead"><a 
href="#x75-17200011.7" id="x75-17200011.7"></a></span>
   Эта функция похожа на <tt><a 
href="#x75-169004r165">do-symbols</a></tt>, но выполняет тело единожды для
каждого символа каждого пакета. (Функция не обрабатывает все
возможные символы, так как символ может быть доступен ни в одном
пакете. Обычно, дезинтернированые символы не доступны ни в одном
пакете.) В общем случае тело может выполняться для одно символа
несколько раз, так как этот символ может встречаться в нескольких
пакетах.
                                                                          

                                                                          
<!--l. 3198--><p class="indent" >   Аргумент <i>package</i> может быть как объектом пакета, так и его именем.
Смотрите раздел <a 
href="clmse54.html#x70-16200011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
</div>
                                                                          

                                                                          
                                                                          

                                                                          
                                                                          

                                                                          
                                                                          

                                                                          
   <!--l. 13--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmch12.html" >Далее</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse58.html" >Назад</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse58.html#tailclmse58.html" >Назад-и-вниз</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse59.html" >В-начало</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch11.html#clmse59.html" >Вверх</a><tt>&#x003E;</tt></p></div>
<!--l. 13--><p class="indent" >   <a 
 id="tailclmse59.html"></a>  
</body></html> 

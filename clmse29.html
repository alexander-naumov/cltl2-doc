<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Functions Функции</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,next,charset=utf-8,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-02-26 02:27:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
</head><body 
>
   <!--l. 594--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse30.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse28.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse28.html#tailclmse28.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse29.html">Tail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch5.html#clmse29.html" >Up</a><tt>&#x003E;</tt></p></div>
   <h3 class="sectionHead"><span class="titlemark">5.2   </span> <a 
 id="x39-620005.2"></a>Functions Функции</h3>
<!--l. 596--><p class="noindent" >There are two ways to indicate a function to be used in a function-call form. One
is to use a symbol that names the function. This use of symbols to name functions
is completely independent of their use in naming special and lexical variables. The
other way is to use a <i>lambda-expression</i>, which is a list whose ﬁrst element is the
symbol lambda. A lambda-expression is <i>not</i> a form; it cannot be meaningfully
evaluated. Lambda-expressions and symbols, when used in programs as names of
functions, can appear only as the ﬁrst element of a function-call form, or
as the second element of the <a 
href="clmse35.html#x47-78008r54">function</a> special form. Note that symbols
and lambda-expressions are treated as <i>names</i> of functions in these two
contexts. This should be distinguished from the treatment of symbols and
lambda-expressions as <i>function objects</i>, that is, objects that satisfy the
predicate <a 
href="clmse32.html#x43-73043r43">functionp</a>, as when giving such an object to <a 
href="clmse37.html#x49-81002r77">apply</a> or <a 
href="clmse37.html#x49-81005r78">funcall</a> to be
invoked.
<!--l. 613--><p class="indent" >   Существуют два метода указать функцию для использования в форме
вызова функции. Один из них заключается в указании символа имени
функции. Это использование символов для обозначения функций полностью
независимо от их использования для обозначения специальных и лексических
переменных. Другой путь заключается в использовании <i>лямбда выражения</i>,
которое является списком с первым элементом равным lambda. Лябда
выражение <i>не</i> является формой, оно не может быть полноценно вычислено.
Лямбда выражения и символы, когда они используются в программах
для обозначения функций, могут быть указаны в качестве первого
элемента формы вызова функции, или только в качестве второго
параметры в специальной форме <a 
href="clmse35.html#x47-78008r54">function</a>. Следует отметить, что в этих
двух контекстах символы и лябда выражения обрабатываются, как
<i>имена</i> функций. Необходимо отличать это от обработки символов и
лямбда выражений, как <i>функциональных объектов, или объектов
функций (function objects)</i>, которые удовлетворяют предикату <a 
href="clmse32.html#x43-73043r43">functionp</a>,
как при представлении таких объектов в вызовы функций <a 
href="clmse37.html#x49-81002r77">apply</a> или
<a 
href="clmse37.html#x49-81005r78">funcall</a>.
                                                                          

                                                                          
<!--l. 629--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">5.2.1   </span> <a 
 id="x39-630005.2.1"></a>Named Functions Именованные функции</h4>
<!--l. 631--><p class="noindent" >A name can be given to a function in one of two ways. A <i>global name</i> can be given
to a function by using the <a 
href="clmse30.html#x40-66002r13">defun</a> construct. A <i>local name</i> can be given to a
function by using the <a 
href="clmse39.html#x51-83030r93">ﬂet</a> or <a 
href="clmse39.html#x51-83032r94">labels</a> special form. When a function is named, a
lambda-expression is eﬀectively associated with that name along with information
about the entities that are lexically apparent at that point. If a symbol appears as
the ﬁrst element of a function-call form, then it refers to the deﬁnition
established by the innermost <a 
href="clmse39.html#x51-83030r93">ﬂet</a> or <a 
href="clmse39.html#x51-83032r94">labels</a> construct that textually contains the
reference, or to the global deﬁnition (if any) if there is no such containing
construct.
<!--l. 646--><p class="indent" >   Имя может задано функции двумя способами. <i>Глобальное имя</i> может
быть дано функции с помощью конструкции <i>defun</i>. <i>Локальное имя</i>
может быть дано функции с помощью специальных форм <a 
href="clmse39.html#x51-83030r93">ﬂet</a> или
<a 
href="clmse39.html#x51-83032r94">labels</a>. Когда функция именуется, лямбда выражение связывается
с этим именем вместе с информацией о сущностях, которые были
лексически доступны на момент связи. Если символ используется в качестве
первого элементы формы вызова функции, тогда он ссылается на
определение функции из наиболее ближней формы <a 
href="clmse39.html#x51-83030r93">ﬂet</a> или <a 
href="clmse39.html#x51-83032r94">labels</a>,
которые по тексту содержат эту форму, иначе символ ссылается на
глобальное определение функции, при отсутствии вышеназванных
форм.
<!--l. 658--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">5.2.2   </span> <a 
 id="x39-640005.2.2"></a>Lambda-Expressions Лябда выражения</h4>
<a 
 id="dx39-64001"></a>
<!--l. 660--><p class="noindent" >lambda-expression
<!--l. 662--><p class="indent" >   A <i>lambda-expression</i> is a list with the following syntax: <div class=lisp> <div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(lambda <i>lambda-list</i> . <i>body</i>)
</td></tr></table>
<!--l. 665--><p class="indent" >
                                                                          

                                                                          
</div>
</div>
<!--l. 666--><p class="noindent" >The ﬁrst element must be the symbol lambda. The second element must be a list. It
is called the <i>lambda-list</i>, and speciﬁes names for the <i>parameters</i> of the function.
When the function denoted by the lambda-expression is applied to arguments, the
arguments are matched with the parameters speciﬁed by the lambda-list. The
<i>body</i> may then refer to the arguments by using the parameter names. The
<i>body</i> consists of any number of forms (possibly zero). These forms are
evaluated in sequence, and the results of the <i>last</i> form only are returned
as the results of the application (the value <a 
href="clmse31.html#x42-70002r19">nil</a> is returned if there are
zero forms in the body). The complete syntax of a lambda-expression
is:
<i>
<!--l. 679--><p class="indent" >   Лямбда выражение</i> является списком со следующим синтаксисом: <div class=lisp>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(lambda <i>lambda-list</i> . <i>body</i>)
</td></tr></table>
<!--l. 682--><p class="indent" >
</div>
</div>
<!--l. 683--><p class="noindent" >Первый элемент должен быть символом lambda. Второй элемент должен быть
списком. Он называется <i>лямбда списком</i>, и задает имена для <i>параметров</i>
функции. Когда функция, обозначенная лямбда выражением, применяется
к аргументам, аргументы подставляются в соответствии с лямбда
списком. <i>body</i> может впоследствии ссылаться на аргументы используя
имена параметров. <i>body</i> состоит из любого количества форм (возможно
нулевого количества). Эти формы последовательно выполняются, и
результат только <i>последней</i> формы, возвращается в качестве значения (в
случае отсутствия форм, возвращается <a 
href="clmse31.html#x42-70002r19">nil</a>). Полный синтаксис лямбда
выражения:
<div class=lisp>
<div class=tabbing>
                                                                          

                                                                          
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(lambda ( {<i><i>var</i></i>}*
</td></tr></table>
<!--l. 699--><p class="indent" >                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">          [<i>&#x0026;optional {<i><i>var</i> | (<i>var</i>  [<i><i>initform</i>  [<i><i>svar</i></i>]</i>])</i>}*</i>] </td></tr></table>
<!--l. 700--><p class="indent" >                                                     <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">          [<i>&#x0026;rest <i>var</i></i>] </td></tr></table>
<!--l. 701--><p class="indent" >   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">          [<i>&#x0026;key {<i><i>var</i> | ({<i><i>var</i> | (<i>keyword</i> <i>var</i>)</i>}  [<i><i>initform</i>  [<i><i>svar</i></i>]</i>])</i>}*              [<i>&#x0026;allow-other-keys</i>]</i>] </td></tr></table>
<!--l. 703--><p class="indent" >                              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">          [<i>&#x0026;aux {<i><i>var</i> | (<i>var</i>  [<i><i>initform</i></i>])</i>}*</i>] )</td></tr></table>
<!--l. 704--><p class="indent" >                              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">    [[<i> {<i><i></i></i>}*declaration | <i>documentation-string</i></i>]] </td></tr></table>
<!--l. 705--><p class="indent" >                                                             <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">    {<i><i> form</i></i>}* )</td></tr></table>
<!--l. 707--><p class="indent" >
</div>
</div>
<!--l. 710--><p class="indent" >   Each element of a lambda-list is either a <i>parameter speciﬁer</i> or a <i>lambda-list
keyword</i>; lambda-list keywords begin with &#x0026;. (Note that lambda-list keywords are
not keywords in the usual sense; they do not belong to the keyword package. They
are ordinary symbols each of whose names begins with an ampersand.
This terminology is unfortunately confusing but is retained for historical
reasons.)
<!--l. 717--><p class="indent" >   Каждый элемент лямбда списка является или спецификатором параметра
или <i>ключевым символом лямбда списка</i>. Ключевые символы лямбда списка
начинаются с символа &#x0026;. Следует отметить, что ключевые символы лямбда
списка не является ключевыми символами в обычном понимании. Они не
принадлежат пакету keyword. Они являются обычными символами, имена
которых начинается амперсандом. Такая терминология запутывает, но так
сложилась история.
<div class=obsolete>
<!--l. 726--><p class="indent" >   In all cases a <i>var</i> or <i>svar</i> must be a symbol, the name of a variable; each
<i>keyword</i> must be a keyword symbol, such as :start. An <i>initform</i> may be any
form.
</div>
<div class=newer>
<!--l. 732--><p class="indent" >   X3J13 voted in March 1988 <a 
 id="dx39-64002"></a>to allow a <i>keyword</i> in the preceding speciﬁcation
of a lambda-list to be any symbol whatsoever, not just a keyword symbol in the
keyword package. See below.
</div>
<!--l. 738--><p class="indent" >   A lambda-list has ﬁve parts, any or all of which may be empty: Лямбда
список имеет пять частей, любая или все могут быть пустыми:
      <ul class="itemize1">
                                                                          

                                                                          
      <li class="itemize">Speciﬁers  for  the  <i>required</i> parameters.  These  are  all  the  parameter
      speciﬁers  up  to  the  ﬁrst  lambda-list  keyword;  if  there  is  no  such
      lambda-list keyword, then all the speciﬁers are for required parameters.
      </li>
      <li class="itemize">Спецификаторы для <i>обязательных параметров</i>. К ним относятся
      все  спецификаторы  параметров  до  первого  ключевого  символа
      лямбда  списка.  Если  такой  ключевой  символ  отсутствует,  все
      спецификаторы считаются обязательными.
      </li>
      <li class="itemize">Speciﬁers for <i>optional</i> parameters. If the lambda-list keyword &#x0026;optional
      is present, the <i>optional</i> parameter speciﬁers are those following the
      lambda-list keyword &#x0026;optional up to the next lambda-list keyword or
      the end of the list.
      </li>
      <li class="itemize">Спецификаторы  для  <i>необязательных</i>  параметров.  Если  указан
      ключевой   символ   лямбда   списка   &#x0026;optional,   спецификаторы
      <i>необязательных</i>  параметров  будут  следовать  после  ключевого
      символа &#x0026;optional и до следующего ключевого слова, или до конца
      списка.
      </li>
      <li class="itemize">A speciﬁer for a <i>rest</i> parameter. The lambda-list keyword &#x0026;rest, if
      present, must be followed by a single <i>rest</i> parameter speciﬁer, which
      in turn must be followed by another lambda-list keyword or the end of
      the lambda-list.
      </li>
      <li class="itemize">Спецификатор для <i>неопределенного количества или оставшегося
      (rest)</i>  параметра.  Если  указан  ключевой  символ  лямбда  списка
      &#x0026;rest,  за  ним  должен  следовать  только  один  спецификатор
      <i>оставшегося (rest)</i> параметра, за которым может следовать другой
      ключевой символ или лямбда список может заканчиваться.
      </li>
      <li class="itemize">Speciﬁers for <i>keyword</i> parameters. If the lambda-list keyword &#x0026;key is
      present, all speciﬁers up to the next lambda-list keyword or the end
      of the list are <i>keyword</i> parameter speciﬁers. The keyword parameter
                                                                          

                                                                          
      speciﬁers  may  optionally  be  followed  by  the  lambda-list  keyword
      &#x0026;allow-other-keys.
      </li>
      <li class="itemize">Спецификатор  для  <i>именованных  (keyword)</i>  параметров.  Если
      указан ключевой символ лямбда списка &#x0026;key, все спецификаторы
      после
      данного  символа  до  следующего  ключевого  символа  или  конца
      списка являются спецификаторами <i>именованных</i> параметров. За
      спецификаторами  именованных  параметров  опционально  может
      использовать ключевой символ лямбда списка &#x0026;allow-others-keys.
      </li>
      <li class="itemize">Speciﬁers for <i>aux</i> variables. These are not really parameters. If the
      lambda-list keyword &#x0026;aux is present, all speciﬁers after it are <i>auxiliary
      variable</i> speciﬁers.
      </li>
      <li class="itemize">Спецификатор  для  <i>вспомогательных  (aux)</i>  переменных.  Они
      не   являются   параметрами.   Если   указан   ключевой   символ
      лямбда  списка  &#x0026;aux,  все  спецификаторы  после  него  являются
      спецификаторами вспомогательных переменных.</li></ul>
<!--l. 802--><p class="indent" >   When the function represented by the lambda-expression is applied to
arguments, the arguments and parameters are processed in order from left to
right. In the simplest case, only required parameters are present in the
lambda-list; each is speciﬁed simply by a name <i>var</i> for the parameter variable.
When the function is applied, there must be exactly as many arguments as there
are parameters, and each parameter is bound to one argument. Here, and in
general, the parameter is bound as a lexical variable unless a declaration has
been made that it should be a special binding; see <a 
href="clmse30.html#x40-67002r14">defvar</a>, <a 
href="clmse51.html#x65-104018r156">proclaim</a>, and
<a 
href="clmse51.html#x65-104003r153">declare</a>.
<!--l. 815--><p class="indent" >   Когда функция, заданная лямбда выражением, применяется к
аргументам, то эти аргументы и параметры вычисляются слева направо. В
простейшем случае, в лямбда списке присутствуют только обязательные
параметры. Каждый из них задается просто именем переменной <i>var</i>
параметра. Когда функция применяется, аргументов должно быть столько
же, сколько и параметров, и каждый параметр связывается с одним
аргументом. В общем случае, каждый параметр связывается как лексическая
                                                                          

                                                                          
переменная, если только с помощью декларации не указано, что связь
должна осуществляться, как для специальной переменной. Смотрите <a 
href="clmse30.html#x40-67002r14">defvar</a>,
<a 
href="clmse51.html#x65-104018r156">proclaim</a>, <a 
href="clmse51.html#x65-104003r153">declare</a>.
<!--l. 826--><p class="indent" >   In the more general case, if there are <i>n</i> required parameters (<i>n</i> may be zero),
there must be at least <i>n</i> arguments, and the required parameters are bound to the
ﬁrst <i>n</i> arguments. The other parameters are then processed using any remaining
arguments.
<!--l. 831--><p class="indent" >   В более общем случае, если указано <i>n</i> обязательных параметров (<i>n</i> может
равняться нулю), тогда должно быть как мимимум <i>n</i> аргументов, и
обязательные параметры будут связаны с <i>n</i> первыми аргументами.
<!--l. 836--><p class="indent" >   If <i>optional</i> parameters are speciﬁed, then each one is processed as follows. If
any unprocessed arguments remain, then the parameter variable <i>var</i> is bound to
the next remaining argument, just as for a required parameter. If no arguments
remain, however, then the <i>initform</i> part of the parameter speciﬁer is evaluated,
and the parameter variable is bound to the resulting value (or to <a 
href="clmse31.html#x42-70002r19">nil</a> if no <i>initform</i>
appears in the parameter speciﬁer). If another variable name <i>svar</i> appears in the
speciﬁer, it is bound to <i>true</i> if an argument was available, and to <i>false</i> if no
argument remained (and therefore <i>initform</i> had to be evaluated). The variable
<i>svar</i> is called a <i>supplied-p</i> parameter; it is bound not to an argument but to a
value indicating whether or not an argument had been supplied for another
parameter.
<!--l. 850--><p class="indent" >   Если указаны необязательные параметры, тогда каждый из них будет
оработан так, как описано ниже. Если осталось некоторое количество
аргументов, тогда переменная параметра var будет связана с оставшимся
аргументом. Принцип такой же, как и для обязательных параметров. Если не
осталось аргументов, тогда выполняется часть <i>initform</i>, и переменная
параметра связывается с ее результатом (или с <a 
href="clmse31.html#x42-70002r19">nil</a>, если форма <i>initform</i> не
была задана). Если в спецификаторе указано имя еще одной переменной <i>svar</i>,
то она связывается с <i>true</i>, если аргумент был задан, и с <i>false</i> аргумент не был
задан (и в таком случае выполняется <i>initform</i>). Переменная <i>svar</i> называется
<i>supplied-p</i> параметр. Она связывается не с аргументом, а со значением,
которое показывается был ли задан аргумент для данного параметра или
нет.
<!--l. 864--><p class="indent" >   After all <i>optional</i> parameter speciﬁers have been processed, then there may or
may not be a <i>rest</i> parameter. If there is a <i>rest</i> parameter, it is bound to a list of
all as-yet-unprocessed arguments. (If no unprocessed arguments remain, the <i>rest</i>
parameter is bound to the empty list.) If there is no <i>rest</i> parameter and there are
no <i>keyword</i> parameters, then there should be no unprocessed arguments (it is an
                                                                          

                                                                          
error if there are).
<!--l. 873--><p class="indent" >   После того, как все <i>необязательные</i> параметры были обработаны, могут
быть указан <i>оставшийся (rest)</i> параметр. Если <i>оставшийся (rest)</i> параметр
указан, он будет связан со списком все оставшихся необработанных
аргументов. Если таких аргументов не осталось, <i>оставшийся (rest)</i> параметр
будет связан с пустым списком. Если в лямбда списке отсутствуют
<i>оставшийся (rest)</i> параметр и <i>именованные (keyword)</i> параметры,
то необработанных аргументов оставаться не должно (иначе будет
ошибка).
<div class=new>
<!--l. 883--><p class="indent" >   X3J13 voted in January 1989 <a 
 id="dx39-64003"></a>to clarify that if a function has a <i>rest</i> parameter
and is called using <a 
href="clmse37.html#x49-81002r77">apply</a>, then the list to which the <i>rest</i> parameter is
bound is permitted, but not required, to share top-level list structure with
the list that was the last argument to <a 
href="clmse37.html#x49-81002r77">apply</a>. Programmers should be
careful about performing side eﬀects on the top-level list structure of a <i>rest</i>
parameter.
<!--l. 892--><p class="indent" >   This was the result of a rather long discussion within X3J13 and the wider
Lisp community. To set it in its historical context, I must remark that in Lisp
Machine Lisp the list to which a <i>rest</i> parameter was bound had only dynamic
extent; this in conjunction with the technique of “cdr-coding” permitted a clever
stack-allocation technique with very low overhead. However, the early designers of
Common Lisp, after a great deal of debate, concluded that it was dangerous for
cons cells to have dynamic extent; as an example, the “obvious” deﬁnition of the
function <a 
href="clmse87.html#x107-149038r493">list</a> <div class=lisp> <div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(defun list (&#x0026;rest x) x)
</td></tr></table>
<!--l. 903--><p class="indent" >
</div>
</div>
<!--l. 904--><p class="noindent" >could fail catastrophically. Therefore the ﬁrst edition simply implied that the list for
a <i>rest</i> parameter, like all other lists, would have indeﬁnite extent. This still left
open the ﬂip side of the question, namely, Is the list for a <i>rest</i> parameter
guaranteed fresh? This is the question addressed by the X3J13 vote. If it is always
freshly consed, then it is permissible to destroy it, for example by giving it to
<a 
href="clmse139.html#x170-246010r867">nconc</a>. However, the requirement always to cons fresh lists could impose an
unacceptable overhead in many implementations. The clariﬁcation approved by
                                                                          

                                                                          
X3J13 speciﬁes that the programmer may not rely on the list being fresh; if the
function was called using <a 
href="clmse37.html#x49-81002r77">apply</a>, there is no way to know where the list came
from.
</div>
<!--l. 917--><p class="indent" >   Next, any <i>keyword</i> parameters are processed. For this purpose the same
arguments are processed that would be made into a list for a <i>rest</i> parameter.
(Indeed, it is permitted to specify both &#x0026;rest and &#x0026;key. In this case the
remaining arguments are used for both purposes; that is, all remaining arguments
are made into a list for the &#x0026;rest parameter and are also processed for the &#x0026;key
parameters. This is the only situation in which an argument is used in the
processing of more than one parameter speciﬁer.) If &#x0026;key is speciﬁed, there must
remain an even number of arguments; these are considered as pairs, the ﬁrst
argument in each pair being interpreted as a keyword name and the second as the
corresponding value.
<!--l. 931--><p class="indent" >   Далее обрабатываются все <i>именованные (keyword)</i> параметры. Для этих
параметров обрабатываются те же аргументы, что и для <i>оставшегося (rest)</i>
параметра. Безусловно, возможно указывать и &#x0026;rest и &#x0026;key. В таком случае
оставшиеся аргументы используются для обеих целей: все оставшиеся
аргументы составляются в список для &#x0026;rest параметра и они также
обрабатываются, как &#x0026;key параметры. Только в этой ситуации один
аргумент может обрабатываться более чем для одного параметра. Если
указан &#x0026;key, должно остаться четное количество аргументов. Они будут
обработаны попарно. Первый аргумент в паре должен быть ключевым
символом, который задает имя параметра, второй аргумент должен быть
соответствующим значением.
<div class=obsolete>
<!--l. 945--><p class="indent" >   It is an error for the ﬁrst object of each pair to be anything but a
keyword.
<div class=rationale>
<!--l. 949--><p class="noindent" ><b>Rationale:</b> This last restriction is imposed so that a compiler may issue warnings
about certain malformed calls to functions that take keyword arguments. It
must be remembered that the arguments in a function call that evaluate to
keywords are just like any other arguments and may be any evaluable forms. A
compiler could not, without additional context, issue a warning about the call <div class=lisp>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(ﬁll seq item x y)
</td></tr></table>
                                                                          

                                                                          
<!--l. 959--><p class="indent" >
</div>
</div>
<!--l. 960--><p class="noindent" >because in principle the variable x might have as its value a keyword such as :start.
However, a compiler would be justiﬁed in issuing a warning about the call <div class=lisp>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(ﬁll seq item 0 10)
</td></tr></table>
<!--l. 965--><p class="indent" >
</div>
</div>
<!--l. 966--><p class="noindent" >because the constant 0 is deﬁnitely not a keyword. Similarly, if in the ﬁrst case the variable
x had been declared to be of type integer, then type analysis could enable the compiler
to justify a warning.
</div>
</div>
<div class=newer>
<!--l. 975--><p class="indent" >   X3J13 voted in March 1988 <a 
 id="dx39-64004"></a>to allow a <i>keyword</i> in a lambda-list to be any
symbol whatsoever, not just a keyword symbol in the keyword package. If, after
&#x0026;key, a variable appears alone or within only one set of parentheses (possibly
with an <i>initform</i> and a <i>svar</i>), then the behavior is as before: a keyword symbol
with the same name as the variable is used as the keyword-name when matching
arguments to parameter speciﬁers. Only a parameter speciﬁer of the form
((<i>keyword</i> <i>var</i>) ...) can cause the keyword-name not to be a keyword symbol, by
specifying a symbol not in the keyword package as the <i>keyword</i>. For example: <div class=lisp>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(defun wager (&#x0026;key ((secret password) nil) amount)
</td></tr></table>
<!--l. 989--><p class="indent" >                                              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (format nil &#x0022;You ~A $~D&#x0022;</td></tr></table>
<!--l. 990--><p class="indent" >                    <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">          (if (eq password &#x2019;joe-sent-me) &#x0022;win&#x0022; &#x0022;lose&#x0022;)</td></tr></table>
<!--l. 991--><p class="indent" >                                                     <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">          amount))</td></tr></table>
<!--l. 992--><p class="indent" >                                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"></td></tr></table>
<!--l. 993--><p class="indent" >                                  <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(wager :amount 100)  ⇒ &#x0022;You lose $100&#x0022;</td></tr></table>
<!--l. 994--><p class="indent" >              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(wager :amount 100 &#x2019;secret &#x2019;joe-sent-me)  ⇒ &#x0022;You win $100&#x0022;</td></tr></table>
<!--l. 996--><p class="indent" >
                                                                          

                                                                          
</div>
</div>
<!--l. 997--><p class="noindent" >The secret word could be made even more secret in this example by placing it in
some other obscure package, so that one would have to write <div class=lisp> <div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(wager :amount 100 &#x2019;obscure:secret &#x2019;joe-sent-me)  ⇒ &#x0022;You win $100&#x0022;
</td></tr></table>
<!--l. 1002--><p class="indent" >
</div>
</div>
<!--l. 1003--><p class="noindent" >to win anything.
</div>
<!--l. 1006--><p class="indent" >   In each keyword parameter speciﬁer must be a name <i>var</i> for the parameter
variable. If an explicit <i>keyword</i> is speciﬁed, then that is the keyword name for the
parameter. Otherwise the name <i>var</i> serves to indicate the keyword name, in that
a keyword with the same name (in the keyword package) is used as the keyword.
Thus
<!--l. 1013--><p class="indent" >   In each keyword parameter speciﬁer must be a name <i>var</i> for the parameter
variable. Если явно указан ключевой символ, тогда он будет использоваться
для имени параметра. В противном случае используется имя переменной var
для поиска ключевого символа в аргументах. Таким образом:
<div class=lisp>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(defun foo (&#x0026;key radix (type &#x2019;integer)) ...)
</td></tr></table>
<!--l. 1021--><p class="indent" >
</div>
</div>
<!--l. 1022--><p class="noindent" >means exactly the same as
<!--l. 1024--><p class="indent" >   означает то же, что и
<div class=lisp>
<div class=tabbing>
                                                                          

                                                                          
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(defun foo (&#x0026;key ((:radix radix)) ((:type type) &#x2019;integer)) ...)
</td></tr></table>
<!--l. 1028--><p class="indent" >
</div>
</div>
<!--l. 1030--><p class="indent" >   The keyword parameter speciﬁers are, like all parameter speciﬁers, eﬀectively
processed from left to right. For each keyword parameter speciﬁer, if there is an
argument pair whose keyword name matches that speciﬁer&#x2019;s keyword name (that
is, the names are <a 
href="clmse33.html#x44-74002r46">eq</a>), then the parameter variable for that speciﬁer is bound to
the second item (the value) of that argument pair. If more than one such
argument pair matches, it is not an error; the leftmost argument pair is used. If no
such argument pair exists, then the <i>initform</i> for that speciﬁer is evaluated and the
parameter variable is bound to that value (or to <a 
href="clmse31.html#x42-70002r19">nil</a> if no <i>initform</i> was
speciﬁed). The variable <i>svar</i> is treated as for ordinary <i>optional</i> parameters: it
is bound to <i>true</i> if there was a matching argument pair, and to <i>false</i>
otherwise.
<!--l. 1046--><p class="indent" >   Спецификатор именованого (keyword) параметра, как и все спецификаторы
параметров, обрабатывается слева направо. Для каждого спецификатора
именованного параметра, если в паре аргумента, в которой ключевой символ
совпадает с именем параметра (сравнение производится с помощью <a 
href="clmse33.html#x44-74002r46">eq</a>), тогда
переменная параметра связывается значением из этой пары. Если имеется
более одной пар аргументов с одинаковым именем, то это не ошибка. В таком
случае используется наиболее левая пара. Если пары аргументов не нашлось,
тогда выполняется <i>initform</i> и переменная параметра связыванется с
этим значением (или с <a 
href="clmse31.html#x42-70002r19">nil</a>, если <i>initform</i> не задана). Переменная <i>svar</i>
используется в тех же целях, что и для <i>необязательных</i> параметров. Она
будет связана с <i>true</i> если была необходимая пара аргументов, иначе с
<i>false</i>.
<!--l. 1060--><p class="indent" >   It is an error if an argument pair has a keyword name not matched by any
parameter speciﬁer, unless at least one of the following two conditions is
met:
<!--l. 1064--><p class="indent" >   Если пара аргументов содержит ключевой символ, который не
присутствует в спецификаторах параметров в лямбда списке, то или
возникнет ошибка или возможны следующие условия:
      <ul class="itemize1">
                                                                          

                                                                          
      <li class="itemize">&#x0026;allow-other-keys was speciﬁed in the lambda-list.
      </li>
      <li class="itemize">&#x0026;allow-other-keys был указан в лямбда списке.
      </li>
      <li class="itemize">Somewhere among the keyword argument pairs is a pair whose keyword
      is :allow-other-keys and whose value is not <a 
href="clmse31.html#x42-70002r19">nil</a>.
      </li>
      <li class="itemize">Где-то среди именованных аргументов есть пара, в которой есть
      ключевой символ :allow-other-keys и значение не равно <a 
href="clmse31.html#x42-70002r19">nil</a>.</li></ul>
<!--l. 1083--><p class="noindent" >If either condition obtains, then it is not an error for an argument pair to match no
parameter speciﬁed, and the argument pair is simply ignored (but such an
argument pair is accessible through the &#x0026;rest parameter if one was speciﬁed). The
purpose of these mechanisms is to allow sharing of argument lists among several
functions and to allow either the caller or the called function to specify that such
sharing may be taking place.
<!--l. 1092--><p class="indent" >   В случае возникновения одного из этих условий, можно использовать
именованные аргументы, которые не имеют соответствующих параметров
(эти аргументы будут доступны, как оставшийся &#x0026;rest параметр). Целью
этого механизма является возможность объединять лямбда списки разных
функции без необходмиости копировать все спецификаторы именованных
(keyword) параметров. Например функция обертка может передать часть
именованных аргументов в обернутую функцию без необходимости явного
ручного указания их всех.
<!--l. 1100--><p class="indent" >   After all parameter speciﬁers have been processed, the auxiliary variable
speciﬁers (those following the lambda-list keyword &#x0026;aux) are processed from left
to right. For each one, the <i>initform</i> is evaluated and the variable <i>var</i>
bound to that value (or to <a 
href="clmse31.html#x42-70002r19">nil</a> if no <i>initform</i> was speciﬁed). Nothing can
be done with &#x0026;aux variables that cannot be done with the special form
let*:
<!--l. 1107--><p class="indent" >   После того как все спецификаторы были обработаны, слева направо
обрабатываются спецификаторы вспомогательных параметров. Для
каждого из них выполняется <i>initform</i> и переменная <i>var</i> связывается с
этим результатом (или с <a 
href="clmse31.html#x42-70002r19">nil</a>, если <i>initform</i> не определена). С &#x0026;aux
переменными можно делать то же, что и со специальной формой
let*:
                                                                          

                                                                          
<div class=lisp>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(lambda (x y &#x0026;aux (a (car x)) (b 2) c) ...)
</td></tr></table>
<!--l. 1114--><p class="indent" >                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">    ≡ (lambda (x y) (let* ((a (car x)) (b 2) c) ...))</td></tr></table>
<!--l. 1116--><p class="indent" >
</div>
</div>
<!--l. 1118--><p class="indent" >   Which to use is purely a matter of style.
<!--l. 1120--><p class="indent" >   Что использовать зависит только от стиля.
<!--l. 1122--><p class="indent" >   Whenever any <i>initform</i> is evaluated for any parameter speciﬁer, that form may
refer to any parameter variable to the left of the speciﬁer in which the <i>initform</i>
appears, including any supplied-p variables, and may rely on the fact that no
other parameter variable has yet been bound (including its own parameter
variable).
<!--l. 1128--><p class="indent" >   Когда какая-либо форма <i>initform</i> выполняется в каком-либо спецификаторе
параметра, данная форма может ссылаться на любую переменную
параметра, стоящую слева от данной формы, включая supplied-p переменные,
и может рассчитывать на то, что другие переменные параметров еще не
связаны (включая переменную данного параметра).
<!--l. 1134--><p class="indent" >   Once the lambda-list has been processed, the forms in the body of the
lambda-expression are executed. These forms may refer to the arguments to the
function by using the names of the parameters. On exit from the function, either
by a normal return of the function&#x2019;s value(s) or by a non-local exit, the parameter
bindings, whether lexical or special, are no longer in eﬀect. (The bindings are not
necessarily permanently discarded, for a lexical binding can later be reinstated if a
“closure” over that binding was created, perhaps by using <a 
href="clmse35.html#x47-78008r54">function</a>, and saved
before the exit occurred.)
<!--l. 1144--><p class="indent" >   После того как был обработан лямбда список, выполняются формы в
теле лямбда выражения. Эти формы могут ссылаться на аргументы
функции, используя именя параметров. При выходе из функции, как с
помощью нормального возврата, так и с помощью нелокального выхода,
связывания параметров, и лексическеие, и специальные, упраздняются. В
случае создания «замыкания» над данными связываниями, связи
                                                                          

                                                                          
упраздняются не сразу, а сначала сохраняются, чтобы потом быть вновь
восстановленными.
<!--l. 1152--><p class="noindent" >Examples of &#x0026;optional and &#x0026;rest parameters:
<!--l. 1155--><p class="noindent" >Примеры использования &#x0026;optional и &#x0026;rest параметров:
<div class=lisp>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">((lambda (a b) (+ a (* b 3))) 4 5)  ⇒ 19
</td></tr></table>
<!--l. 1159--><p class="indent" >                    <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">((lambda (a &#x0026;optional (b 2)) (+ a (* b 3))) 4 5)  ⇒ 19</td></tr></table>
<!--l. 1160--><p class="indent" >                     <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">((lambda (a &#x0026;optional (b 2)) (+ a (* b 3))) 4)  ⇒ 10</td></tr></table>
<!--l. 1161--><p class="indent" >              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">((lambda (&#x0026;optional (a 2 b) (c 3 d) &#x0026;rest x) (list a b c d x)))</td></tr></table>
<!--l. 1162--><p class="indent" >                                                    <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">    ⇒ (2 <a 
href="clmse31.html#x42-70002r19">nil</a> 3 <a 
href="clmse31.html#x42-70002r19">nil</a> <a 
href="clmse31.html#x42-70002r19">nil</a>)</td></tr></table>
<!--l. 1163--><p class="indent" >              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">((lambda (&#x0026;optional (a 2 b) (c 3 d) &#x0026;rest x) (list a b c d x))</td></tr></table>
<!--l. 1164--><p class="indent" >                                                                       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"> 6)</td></tr></table>
<!--l. 1165--><p class="indent" >                                                      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">    ⇒ (6 t 3 <a 
href="clmse31.html#x42-70002r19">nil</a> <a 
href="clmse31.html#x42-70002r19">nil</a>)</td></tr></table>
<!--l. 1166--><p class="indent" >              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">((lambda (&#x0026;optional (a 2 b) (c 3 d) &#x0026;rest x) (list a b c d x))</td></tr></table>
<!--l. 1167--><p class="indent" >                                                                     <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"> 6 3)</td></tr></table>
<!--l. 1168--><p class="indent" >                                                       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">    ⇒ (6 t 3 t <a 
href="clmse31.html#x42-70002r19">nil</a>)</td></tr></table>
<!--l. 1169--><p class="indent" >              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">((lambda (&#x0026;optional (a 2 b) (c 3 d) &#x0026;rest x) (list a b c d x))</td></tr></table>
<!--l. 1170--><p class="indent" >                                                                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"> 6 3 8)</td></tr></table>
<!--l. 1171--><p class="indent" >                                                       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">    ⇒ (6 t 3 t (8))</td></tr></table>
<!--l. 1172--><p class="indent" >              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">((lambda (&#x0026;optional (a 2 b) (c 3 d) &#x0026;rest x) (list a b c d x))</td></tr></table>
<!--l. 1173--><p class="indent" >                                                            <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"> 6 3 8 9 10 11)</td></tr></table>
<!--l. 1174--><p class="indent" >                                               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">    ⇒ (6 t 3 t (8 9 10 11))</td></tr></table>
<!--l. 1176--><p class="indent" >
</div>
</div>
<!--l. 1177--><p class="noindent" >Examples of &#x0026;key parameters:
<!--l. 1179--><p class="noindent" >Примеры &#x0026;key параметров: <div class=lisp> <div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">((lambda (a b &#x0026;key c d) (list a b c d)) 1 2)
</td></tr></table>
<!--l. 1182--><p class="indent" >                                                       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">    ⇒ (1 2 <a 
href="clmse31.html#x42-70002r19">nil</a> <a 
href="clmse31.html#x42-70002r19">nil</a>)</td></tr></table>
<!--l. 1183--><p class="indent" >                           <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">((lambda (a b &#x0026;key c d) (list a b c d)) 1 2 :c 6)</td></tr></table>
                                                                          

                                                                          
<!--l. 1184--><p class="indent" >                                                         <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">    ⇒ (1 2 6 <a 
href="clmse31.html#x42-70002r19">nil</a>)</td></tr></table>
<!--l. 1185--><p class="indent" >                           <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">((lambda (a b &#x0026;key c d) (list a b c d)) 1 2 :d 8)</td></tr></table>
<!--l. 1186--><p class="indent" >                                                         <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">    ⇒ (1 2 <a 
href="clmse31.html#x42-70002r19">nil</a> 8)</td></tr></table>
<!--l. 1187--><p class="indent" >                       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">((lambda (a b &#x0026;key c d) (list a b c d)) 1 2 :c 6 :d 8)</td></tr></table>
<!--l. 1188--><p class="indent" >                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">    ⇒ (1 2 6 8)</td></tr></table>
<!--l. 1189--><p class="indent" >                       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">((lambda (a b &#x0026;key c d) (list a b c d)) 1 2 :d 8 :c 6)</td></tr></table>
<!--l. 1190--><p class="indent" >                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">    ⇒ (1 2 6 8)</td></tr></table>
<!--l. 1191--><p class="indent" >                      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">((lambda (a b &#x0026;key c d) (list a b c d)) :a 1 :d 8 :c 6)</td></tr></table>
<!--l. 1192--><p class="indent" >                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">    ⇒ (:a 1 6 8)</td></tr></table>
<!--l. 1193--><p class="indent" >                         <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">((lambda (a b &#x0026;key c d) (list a b c d)) :a :b :c :d)</td></tr></table>
<!--l. 1194--><p class="indent" >                                                       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">    ⇒ (:a :b :d <a 
href="clmse31.html#x42-70002r19">nil</a>)</td></tr></table>
<!--l. 1196--><p class="indent" >
</div>
</div>
<!--l. 1197--><p class="noindent" >Examples of mixtures:
<!--l. 1199--><p class="noindent" >Пример смешения всех: <div class=lisp> <div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">((lambda (a &#x0026;optional (b 3) &#x0026;rest x &#x0026;key c (d a))
</td></tr></table>
<!--l. 1202--><p class="indent" >                                                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">   (list a b c d x))</td></tr></table>
<!--l. 1203--><p class="indent" >                                                      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"> 1)  ⇒ (1 3 <a 
href="clmse31.html#x42-70002r19">nil</a> 1 ())</td></tr></table>
<!--l. 1205--><p class="indent" >
</div>
</div>
<!--l. 1207--><p class="indent" >
                                                                          

                                                                          
<div class=lisp>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">((lambda (a &#x0026;optional (b 3) &#x0026;rest x &#x0026;key c (d a))
</td></tr></table>
<!--l. 1210--><p class="indent" >                                                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">   (list a b c d x))</td></tr></table>
<!--l. 1211--><p class="indent" >                                                    <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"> 1 2)  ⇒ (1 2 <a 
href="clmse31.html#x42-70002r19">nil</a> 1 ())</td></tr></table>
<!--l. 1212--><p class="indent" >                                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"></td></tr></table>
<!--l. 1213--><p class="indent" >                         <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">((lambda (a &#x0026;optional (b 3) &#x0026;rest x &#x0026;key c (d a))</td></tr></table>
<!--l. 1214--><p class="indent" >                                                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">   (list a b c d x))</td></tr></table>
<!--l. 1215--><p class="indent" >                                                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"> :c 7)  ⇒ (:c 7 <a 
href="clmse31.html#x42-70002r19">nil</a> :c ())</td></tr></table>
<!--l. 1216--><p class="indent" >                                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"></td></tr></table>
<!--l. 1217--><p class="indent" >                         <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">((lambda (a &#x0026;optional (b 3) &#x0026;rest x &#x0026;key c (d a))</td></tr></table>
<!--l. 1218--><p class="indent" >                                                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">   (list a b c d x))</td></tr></table>
<!--l. 1219--><p class="indent" >                                              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"> 1 6 :c 7)  ⇒ (1 6 7 1 (:c 7))</td></tr></table>
<!--l. 1220--><p class="indent" >                                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"></td></tr></table>
<!--l. 1221--><p class="indent" >                         <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">((lambda (a &#x0026;optional (b 3) &#x0026;rest x &#x0026;key c (d a))</td></tr></table>
<!--l. 1222--><p class="indent" >                                                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">   (list a b c d x))</td></tr></table>
<!--l. 1223--><p class="indent" >                                            <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"> 1 6 :d 8)  ⇒ (1 6 <a 
href="clmse31.html#x42-70002r19">nil</a> 8 (:d 8))</td></tr></table>
<!--l. 1224--><p class="indent" >                                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"></td></tr></table>
<!--l. 1225--><p class="indent" >                         <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">((lambda (a &#x0026;optional (b 3) &#x0026;rest x &#x0026;key c (d a))</td></tr></table>
<!--l. 1226--><p class="indent" >                                                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">   (list a b c d x))</td></tr></table>
<!--l. 1227--><p class="indent" >                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"> 1 6 :d 8 :c 9 :d 10)  ⇒ (1 6 9 8 (:d 8 :c 9 :d 10))</td></tr></table>
<!--l. 1229--><p class="indent" >
</div>
</div>
<!--l. 1231--><p class="indent" >   All lambda-list keywords are permitted, but not terribly useful, in
lambda-expressions appearing explicitly as the ﬁrst element of a function-call
form. They are extremely useful, however, in functions given global names by
<a 
href="clmse30.html#x40-66002r13">defun</a>.
<!--l. 1236--><p class="indent" >   В лямбда выражении, которое стоит на первом месте в списке формы
вызова функции допускаются все ключевые символы лямбда списка, хотя
и не очень то они полезны в этом качестве. Гораздо полезнее они
используются в глобальных функциях, определенных с помощью
<a 
href="clmse30.html#x40-66002r13">defun</a>.
                                                                          

                                                                          
<!--l. 1242--><p class="indent" >   All symbols whose names begin with &#x0026; are conventionally reserved for
use as lambda-list keywords and should not be used as variable names.
Implementations of Common Lisp are free to provide additional lambda-list
keywords.
<!--l. 1247--><p class="indent" >   Все символы, что начиаются на &#x0026; обычно зарезервированы для
использования в качестве ключевых символов лямбда списка, и не должны
использоваться для имен переменных. Реализации Common Lisp&#x2019;а могут
также предоставлять свои дополнительные ключевые символы лямбда
списка.
<div class=defun>
<!--l. 1253--><p class="noindent" ><i>[Constant]</i><a 
 id="dx39-64005"></a><a 
 id="x39-64006r11"></a><b> lambda-list-keywords</b>
<!--l. 1255--><p class="noindent" >The value of <a 
href="#x39-64006r11">lambda-list-keywords</a> is a list of all the lambda-list keywords used in
the implementation, including the additional ones used only by <a 
href="clmse46.html#x59-98007r137">defmacro</a>. This list
must contain at least the symbols &#x0026;optional, &#x0026;rest, &#x0026;key, &#x0026;allow-other-keys,
&#x0026;aux, &#x0026;body, &#x0026;whole, and &#x0026;environment.
<!--l. 1262--><p class="indent" >   Значение <a 
href="#x39-64006r11">lambda-list-keywords</a> является списком всех ключевых символов
лямбда списка, используемых в данной реализации, включая те, которые
используются только в <a 
href="clmse46.html#x59-98007r137">defmacro</a>. Этот список должен содержать как
минимум символы &#x0026;optional, &#x0026;rest, &#x0026;key, &#x0026;allow-other-keys, &#x0026;aux, &#x0026;body,
&#x0026;whole и &#x0026;environment.
</div>
<!--l. 1269--><p class="indent" >   As an example of the use of &#x0026;allow-other-keys and :allow-other-keys, consider
a function that takes two keyword arguments of its own and also accepts
additional keyword arguments to be passed to <a 
href="clmse94.html#x116-158002r558">make-array</a>:
<!--l. 1273--><p class="indent" >   Вот пример использования &#x0026;allow-other-keys и :allow-other-keys,
рассматривающий функция, которая принимает два своих именованных
аргумента и также дополнительные именованные аргументы, которые затем
передаются <a 
href="clmse94.html#x116-158002r558">make-array</a>:
<div class=lisp>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(defun array-of-strings (str dims &#x0026;rest keyword-pairs
</td></tr></table>
<!--l. 1279--><p class="indent" >       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">                         &#x0026;key (start 0) end &#x0026;allow-other-keys)</td></tr></table>
<!--l. 1280--><p class="indent" >                                              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (apply #&#x2019;make-array dims</td></tr></table>
<!--l. 1281--><p class="indent" >                           <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">         :initial-element (subseq str start end)</td></tr></table>
<!--l. 1282--><p class="indent" >                                              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">         :allow-other-keys t</td></tr></table>
                                                                          

                                                                          
<!--l. 1283--><p class="indent" >                                                <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">         keyword-pairs))</td></tr></table>
<!--l. 1285--><p class="indent" >
</div>
</div>
<!--l. 1287--><p class="indent" >   This function takes a string and dimensioning information and returns an
array of the speciﬁed dimensions, each of whose elements is the speciﬁed string.
However, :start and :end keyword arguments may be used in the usual manner
(see chapter <a 
href="clmch14.html#x99-14100014">14<!--tex4ht:ref: KSEQUE --></a>) to specify that a substring of the given string should be used. In
addition, the presence of &#x0026;allow-other-keys in the lambda-list indicates that the
caller may specify additional keyword arguments; the &#x0026;rest argument
provides access to them. These additional keyword arguments are fed to
<a 
href="clmse94.html#x116-158002r558">make-array</a>. Now, <a 
href="clmse94.html#x116-158002r558">make-array</a> normally does not allow the keywords :start
and :end to be used, and it would be an error to specify such keyword
arguments to <a 
href="clmse94.html#x116-158002r558">make-array</a>. However, the presence in the call to <a 
href="clmse94.html#x116-158002r558">make-array</a> of
the keyword argument :allow-other-keys with a non-<a 
href="clmse31.html#x42-70002r19">nil</a> value causes any
extraneous keyword arguments, including :start and :end, to be acceptable and
ignored.
<!--l. 1302--><p class="indent" >   Такая функция принимает строку и информацию о размерности и
возвращает массив с заданной размерностью, каждый из элементов которого
равен заданной строке. Именованные аргументы :start и :end, как обчыно
(смотрите главу <a 
href="clmch14.html#x99-14100014">14<!--tex4ht:ref: KSEQUE --></a>), можно использовать для указания того, что должна
использоваться подстрока. Кроме того, использование &#x0026;allow-other-keys в
лямбда списке указывает на то, что вызов этой функции может содержать
дополнительные именованные аргументы. Для доступа к ним используется
&#x0026;rest аргумент. Эти дополнительные именованные аргументы передаются в
<a 
href="clmse94.html#x116-158002r558">make-array</a>. <a 
href="clmse94.html#x116-158002r558">make-array</a> не принимает именованные аргументы :start и :end,
и было бы ошибкой допустить их использование. Однако указание
:allow-other-keys равное не-<a 
href="clmse31.html#x42-70002r19">nil</a> значению позволяет передавать любые другие
именованные аргументы, включая :start и :end, и они были бы приняты и
проигнорированы.
<div class=defun>
<!--l. 1316--><p class="noindent" ><i>[Constant]</i><a 
 id="dx39-64007"></a><a 
 id="x39-64008r12"></a><b> lambda-parameters-limit</b>
<!--l. 1318--><p class="noindent" >The value of <a 
href="#x39-64008r12">lambda-parameters-limit</a> is a positive integer that is the upper
exclusive bound on the number of distinct parameter names that may
appear in a single lambda-list. This bound depends on the implementation
but will not be smaller than 50. Implementors are encouraged to make
this limit as large as practicable without sacriﬁcing performance. See
                                                                          

                                                                          
<a 
href="clmse37.html#x49-81008r79">call-arguments-limit</a>.
<!--l. 1328--><p class="indent" >   Значение lambda-parameters-limir является положительным целым,
которое невключительно является верхней границей допустимого количества
имен параметров, которые могут использоваться в лямбда списке. Значение
зависит от реализации, но не может быть менее 50. Разработчики
поощряются за создание данной границы как можно большей без потери
производительности. Смотрите call-arguments-list.
</div>
                                                                          

                                                                          
   <!--l. 1337--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse30.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse28.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse28.html#tailclmse28.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse29.html" >Front</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch5.html#clmse29.html" >Up</a><tt>&#x003E;</tt></p></div>
<!--l. 1337--><p class="indent" >   <a 
 id="tailclmse29.html"></a>  
</body></html> 

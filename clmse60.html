<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Функции и переменные для системы пакетов</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,index=2,next,fn-in,charset=utf-8,sections+,minitoc<,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-03-20 20:04:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
</head><body 
>
   <!--l. 2628--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmch12.html" >Далее</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse59.html" >Назад</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse59.html#tailclmse59.html" >Назад-и-вниз</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse60.html">В-конец</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch11.html#clmse60.html" >Вверх</a><tt>&#x003E;</tt></p></div>
   <h3 class="sectionHead"><span class="titlemark">11.7   </span> <a 
href="clm.html#QQ2-76-175" id="x76-16800011.7">Функции и переменные для системы пакетов</a></h3>
<!--l. 2631--><p class="noindent" >Для описанных здесь функций, все необязательные аргументы с именем
<i>package</i> имеют значение по-умолчанию <a 
href="#x76-168002r141">*package*</a>. Там, где функция
принимает аргумент, который может быть символом или списком символов,
значение <a 
href="clmse31.html#x42-74002r18">nil</a> расценивается, как пустой список символов. Любой аргумент,
описанный как имя пакета, может быть символом или строкой. Если указан
символ, то используется его выводимое имя. Если строка, то пользователь
должен позаботиться о преобразовании регистра символов в верхний там, где
это необходимо.
<div class=defun>
<!--l. 2640--><p class="noindent" ><i>[Переменная]</i><a 
 id="dx76-168001"></a><a 
 id="x76-168002r141"></a><b> *package*</b>
<!--l. 2642--><p class="noindent" >Значение этой переменной должно быть объектом пакета. Этот пакет
называется текущим. Первоначальное значение <a 
href="#x76-168002r141">*package*</a> является пакетом
common-lisp-user.
<!--l. 2646--><p class="indent" >   Функции <a 
href="clmse117.html#x145-281002r734">load</a> и <a 
href="clmse122.html#x152-294011r755">compile-ﬁle</a> пересвязывают <a 
href="#x76-168002r141">*package*</a> в текущее значение.
Если некоторая форма в файле во время загрузки изменяет значение
<a 
href="#x76-168002r141">*package*</a>, старое значение будет восстановлено после завершения
загрузки.
<!--l. 2650--><p class="indent" >   Функция <a 
href="clmse122.html#x152-294011r755">compile-ﬁle</a> пересвязывает <a 
href="#x76-168002r141">*package*</a> в текущее значение. Если
некоторая форма в файле во время загрузки или компиляции изменяет
значение <a 
href="#x76-168002r141">*package*</a>, старое значение будет восстановлено после завершения
функции.
<div class=defun>
<!--l. 2655--><p class="noindent" ><i>[Функция]</i><a 
 id="dx76-168003"></a><a 
 id="x76-168004r142"></a><b> make-package</b>  <i>package-name</i> &#x0026;key  <i>:nicknames</i> <i>:use</i>
<!--l. 2657--><p class="noindent" >Эта функция создаёт и возвращает новый пакет с указанным именем. Как
было описано выше, аргументом может быть или символ, или строка.
Аргумент :nicknames должен быть списком строк, которые будут
псевдонимами. И здесь пользователь вместо строк может указывать символы,
в случае которых будут использоваться выводимые имена. Это имя и
псевдонимы не могут конфликтовать с уже имеющимися именами пакетов.
Если конфликт произошёл, сигнализируется ошибка с возможностью
                                                                          

                                                                          
исправления.
<!--l. 2666--><p class="indent" >   Аргумент :use является списком пакетов или имён (строк или символов)
пакетов, чьи внешние символы будут унаследованы новым пакетом. Эти
пакеты должны существовать перед вызовом функции.
</div>
<div class=defmac>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"> <i>[Макрос]</i><b> in-package </b><a 
 id="dx76-168005"></a><a 
 id="x76-168006r143"></a> name
</td></tr></table>
<!--l. 2673--><p class="indent" >
</div>
<!--l. 2673--><p class="noindent" ><span class="paragraphHead"><a 
href="#x76-16900011.7" id="x76-16900011.7"></a></span>
   Этот макрос пересвязывает переменную <a 
href="#x76-168002r141">*package*</a> с пакетом, имя
которого указано в параметре <i>name</i>. Параметр <i>name</i> может быть строкой
или символом. Форма <i>name</i> не вычисляется. В случае отсутствия пакета,
сигнализируется ошибка. Кроме того, в случае вызова в качестве формы
верхнего уровня, этот макрос работает и во время компиляции.
<!--l. 2681--><p class="indent" >   <a 
href="#x76-168006r143">in-package</a> возвращает новый пакет, то есть значение <a 
href="#x76-168002r141">*package*</a> после
выполнения операции.
</div>
<div class=defun>
<!--l. 2685--><p class="noindent" ><i>[Функция]</i><a 
 id="dx76-169001"></a><a 
 id="x76-169002r144"></a><b> ﬁnd-package</b>  <i>name</i>
<!--l. 2687--><p class="noindent" >Параметр <i>name</i> должен быть строкой, которая является именем или
псевдонимом искомого пакета. Этот параметр может также быть символов, в
случае которого используется выводимое имя. В результате возвращается
объект пакета с указанным именем или псевдонимом. Если пакет найден не
был, то <a 
href="#x76-169002r144">ﬁnd-package</a> возвращает <a 
href="clmse31.html#x42-74002r18">nil</a>. Сравнение имен регистрозависимо (как в
<a 
href="clmse96.html#x119-223002r556">string=</a>).
<!--l. 2695--><p class="indent" >   Аргумент <i>package</i> может быть объектом пакета, в таком случае значение
аргумента сразу возвращается. Смотрите раздел <a 
href="clmse55.html#x71-16300011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
</div>
<div class=defun>
                                                                          

                                                                          
<!--l. 2699--><p class="noindent" ><i>[Функция]</i><a 
 id="dx76-169003"></a><a 
 id="x76-169004r145"></a><b> package-name</b>  <i>package</i>
<!--l. 2701--><p class="noindent" >Аргумент должен быть объектом пакета. Данная функция возвращает
строку имени указанного пакета.
<!--l. 2705--><p class="indent" >   Кроме того функция принимает имя пакета или псевдоним, и в этом
случае возвращает главное имя пакета. Смотрите раздел <a 
href="clmse55.html#x71-16300011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
<!--l. 2708--><p class="indent" >   <a 
href="#x76-169004r145">package-name</a> возвращает <a 
href="clmse31.html#x42-74002r18">nil</a> вместо имени пакета, если пакет был удалён.
Смотрите <a 
href="#x76-169018r152">delete-package</a>.
</div>
<div class=defun>
<!--l. 2712--><p class="noindent" ><i>[Функция]</i><a 
 id="dx76-169005"></a><a 
 id="x76-169006r146"></a><b> package-nicknames</b>  <i>package</i>
<!--l. 2714--><p class="noindent" >Аргумент должен быть объектом пакета. Эта функция возвращает список
псевдонимов для заданного пакета, не включая главное имя.
<!--l. 2718--><p class="indent" >   Кроме того функция принимает имя пакета или псевдоним, и в этом
случае возвращается список псевдонимов пакета. Смотрите раздел <a 
href="clmse55.html#x71-16300011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
</div>
<div class=defun>
<!--l. 2722--><p class="noindent" ><i>[Функция]</i><a 
 id="dx76-169007"></a><a 
 id="x76-169008r147"></a><b> rename-package</b>  <i>package</i> <i>new-name</i> &#x0026;optional  <i>new-nicknames</i>
<!--l. 2724--><p class="noindent" >Старое имя и все старые псевдонимы пакета <i>package</i> удаляются и
заменяются на <i>new-name</i> и <i>new-nicknames</i>. Аргумент <i>new-name</i> может быть
строкой или символом. Аргумент <i>new-nicknames</i>, который по-умолчанию <a 
href="clmse31.html#x42-74002r18">nil</a>,
является списком строк или символов.
<!--l. 2730--><p class="indent" >   Аргумент <i>package</i> может быть как объектом пакета, так и его именем.
Смотрите раздел <a 
href="clmse55.html#x71-16300011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
<!--l. 2733--><p class="indent" >   <a 
href="#x76-169008r147">rename-package</a> возвращает <i>package</i>.
</div>
<div class=defun>
<!--l. 2736--><p class="noindent" ><i>[Функция]</i><a 
 id="dx76-169009"></a><a 
 id="x76-169010r148"></a><b> package-use-list</b>  <i>package</i>
<!--l. 2738--><p class="noindent" >Данная функция возвращает список пакетов, используемых указанным в
параметре пакетом.
<!--l. 2742--><p class="indent" >   Аргумент <i>package</i> может быть как объектом пакета, так и его именем.
Смотрите раздел <a 
href="clmse55.html#x71-16300011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
</div>
<div class=defun>
<!--l. 2746--><p class="noindent" ><i>[Функция]</i><a 
 id="dx76-169011"></a><a 
 id="x76-169012r149"></a><b> package-used-by-list</b>  <i>package</i>
<!--l. 2748--><p class="noindent" >Данная функция возвращает список пакетов, использующих указанный в
параметре пакет.
<!--l. 2752--><p class="indent" >   Аргумент <i>package</i> может быть как объектом пакета, так и его именем.
Смотрите раздел <a 
href="clmse55.html#x71-16300011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
                                                                          

                                                                          
</div>
<div class=defun>
<!--l. 2756--><p class="noindent" ><i>[Функция]</i><a 
 id="dx76-169013"></a><a 
 id="x76-169014r150"></a><b> package-shadowing-symbols</b>  <i>package</i>
<!--l. 2758--><p class="noindent" >Данная функция возвращает список символов, которые были задекларированы,
как скрывающие символы, с помощью <a 
href="#x76-169034r160">shadow</a> или <a 
href="#x76-169032r159">shadowing-import</a>. Все
символы в этом списке является <i>родственными</i> указанному пакету.
<!--l. 2763--><p class="indent" >   Аргумент <i>package</i> может быть как объектом пакета, так и его именем.
Смотрите раздел <a 
href="clmse55.html#x71-16300011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
</div>
<div class=defun>
<!--l. 2767--><p class="noindent" ><i>[Функция]</i><a 
 id="dx76-169015"></a><a 
 id="x76-169016r151"></a><b> list-all-packages</b>
<!--l. 2769--><p class="noindent" >Эта функция возвращает список всех пакетов, которые существуют в
Lisp&#x2019;овой системе.
</div>
<div class=defun>
<!--l. 2774--><p class="noindent" ><i>[Функция]</i><a 
 id="dx76-169017"></a><a 
 id="x76-169018r152"></a><b> delete-package</b>  <i>package</i>
<!--l. 2776--><p class="noindent" >Функция <a 
href="#x76-169018r152">delete-package</a> удаляет указанный в аргументе <i>package</i> пакет, из всех
структур данных системы пакетов. Аргумент <i>package</i> может быть как
пакетом, так и его именем.
<!--l. 2781--><p class="indent" >   Если <i>package</i> является именем, но пакета с данным именем не
существует, сигнализируется исправимая ошибка. Продолжение из этой
ошибки не делает попытку удаления, но возвращает <a 
href="clmse31.html#x42-74002r18">nil</a> из вызова
<a 
href="#x76-169018r152">delete-package</a>.
<!--l. 2785--><p class="indent" >   Если <i>package</i> является пакетов, но пакет уже был удалён, ошибка не
сигнализируется и попыток удаления не происходит. Вместо этого
<a 
href="#x76-169018r152">delete-package</a> немедленно возвращает <a 
href="clmse31.html#x42-74002r18">nil</a>.
<!--l. 2789--><p class="indent" >   Если пакет, указанный для удаления, в этот момент используется
другими пакетами, сигнализируется исправимая ошибка. Продолжение из
этой ошибки выглядит как, если бы функция <a 
href="#x76-169038r162">unuse-package</a> была выполнена
на всех использующих пакетах для удаления зависимостей, после чего была
вызвана <a 
href="#x76-169018r152">delete-package</a> для удаления пакета.
<!--l. 2795--><p class="indent" >   Если указанный пакет является домашним для некоторого символа, тогда
после выполнения <a 
href="#x76-169018r152">delete-package</a>, ячейка домашнего пакета символа
становится неопределённой. Никак по-другому символы в удаляемом пакете
не модифицируются.
<!--l. 2799--><p class="indent" >   Имя и псевдонимы пакета <i>package</i> перестают быть сами собой. Объект
пакета остаётся, но анонимно: <a 
href="clmse32.html#x43-77041r41">packagep</a> будет истинным, но <a 
href="#x76-169004r145">package-name</a>
применительно к нему будет возвращать <a 
href="clmse31.html#x42-74002r18">nil</a>.
                                                                          

                                                                          
<!--l. 2803--><p class="indent" >   Влияние любой другой операции на удалённым объектом пакета не
определена. В частности, попытка найти символ в удалённый пакет
(например, используя <a 
href="#x76-169020r153">intern</a> или <a 
href="#x76-169022r154">ﬁnd-symbol</a>) будет иметь неопределённый
результат.
<!--l. 2807--><p class="indent" >   Если удаление было успешно, <a 
href="#x76-169018r152">delete-package</a> возвращает <a 
href="clmse31.html#x42-74004r19">t</a>, иначе
<a 
href="clmse31.html#x42-74002r18">nil</a>.
</div>
<div class=defun>
<!--l. 2810--><p class="noindent" ><i>[Функция]</i><a 
 id="dx76-169019"></a><a 
 id="x76-169020r153"></a><b> intern</b>  <i>string</i> &#x0026;optional  <i>package</i>
<!--l. 2812--><p class="noindent" >В пакете <i>package</i>, который по-умолчанию равен текущему пакету,
осуществляется поиск символа с именем, указанным в аргументе <i>string</i>. Этот
поиск будет включить унаследованные символы, как описано в разделе <a 
href="clmse57.html#x73-16500011.4">11.4<!--tex4ht:ref: EXPORT-IMPORT-SECTION --></a>.
Если ни одного символа не найдено, то символ создаётся и устанавливается
в указанный пакет в качестве внутреннего символа (или внешнего
символа, если пакет keyword). Указанный пакет становиться домашним
пакетом для созданного символа. Возвращается два значения. Первое
является символом, который был найден или создан. Второе значение <a 
href="clmse31.html#x42-74002r18">nil</a>,
если символ не существовал ранее, или одно из следующих значений:
<div class=indentdesc>
      <ul><li><b>
:internal </b></li>Символ  напрямую  представлен  в  пакете  как  внутренний
      символ.
      <li><b>
:external </b></li>Символ напрямую представлен в пакете как внешний символ.
      <li><b>
:inherited </b></li>Символ унаследован с помощью <a 
href="#x76-169036r161">use-package</a> (и следовательно
      символ является внутренним).</ul>
</div>
<!--l. 2835--><p class="indent" >   Аргумент <i>package</i> может быть как объектом пакета, так и его именем.
Смотрите раздел <a 
href="clmse55.html#x71-16300011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
</div>
<div class=defun>
<!--l. 2839--><p class="noindent" ><i>[Функция]</i><a 
 id="dx76-169021"></a><a 
 id="x76-169022r154"></a><b> ﬁnd-symbol</b>  <i>string</i> &#x0026;optional  <i>package</i>
<!--l. 2841--><p class="noindent" >Эта функция идентична <a 
href="#x76-169020r153">intern</a>, но она никогда не создаёт новый символ.
Если символ с указанным именем был найден в указанном пакете, напрямую
                                                                          

                                                                          
или через наследование, найденный возвращается символ как первое
значение и второе значение так же как в <a 
href="#x76-169020r153">intern</a>. Если символ не доступен в
заданном пакете, оба значения равны <a 
href="clmse31.html#x42-74002r18">nil</a>.
<!--l. 2848--><p class="indent" >   Аргумент <i>package</i> может быть как объектом пакета, так и его именем.
Смотрите раздел <a 
href="clmse55.html#x71-16300011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
</div>
<div class=defun>
<!--l. 2852--><p class="noindent" ><i>[Функция]</i><a 
 id="dx76-169023"></a><a 
 id="x76-169024r155"></a><b> unintern</b>  <i>symbol</i> &#x0026;optional  <i>package</i>
<!--l. 2854--><p class="noindent" >Если указанный символ представлен в указанном пакете <i>package</i>, он
удаляется из этого пакета и также из списка затеняющих символов,
если он там был. Кроме того, если <i>package</i> для символа является
домашним пакетом, то символ отсоединяется и становится бездомным.
Следует отметить, что в некоторых обстоятельствах может продолжить
быть доступным с помощью наследования в указанном пакете. Если
удаление действительно произошло, <a 
href="#x76-169024r155">unintern</a> возвращает <a 
href="clmse31.html#x42-74004r19">t</a>, иначе
<a 
href="clmse31.html#x42-74002r18">nil</a>.
<!--l. 2864--><p class="indent" >   <a 
href="#x76-169024r155">unintern</a> должна использоваться с осторожностью. Она изменяет
состояние системы пакетов так, что правила согласованности перестают
действовать.
<!--l. 2867--><p class="indent" >   Аргумент <i>package</i> может быть как объектом пакета, так и его именем.
Смотрите раздел <a 
href="clmse55.html#x71-16300011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
</div>
<div class=defun>
<!--l. 2871--><p class="noindent" ><i>[Функция]</i><a 
 id="dx76-169025"></a><a 
 id="x76-169026r156"></a><b> export</b>  <i>symbols</i> &#x0026;optional  <i>package</i>
<!--l. 2873--><p class="noindent" >Аргумент <i>symbols</i> должен быть списком символов или одиночным символом.
Эти символы становятся доступными как внешние символы в пакете <i>package</i>
(смотрите раздел <a 
href="clmse57.html#x73-16500011.4">11.4<!--tex4ht:ref: EXPORT-IMPORT-SECTION --></a>). <a 
href="#x76-169026r156">export</a> возвращает <a 
href="clmse31.html#x42-74004r19">t</a>.
<!--l. 2879--><p class="indent" >   По соглашению, вызов <a 
href="#x76-169026r156">export</a> содержит все экспортируемые символы и
помещается рядом с началом файла, для указания того, какие символы
экспортируются данным файлом для использования другими программами.
<!--l. 2883--><p class="indent" >   Аргумент <i>package</i> может быть как объектом пакета, так и его именем.
Смотрите раздел <a 
href="clmse55.html#x71-16300011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
</div>
<div class=defun>
<!--l. 2887--><p class="noindent" ><i>[Функция]</i><a 
 id="dx76-169027"></a><a 
 id="x76-169028r157"></a><b> unexport</b>  <i>symbols</i> &#x0026;optional  <i>package</i>
<!--l. 2889--><p class="noindent" >Аргумент <i>symbols</i> должен быть списком символов или одиночным символом.
Эти символы становятся внутренними символами в пакете <i>package</i>.
Использование этой операции для символов пакета keyword является
                                                                          

                                                                          
ошибкой. (смотрите раздел <a 
href="clmse57.html#x73-16500011.4">11.4<!--tex4ht:ref: EXPORT-IMPORT-SECTION --></a>). <a 
href="#x76-169028r157">unexport</a> возвращает <a 
href="clmse31.html#x42-74004r19">t</a>.
<!--l. 2896--><p class="indent" >   Аргумент <i>package</i> может быть как объектом пакета, так и его именем.
Смотрите раздел <a 
href="clmse55.html#x71-16300011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
</div>
<div class=defun>
<!--l. 2900--><p class="noindent" ><i>[Функция]</i><a 
 id="dx76-169029"></a><a 
 id="x76-169030r158"></a><b> import</b>  <i>symbols</i> &#x0026;optional  <i>package</i>
<!--l. 2902--><p class="noindent" >Аргумент <i>symbols</i> должен быть списком символов или одиночным символом.
Эти символы становятся внутренними символами в пакете <i>package</i> и, таким
образом, могут быть указаны без использования полного имени (с
двоеточием). <a 
href="#x76-169030r158">import</a> сигнализирует исправимую ошибку, если любой
из импортируемых символов имеет такое же имя, как один из уже
присутствующих в пакете символов (смотрите раздел <a 
href="clmse57.html#x73-16500011.4">11.4<!--tex4ht:ref: EXPORT-IMPORT-SECTION --></a>). <a 
href="#x76-169030r158">import</a>
возвращает <a 
href="clmse31.html#x42-74004r19">t</a>.
<!--l. 2911--><p class="indent" >   Если любой импортируемый символ не имеет домашнего пакета,
тогда <a 
href="#x76-169030r158">import</a> устанавливает домашний пакет тот, в который символ
импортируется.
<!--l. 2914--><p class="indent" >   Аргумент <i>package</i> может быть как объектом пакета, так и его именем.
Смотрите раздел <a 
href="clmse55.html#x71-16300011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
</div>
<div class=defun>
<!--l. 2918--><p class="noindent" ><i>[Функция]</i><a 
 id="dx76-169031"></a><a 
 id="x76-169032r159"></a><b> shadowing-import</b>  <i>symbols</i> &#x0026;optional  <i>package</i>
<!--l. 2920--><p class="noindent" >Данная функция похожа на <a 
href="#x76-169030r158">import</a>, но не сигнализирует ошибку, даже если
импортирование символа будет затенять некоторый другой символ, уже
присутствующий в пакете. В дополнение к импортированию символ
помещается в список затеняющих символов пакета <i>package</i> (смотрите
раздел <a 
href="clmse58.html#x74-16600011.5">11.5<!--tex4ht:ref: NAME-CONFLICTS-SECTION --></a>). <a 
href="#x76-169032r159">shadowing-import</a> возвращает <a 
href="clmse31.html#x42-74004r19">t</a>.
<!--l. 2928--><p class="indent" >   <a 
href="#x76-169032r159">shadowing-import</a> должен использоваться с осторожностью. Она изменяет
состояние системы пакетов так, что правила согласованности перестают
действовать.
<!--l. 2931--><p class="indent" >   Аргумент <i>package</i> может быть как объектом пакета, так и его именем.
Смотрите раздел <a 
href="clmse55.html#x71-16300011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
</div>
<div class=defun>
<!--l. 2935--><p class="noindent" ><i>[Функция]</i><a 
 id="dx76-169033"></a><a 
 id="x76-169034r160"></a><b> shadow</b>  <i>symbols</i> &#x0026;optional  <i>package</i>
<!--l. 2937--><p class="noindent" >Аргумент должен быть списком символов или строк или одиночным
символом или строкой. Рассматривается выводимое имя каждого
символа (или просто строка) и в указанном пакете <i>package</i> ищется
символ с таким же именем. Если данный символ присутствует в этом
                                                                          

                                                                          
пакете (напрямую, не с помощью наследования), тогда он добавляется
в список затеняющих символов. Иначе, создаётся новый символ с
указанным выводимым именем, и вставляется в пакет <i>package</i> как
внутренний символ. Символ также помещается в список затеняющих
символов пакета <i>package</i> (смотрите раздел <a 
href="clmse58.html#x74-16600011.5">11.5<!--tex4ht:ref: NAME-CONFLICTS-SECTION --></a>). <a 
href="#x76-169034r160">shadow</a> возвращает
<a 
href="clmse31.html#x42-74004r19">t</a>.
<!--l. 2948--><p class="indent" >   shadowing должен использоваться с осторожностью. Она изменяет
состояние системы пакетов так, что правила согласованности перестают
действовать.
<!--l. 2951--><p class="indent" >   Аргумент <i>package</i> может быть как объектом пакета, так и его именем.
Смотрите раздел <a 
href="clmse55.html#x71-16300011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
</div>
<div class=defun>
<!--l. 2955--><p class="noindent" ><i>[Функция]</i><a 
 id="dx76-169035"></a><a 
 id="x76-169036r161"></a><b> use-package</b>  <i>packages-to-use</i> &#x0026;optional  <i>package</i>
<!--l. 2957--><p class="noindent" >Аргумент <i>packages-to-use</i> должен быть списком пакетов или их имён или
одиночным пакетом или его именем. Эти пакеты добавляются в список
использования <i>package</i>, если их там ещё нет. Все внешние символы в пакетах
становятся доступными в пакете <i>package</i> как внутренние символы (смотрите
раздел <a 
href="clmse57.html#x73-16500011.4">11.4<!--tex4ht:ref: EXPORT-IMPORT-SECTION --></a>). Использование пакета keyword является ошибкой. <a 
href="#x76-169036r161">use-package</a>
возвращает <a 
href="clmse31.html#x42-74004r19">t</a>.
<!--l. 2966--><p class="indent" >   Аргумент <i>package</i> может быть как объектом пакета, так и его именем.
Смотрите раздел <a 
href="clmse55.html#x71-16300011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
</div>
<div class=defun>
<!--l. 2970--><p class="noindent" ><i>[Функция]</i><a 
 id="dx76-169037"></a><a 
 id="x76-169038r162"></a><b> unuse-package</b>  <i>packages-to-unuse</i> &#x0026;optional  <i>package</i>
<!--l. 2972--><p class="noindent" >Аргумент <i>packages-to-use</i> должен быть списком пакетов или их имён или
одиночным пакетом или его именем. Эти пакеты удаляются из списка
использования <i>package</i>, если они там были. <a 
href="#x76-169038r162">unuse-package</a> возвращает
<a 
href="clmse31.html#x42-74004r19">t</a>.
<!--l. 2978--><p class="indent" >   Аргумент <i>package</i> может быть как объектом пакета, так и его именем.
Смотрите раздел <a 
href="clmse55.html#x71-16300011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
</div>
<div class=defmac>
<div class=tabbing>
                                                                          

                                                                          
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"> <i>[Макрос]</i><b> defpackage </b><a 
 id="dx76-169039"></a><a 
 id="x76-169040r163"></a> deﬁned-package-name  {option}*
</td></tr></table>
<!--l. 2984--><p class="indent" >
</div>
<!--l. 2984--><p class="noindent" ><span class="paragraphHead"><a 
href="#x76-17000011.7" id="x76-17000011.7"></a></span>
   Эта функция создаёт новый пакет, или модифицирует уже существующий,
имя которого является <i>deﬁned-package-name</i>. Аргумент <i>deﬁne-package-name</i>
может быть строкой или символом. Если он является символом, то
используется его выводимое имя, а не пакет, если вдруг в котором находится
данный символ. Созданный или модифицированный пакет возвращается как
значение формы <a 
href="#x76-169040r163">defpackage</a>.
<div class=flushdesc>
<!--l. 2994--><p class="indent" >
      <ul><li><b>
(:size <i>integer</i>) </b></li>Запись         указывает         примерное         количество
      символов  ожидаемых  быть  в  пакете.  Это  просто  подсказка  для
      менеджера  памяти  так,  что  реализация  используя  хеш-таблицы
      для хранения структуры пакета может указать данный параметр,
      и память будет более эффективно выделяться (удобно, например
      при чтении файла и всех его символов в пакет).
      <li><b>
(:nicknames  {<i><i></i></i>}* package-name) </b></li>Запись                                 указывает
      псевдонимы для пакета. Если один из псевдонимов уже указывает
      на имеющийся пакет, то сигнализируется исправимая ошибка, как
      для функции <a 
href="#x76-168004r142">make-package</a>.
      <li><b>
(:shadow  {<i><i></i></i>}* symbol-name) </b></li>Указывает имена символов, которые будут
      затеняющими в определяемом пакете. Работает как <a 
href="#x76-169034r160">shadow</a>.
      <li><b>
(:shadowing-import-from <i>package-name</i> {<i><i></i></i>}* symbol-name) </b></li>Указывает
      имена символов, которые будут размещены в определяемом пакете.
      Эти символы импортируются в пакет, будучи при необходимости
      затеняющими, как при использовании функции <a 
href="#x76-169032r159">shadowing-import</a>.
                                                                          

                                                                          
      Ни в коем случае символы не создаются. Если для любого имени
      <i>symbol-name</i> не существует символа доступного в пакете с именем
      <i>package-name</i>, то сигнализируется исправимая ошибка.
      <li><b>
(:use  {<i><i></i></i>}* package-name) </b></li>Указывает                              определяемому
      пакету «использовать» (наследовать от) пакеты указанные в этой
      опции. Работает также, как и <a 
href="#x76-169036r161">use-package</a>. Если :use не указана,
      тогда опция имеет неопределённое значение.
      <li><b>
(:import-from <i>package-name</i> {<i><i></i></i>}* symbol-name) </b></li>Указывает
      символы, которые будут размещены в определяемом пакете. Эти
      символы импортируются в пакет, как при использовании функции
      <a 
href="#x76-169032r159">shadowing-import</a>. Ни в коем случае символы не создаются. Если
      для любого имени <i>symbol-name</i> не существует символа доступного
      в пакете с именем <i>package-name</i>, то сигнализируется исправимая
      ошибка.
      <li><b>
(:intern  {<i><i></i></i>}* symbol-name) </b></li>Указанные
      символы размещаются или создаются в определяемом пакете, как
      при использовании функции <a 
href="#x76-169020r153">intern</a>. Следует отметить, что действие
      этой опции может зависеть от опции :use, так как преимущество
      отдаётся унаследованному символу, чем созданию нового.
      <li><b>
(:export  {<i><i></i></i>}* symbol-name) </b></li>
      Указанные символы размещаются или создаются в определяемом
      пакете и затем экспортируются, как при использовании функции
      <a 
href="#x76-169026r156">export</a>. Следует отметить, что действие этой опции может зависеть
      от  опции  :use,  import-from  или  shadowing-import-from  так  как
      преимущество отдаётся унаследованному или импортированному
      символу, чем созданию нового.</ul>
</div>
<!--l. 3045--><p class="indent" >   Порядок, в котором опции используются в форме <a 
href="#x76-169040r163">defpackage</a>, не имеет
значения. Часть соглашения в том, что <a 
href="#x76-169040r163">defpackage</a> сортирует опции
перед обработкой. Опции обрабатываются в следующем порядке:
<div class=tabbing>
                                                                          

                                                                          
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">1.  :shadow and :shadowing-import-from
</td></tr></table>
<!--l. 3050--><p class="indent" >                                                                  <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">2.  :use</td></tr></table>
<!--l. 3051--><p class="indent" >                                              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">3.  :import-from and :intern</td></tr></table>
<!--l. 3052--><p class="indent" >                                                               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">4.  :export</td></tr></table>
<!--l. 3054--><p class="indent" >
</div>
<!--l. 3055--><p class="noindent" >Сначала устанавливаются затенения, чтобы избежать ложных конфликтов при
установке связей для use. Связи use должны устанавливаться перед
импортированием и интернированием, таким образом эти операции могут
ссылаться на нормально унаследованные символы, а не создавать новые.
Экспортирование выполняется последним, таким образом символы созданные
любой другой операцией, в частности, затеняющие и импортированные символы,
могут быть экспортированы. Следует отметить, что экспортирование
унаследованного символа сначала неявно импортирует его (смотрите
раздел <a 
href="clmse57.html#x73-16500011.4">11.4<!--tex4ht:ref: EXPORT-IMPORT-SECTION --></a>).
<!--l. 3064--><p class="indent" >   Если пакета с именем <i>deﬁned-package-name</i> не существовало, то <a 
href="#x76-169040r163">defpackage</a>
создаст его. Если такой пакет уже существовал, то новый пакет создан не
будет. Существующий пакет модифицируется, если возможно, для отражения
нового определения. Результат не определён, если новое определение не
совместимо с текущим состоянием пакета.
<!--l. 3070--><p class="indent" >   Если одинаковый аргумент <a 
href="clmse52.html#x67-159002r133">symbol-name</a> (в смысле сравнения имён с
помощью <a 
href="clmse96.html#x119-223002r556">string=</a>) встречается более одного раза в опциях :shadow,
:shadowing-import-from, :import-from и :intern, сигнализируется ошибка.
<!--l. 3075--><p class="indent" >   Если одинаковый аргумент <a 
href="clmse52.html#x67-159002r133">symbol-name</a> (в смысле сравнения имён с
помощью <a 
href="clmse96.html#x119-223002r556">string=</a>) встречается более одного раза в опциях :intern и :export,
сигнализируется ошибка.
<!--l. 3079--><p class="indent" >   Другие виды конфликтов обрабатывается в том же стиле, как в
соответствующих операциях <a 
href="#x76-169036r161">use-package</a>, <a 
href="#x76-169030r158">import</a> и <a 
href="#x76-169026r156">export</a>.
<!--l. 3082--><p class="indent" >   Реализация может поддерживать другие опции для <a 
href="#x76-169040r163">defpackage</a>.
Каждая реализация должно сигнализировать ошибку при встрече с
неподдерживаемой опцией для <a 
href="#x76-169040r163">defpackage</a>.
<!--l. 3086--><p class="indent" >   Функция <a 
href="clmse122.html#x152-294011r755">compile-ﬁle</a> должна обрабатывается формы верхнего уровня
<a 
href="#x76-169040r163">defpackage</a> таким же методом, как и обрабатывает формы верхнего уровня
для работы с пакетам (как описано в начале раздела <a 
href="#x76-16800011.7">11.7<!--tex4ht:ref: PACKAGE-FUNCTIONS-SECTION --></a>).
<!--l. 3090--><p class="indent" >   Вот пример вызова <a 
href="#x76-169040r163">defpackage</a>, которая «не рискует (plays it safe)»,
                                                                          

                                                                          
используя только строки в качестве имён. <div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(cl:defpackage &#x0022;MY-VERY-OWN-PACKAGE&#x0022;
</td></tr></table>
<!--l. 3093--><p class="indent" >                                                              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (:size 496)</td></tr></table>
<!--l. 3094--><p class="indent" >                         <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (:nicknames &#x0022;MY-PKG&#x0022; &#x0022;MYPKG&#x0022; &#x0022;MVOP&#x0022;)</td></tr></table>
<!--l. 3095--><p class="indent" >                                               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (:use &#x0022;COMMON-LISP&#x0022;)</td></tr></table>
<!--l. 3096--><p class="indent" >                                               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (:shadow &#x0022;CAR&#x0022; &#x0022;CDR&#x0022;)</td></tr></table>
<!--l. 3097--><p class="indent" >                  <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (:shadowing-import-from &#x0022;BRAND-X-LISP&#x0022; &#x0022;CONS&#x0022;)</td></tr></table>
<!--l. 3098--><p class="indent" >   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (:import-from &#x0022;BRAND-X-LISP&#x0022; &#x0022;GC&#x0022; &#x0022;BLINK-FRONT-PANEL-LIGHTS&#x0022;)</td></tr></table>
<!--l. 3099--><p class="indent" >              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (:export &#x0022;EQ&#x0022; &#x0022;CONS&#x0022; &#x0022;MY-VERY-OWN-FUNCTION&#x0022;))</td></tr></table>
<!--l. 3101--><p class="indent" >
</div>
</div>
<!--l. 3102--><p class="noindent" ><a 
href="#x76-169040r163">defpackage</a> пример выше спроектирован работать корректно, даже если текущий
пакет не использует пакет common-lisp. (Следует отметить, что в этом
примере используется псевдоним cl для пакета common-lisp.) Более того,
выполнение этой формы <a 
href="#x76-169040r163">defpackage</a> не создаст символа в текущем пакете. А
также для последующего удобства для строк использованы буквы в верхнем
регистре.
<!--l. 3109--><p class="indent" >   А вот для контраста пример <a 
href="#x76-169040r163">defpackage</a>, который «играет по крупному
(plays the whale)» с использованием всех типов допустимого синтаксиса.
<div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(defpackage my-very-own-package
</td></tr></table>
<!--l. 3112--><p class="indent" >                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (:export :EQ common-lisp:cons my-very-own-function)</td></tr></table>
<!--l. 3113--><p class="indent" >                                     <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (:nicknames &#x0022;MY-PKG&#x0022; #:MyPkg)</td></tr></table>
<!--l. 3114--><p class="indent" >                                               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (:use &#x0022;COMMON-LISP&#x0022;)</td></tr></table>
<!--l. 3115--><p class="indent" >                                                      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (:shadow &#x0022;CAR&#x0022;)</td></tr></table>
<!--l. 3116--><p class="indent" >                                                              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (:size 496)</td></tr></table>
<!--l. 3117--><p class="indent" >                                                     <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (:nicknames mvop)</td></tr></table>
<!--l. 3118--><p class="indent" >       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (:import-from &#x0022;BRAND-X-LISP&#x0022; &#x0022;GC&#x0022; Blink-Front-Panel-Lights)</td></tr></table>
<!--l. 3119--><p class="indent" >                                             <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (:shadow common-lisp::cdr)</td></tr></table>
<!--l. 3120--><p class="indent" >                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (:shadowing-import-from &#x0022;BRAND-X-LISP&#x0022; CONS))</td></tr></table>
<!--l. 3122--><p class="indent" >
                                                                          

                                                                          
</div>
</div>
<!--l. 3123--><p class="noindent" >Этот пример производит то же влияние на вновь созданный пакет, но может
создавать бесполезные символы в других пакетах. Использования явных
тегов пакетов особенно запутаны. Например, эта форма <a 
href="#x76-169040r163">defpackage</a> делает
так, что символ <a 
href="clmse81.html#x101-202004r407">cdr</a> будет затенён в <i>новом пакете</i>. Данный символ не будет
затенён в пакете common-lisp. Факт, что имя «CDR» было указано полным
именем (с двоеточием) является отвлекающим маневром. Мораль в том, что
синтаксическая гибкость <a 
href="#x76-169040r163">defpackage</a>, как в других частях Common Lisp&#x2019;а,
даёт большие удобства в использовании в рамках здравого смысла, но
создаёт невообразимую путаницу при использовании мальтузианского
изобилия.
<!--l. 3134--><p class="indent" >   Следует отметить, что <a 
href="#x76-169040r163">defpackage</a> не способна сама по себе определять
взаимно рекурсивные пакеты, например, два пакета использующих друг
друга. Однако, ничто не мешает использовать <a 
href="#x76-169040r163">defpackage</a> для выполнения
первоначальных установок, а затем использовать такие функции, как
<a 
href="#x76-169036r161">use-package</a>, <a 
href="#x76-169030r158">import</a> и <a 
href="#x76-169026r156">export</a> для создания связи.
<!--l. 3140--><p class="indent" >   Цель <a 
href="#x76-169040r163">defpackage</a> поощрять пользователя размещать определение
пакета и его зависимостей в одном месте. Это может также позволить
проектировщику большой системы размещать определения всех необходимых
пакетов (скажем) в один файл, который может быть загружен перед
загрузкой или компиляцией кода, который зависит от этих пакетов. Такой
файл, если аккуратно сконструирован, может быть просто загружен в пакет
common-lisp-user.
<!--l. 3147--><p class="indent" >   Реализации и программные окружения могут также лучше поддерживать
процесс разработки (если только предлагая лучшую проверку ошибок) с
помощью глобальной базы значений о предполагаемых установках
пакетов.
</div>
<div class=defun>
<!--l. 3152--><p class="noindent" ><i>[Функция]</i><a 
 id="dx76-170001"></a><a 
 id="x76-170002r164"></a><b> ﬁnd-all-symbols</b>  <i>string-or-symbol</i>
<!--l. 3154--><p class="noindent" ><a 
href="#x76-170002r164">ﬁnd-all-symbols</a> просматривает каждый пакет в Lisp&#x2019;овой системе для поиска
символа, имя которого совпадает с указанной строкой. Список всех
найденных символов возвращается в качестве результата. Этот поиск
регистрозависимый. Если аргумент является символом, для поиска по строке
используется его выводимое имя.
</div>
<div class=defmac>
                                                                          

                                                                          
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"> <i>[Макрос]</i><b> do-symbols </b><a 
 id="dx76-170003"></a><a 
 id="x76-170004r165"></a> (var [package [result-form]])
</td></tr></table>
<!--l. 3165--><p class="indent" >                                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"> {declaration}*  {tag | statement}* </td></tr></table>
<!--l. 3166--><p class="indent" >
</div>
<!--l. 3166--><p class="noindent" ><span class="paragraphHead"><a 
href="#x76-17100011.7" id="x76-17100011.7"></a></span>
   <a 
href="#x76-170004r165">do-symbols</a> предоставляет прямой цикл по символам пакета. Тело
выполняется единожды для каждого символа доступного в пакете <i>package</i>.
Символ связывается с переменной <i>var</i>. Затем вычисляется форма <i>result-form</i>
(одиночная форма, <i>не</i> неявный <a 
href="clmse38.html#x50-96002r71">progn</a>), и результат является результатом
формы <a 
href="#x76-170004r165">do-symbols</a>. (Когда вычисляется форма <i>result-form</i>, переменная <i>var</i>
продолжает быть связанной и имеет значение <a 
href="clmse31.html#x42-74002r18">nil</a>.) Если <i>result-form</i>
опущена, результат <a 
href="clmse31.html#x42-74002r18">nil</a>. Для немедленного завершения цикла может
использоваться <a 
href="clmse137.html#x168-343002r839">return</a>. Если выполнение тела влияет на то, какие символы
содержаться в пакете <i>package</i>, то возможно только удаление символа
связанного с переменной <i>var</i> с использованием <a 
href="#x76-169024r155">unintern</a>, иначе результат не
определён.
<!--l. 3180--><p class="indent" >   Аргумент <i>package</i> может быть как объектом пакета, так и его именем.
Смотрите раздел <a 
href="clmse55.html#x71-16300011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
</div>
<div class=defmac>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"> <i>[Макрос]</i><b> do-external-symbols </b><a 
 id="dx76-171001"></a><a 
 id="x76-171002r166"></a> (var [package [result]])
</td></tr></table>
<!--l. 3186--><p class="indent" >                                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"> {declaration}*  {tag | statement}* </td></tr></table>
<!--l. 3187--><p class="indent" >
</div>
                                                                          

                                                                          
<!--l. 3187--><p class="noindent" ><span class="paragraphHead"><a 
href="#x76-17200011.7" id="x76-17200011.7"></a></span>
   <a 
href="#x76-171002r166">do-external-symbols</a> похожа на <a 
href="#x76-170004r165">do-symbols</a> за исключением того, что
сканируются только внешние символы пакета.
<!--l. 3191--><p class="indent" >   Аргумент <i>package</i> может быть как объектом пакета, так и его именем.
Смотрите раздел <a 
href="clmse55.html#x71-16300011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
</div>
<div class=defmac>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"> <i>[Макрос]</i><b> do-all-symbols </b><a 
 id="dx76-172001"></a><a 
 id="x76-172002r167"></a> (var [result-form])
</td></tr></table>
<!--l. 3197--><p class="indent" >                                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"> {declaration}*  {tag | statement}* </td></tr></table>
<!--l. 3198--><p class="indent" >
</div>
<!--l. 3198--><p class="noindent" ><span class="paragraphHead"><a 
href="#x76-17300011.7" id="x76-17300011.7"></a></span>
   Эта функция похожа на <a 
href="#x76-170004r165">do-symbols</a>, но выполняет тело единожды для
каждого символа каждого пакета. (Функция не обрабатывает все
возможные символы, так как символ может быть доступен ни в одном
пакете. Обычно, дезинтернированые символы не доступны ни в одном
пакете.) В общем случае тело может выполняться для одно символа
несколько раз, так как этот символ может встречаться в нескольких
пакетах.
<!--l. 3206--><p class="indent" >   Аргумент <i>package</i> может быть как объектом пакета, так и его именем.
Смотрите раздел <a 
href="clmse55.html#x71-16300011.2">11.2<!--tex4ht:ref: PACKAGE-NAMES-SECTION --></a>.
</div>
                                                                          

                                                                          
                                                                          

                                                                          
                                                                          

                                                                          
                                                                          

                                                                          
   <!--l. 14--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmch12.html" >Далее</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse59.html" >Назад</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse59.html#tailclmse59.html" >Назад-и-вниз</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse60.html" >В-начало</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch11.html#clmse60.html" >Вверх</a><tt>&#x003E;</tt></p></div>
<!--l. 14--><p class="indent" >   <a 
 id="tailclmse60.html"></a>  
</body></html> 

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>The Property List Список свойств</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,next,charset=utf-8,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-03-09 00:03:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
</head><body 
>
   <!--l. 82--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse55.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch10.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch10.html#tailclmch10.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse54.html">Tail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch10.html#clmse54.html" >Up</a><tt>&#x003E;</tt></p></div>
   <h3 class="sectionHead"><span class="titlemark">10.1   </span> <a 
 id="x69-17600010.1"></a>The Property List Список свойств</h3>
<!--l. 84--><p class="noindent" >Since its inception, Lisp has associated with each symbol a kind of tabular data
structure called a <i>property list</i> (<i>plist</i> for short). A property list contains zero or
more entries; each entry associates with a key (called the <i>indicator</i>), which is
typically a symbol, an arbitrary Lisp object (called the <i>value</i> or, sometimes, the
<i>property</i>). There are no duplications among the indicators; a property list may
only have one property at a time with a given name. In this way, given a
                                                                          

                                                                          
symbol and an indicator (another symbol), an associated value can be
retrieved.
<!--l. 96--><p class="indent" >   Начиная с самого создания, Lisp для каждого символа ассоциирует
табличную структуру данных, называемую <i>список свойств</i> (для краткости
<i>plist</i>). Список свойств содержит ноль и более элементов. Каждый элемент
содержит ключ (называемым <i>индикатором</i>), который чаще всего является
символом, и ассоциированным с ним значением (называемым иногда
<i>свойством</i>), которое может быть любым Lisp&#x2019;овым объектом. Среди
индикаторов не может быть дубликатов. Список свойств может иметь только
одно свойство для данного имени. Таким образом, значение может получено
с помощью двух символов: исходного символа и индикатора.
<!--l. 106--><p class="indent" >   A property list is very similar in purpose to an association list. The
diﬀerence is that a property list is an object with a unique identity; the
operations for adding and removing property-list entries are destructive
operations that alter the property list rather than making a new one.
Association lists, on the other hand, are normally augmented non-destructively
(without side eﬀects) by adding new entries to the front (see <a 
href="clmse91.html#x111-232002r533">acons</a> and
<a 
href="clmse91.html#x111-232004r534">pairlis</a>).
<!--l. 115--><p class="indent" >   Список свойств по целевому назначению очень похож на ассоциативный
список. Различие в том, что список свойств является единственно подлинным
объектом. Операции добавления и удаления элементов деструктивны, то есть
при их использовании изменяется старый список, и нового списка свойств
не создается. Ассоциативные список, наоборот, обычно изменяются
недеструктивно (без побочных эффектов) с помощью добавления в начало
новых элементов (смотрите <a 
href="clmse91.html#x111-232002r533">acons</a> и <a 
href="clmse91.html#x111-232004r534">pairlis</a>).
<!--l. 123--><p class="indent" >   A property list is implemented as a memory cell containing a list with an even
number (possibly zero) of elements. (Usually this memory cell is the property-list
cell of a symbol, but any memory cell acceptable to <a 
href="clmse36.html#x48-93002r66">setf</a> can be used if <a 
href="#x69-176010r162">getf</a> and
<a 
href="#x69-176014r163">remf</a> are used.) Each pair of elements in the list constitutes an entry; the ﬁrst
item is the indicator, and the second is the value. Because property-list
functions are given the symbol and not the list itself, modiﬁcations to the
property list can be recorded by storing back into the property-list cell of the
symbol.
<!--l. 134--><p class="indent" >   Список свойств реализуется, как ячейка памяти, содержащая список с
четным (возможно нулевым) количеством аргументов. (Обычно эта ячейка
памяти является ячейкой списка свойств в символе, но в принципе подходит
любая ячейка памяти, к которой можно применить <a 
href="clmse36.html#x48-93002r66">setf</a>) Каждая пара
элементов в списке составляет строку. Первый в паре это индикатор, а
                                                                          

                                                                          
второй — значение. Так как функции для списка свойств используют
символ, а не сам список, то изменения этого списка свойств может быть
записаны сохранением обратно в ячейку списка свойств символа.
FIXME
<!--l. 143--><p class="indent" >   When a symbol is created, its property list is initially empty. Properties are
created by using <a 
href="#x69-176002r159">get</a> within a <a 
href="clmse36.html#x48-93002r66">setf</a> form.
<!--l. 146--><p class="indent" >   Когда создается символ, его список свойств пуст. Свойства создаются с
помощью <a 
href="#x69-176002r159">get</a> внутри формы <a 
href="clmse36.html#x48-93002r66">setf</a>.
<!--l. 149--><p class="indent" >   Common Lisp does not use a symbol&#x2019;s property list as extensively as earlier
Lisp implementations did. Less-used data, such as compiler, debugging,
and documentation information, is kept on property lists in Common
Lisp.
<!--l. 154--><p class="indent" >   Common Lisp не использует список свойств символа так интенсивно, как
это делали ранние реализации Lisp&#x2019;а. В Common Lisp&#x2019;е нечасто используемые
данные, такие как отладочная информация, информация для компилятора и
документация, хранятся в списках свойств.
<div class=incompatibility>
<!--l. 160--><p class="noindent" ><b>Compatibility note:</b> In older Lisp implementations, the print name, value, and
function deﬁnition of a symbol were kept on its property list. The value cell was
introduced into MacLisp and Interlisp to speed up access to variables; similarly for the
print-name cell and function cell (MacLisp does not use a function cell). Recent Lisp
implementations such as Spice Lisp, Lisp Machine Lisp, and NIL have introduced all of
these cells plus the package cell. None of the MacLisp system property names (expr,
fexpr, macro, array, subr, lsubr, fsubr, and in former times value and pname) exist in
Common Lisp.
<!--l. 175--><p class="indent" >   In Common Lisp, the notion of “disembodied property list” introduced in MacLisp is
eliminated. It tended to be used for rather kludgy things, and in Lisp Machine Lisp is
often associated with the use of locatives (to make it “oﬀ by one” for searching
alternating keyword lists). In Common Lisp special <a 
href="clmse36.html#x48-93002r66">setf</a>-like property-list functions are
introduced: <a 
href="#x69-176010r162">getf</a> and <a 
href="#x69-176014r163">remf</a>.
</div>
<div class=defun>
<!--l. 185--><p class="noindent" ><i>[Function]</i><a 
 id="dx69-176001"></a><a 
 id="x69-176002r159"></a><b> get</b>  <i>symbol</i> <i>indicator</i> &#x0026;optional  <i>default</i>
<!--l. 187--><p class="noindent" ><a 
href="#x69-176002r159">get</a> searches the property list of <i>symbol</i> for an indicator <a 
href="clmse33.html#x44-81002r46">eq</a> to <i>indicator</i>. The ﬁrst
argument must be a symbol. If one is found, then the corresponding value is
returned; otherwise <i>default</i> is returned.
<!--l. 194--><p class="indent" >   <a 
href="#x69-176002r159">get</a> ищет в списке свойств символа <i>symbol</i> индикатор равный <a 
href="clmse33.html#x44-81002r46">eq</a>
индикатору <i>indicator</i>. Первый аргумент должен быть символом. Если такое
                                                                          

                                                                          
свойство найдено, возвращается ее значение. Иначе возвращается значение
<i>default</i>.
<!--l. 200--><p class="indent" >   If <i>default</i> is not speciﬁed, then <a 
href="clmse31.html#x42-77002r19">nil</a> is used for <i>default</i>.
<!--l. 203--><p class="indent" >   Если <i>default</i> не указано, тогда для значения по-умолчанию используется
<a 
href="clmse31.html#x42-77002r19">nil</a>.
<!--l. 206--><p class="indent" >   Note that there is no way to distinguish an absent property from one whose
value is <i>default</i>. <div class=lisp> <div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(get x y)  ≡ (getf (symbol-plist x) y)
</td></tr></table>
<!--l. 210--><p class="indent" >
</div>
</div>
<!--l. 211--><p class="noindent" >Suppose that the property list of foo is (bar t baz 3 hunoz &#x0022;Huh?&#x0022;). Then, for
example: <div class=lisp> <div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(get &#x2019;foo &#x2019;baz)  ⇒ 3
</td></tr></table>
<!--l. 214--><p class="indent" >                                              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(get &#x2019;foo &#x2019;hunoz)  ⇒ &#x0022;Huh?&#x0022;</td></tr></table>
<!--l. 215--><p class="indent" >                                                     <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(get &#x2019;foo &#x2019;zoo)  ⇒ <a 
href="clmse31.html#x42-77002r19">nil</a></td></tr></table>
<!--l. 217--><p class="indent" >
</div>
</div>
<!--l. 219--><p class="indent" >   Следует отметить, что способа отличить значения по-умолчанию и такое
же значение свойства нет: <div class=lisp> <div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(get x y)  ≡ (getf (symbol-plist x) y)
</td></tr></table>
<!--l. 223--><p class="indent" >
</div>
</div>
<!--l. 224--><p class="noindent" >Допустим, что список свойств символа foo является (bar t baz 3 hunoz &#x0022;Huh?&#x0022;).
Тогда, например: <div class=lisp> <div class=tabbing>
                                                                          

                                                                          
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(get &#x2019;foo &#x2019;baz)  ⇒ 3
</td></tr></table>
<!--l. 228--><p class="indent" >                                              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(get &#x2019;foo &#x2019;hunoz)  ⇒ &#x0022;Huh?&#x0022;</td></tr></table>
<!--l. 229--><p class="indent" >                                                     <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(get &#x2019;foo &#x2019;zoo)  ⇒ <a 
href="clmse31.html#x42-77002r19">nil</a></td></tr></table>
<!--l. 231--><p class="indent" >
</div>
</div>
<div class=incompatibility>
<!--l. 233--><p class="noindent" ><b>Compatibility note:</b> In MacLisp, the ﬁrst argument to <a 
href="#x69-176002r159">get</a> could be a list, in which
case the <i>cdr</i> of the list was treated as a so-called “disembodied property list.” The ﬁrst
argument to <a 
href="#x69-176002r159">get</a> could also be any other object, in which case <a 
href="#x69-176002r159">get</a> would always return
<a 
href="clmse31.html#x42-77002r19">nil</a>. In Common Lisp, it is an error to give anything but a symbol as the ﬁrst argument
to <a 
href="#x69-176002r159">get</a>.
<!--l. 242--><p class="indent" >   What Common Lisp calls <a 
href="#x69-176002r159">get</a>, Interlisp calls getprop.
<!--l. 244--><p class="indent" >   What MacLisp and Interlisp call putprop is accomplished in Common Lisp by using
<a 
href="#x69-176002r159">get</a> with <a 
href="clmse36.html#x48-93002r66">setf</a>.
</div>
<!--l. 249--><p class="indent" >   <a 
href="clmse36.html#x48-93002r66">setf</a> may be used with <a 
href="#x69-176002r159">get</a> to create a new property-value pair, possibly
replacing an old pair with the same property name. For example: <div class=lisp> <div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(get &#x2019;clyde &#x2019;species)  ⇒ <a 
href="clmse31.html#x42-77002r19">nil</a>
</td></tr></table>
<!--l. 253--><p class="indent" >                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(setf (get &#x2019;clyde &#x2019;species) &#x2019;elephant)  ⇒ elephant</td></tr></table>
<!--l. 254--><p class="indent" >                                 <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">and now (get &#x2019;clyde &#x2019;species)  ⇒ elephant</td></tr></table>
<!--l. 256--><p class="indent" >
</div>
</div>
<!--l. 257--><p class="noindent" >The <i>default</i> argument may be speciﬁed to <a 
href="#x69-176002r159">get</a> in this context; it is ignored by
<a 
href="clmse36.html#x48-93002r66">setf</a> but may be useful in such macros as <a 
href="clmse87.html#x107-225060r503">push</a> that are related to <a 
href="clmse36.html#x48-93002r66">setf</a>: <div class=lisp>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(push item (get sym &#x2019;token-stack &#x2019;(initial-item)))
</td></tr></table>
<!--l. 262--><p class="indent" >
                                                                          

                                                                          
</div>
</div>
<!--l. 263--><p class="noindent" >means approximately the same as <div class=lisp> <div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(setf (get sym &#x2019;token-stack &#x2019;(initial-item))
</td></tr></table>
<!--l. 265--><p class="indent" >                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">      (cons item (get sym &#x2019;token-stack &#x2019;(initial-item))))</td></tr></table>
<!--l. 267--><p class="indent" >
</div>
</div>
<!--l. 268--><p class="noindent" >which in turn would be treated as simply <div class=lisp> <div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(setf (get sym &#x2019;token-stack)
</td></tr></table>
<!--l. 270--><p class="indent" >                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">      (cons item (get sym &#x2019;token-stack &#x2019;(initial-item))))</td></tr></table>
<!--l. 272--><p class="indent" >
</div>
</div>
<!--l. 274--><p class="indent" >   <a 
href="clmse36.html#x48-93002r66">setf</a> может использоваться вместе с <a 
href="#x69-176002r159">get</a> для созданя новой пары
свойства, возожно замещая старую пару с тем же именем. Например: <div class=lisp>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(get &#x2019;clyde &#x2019;species)  ⇒ <a 
href="clmse31.html#x42-77002r19">nil</a>
</td></tr></table>
<!--l. 278--><p class="indent" >                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(setf (get &#x2019;clyde &#x2019;species) &#x2019;elephant)  ⇒ elephant</td></tr></table>
<!--l. 279--><p class="indent" >                                 <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">и теперь (get &#x2019;clyde &#x2019;species)  ⇒ elephant</td></tr></table>
<!--l. 281--><p class="indent" >
</div>
</div>
<!--l. 282--><p class="noindent" >В данном контексте может быть указан аргумент <i>default</i>. Он игнорируется в
<a 
href="clmse36.html#x48-93002r66">setf</a>, но может быть полезен в таких макросах, как <a 
href="clmse87.html#x107-225060r503">push</a>, которые связаны с
<a 
href="clmse36.html#x48-93002r66">setf</a>: <div class=lisp> <div class=tabbing>
                                                                          

                                                                          
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(push item (get sym &#x2019;token-stack &#x2019;(initial-item)))
</td></tr></table>
<!--l. 287--><p class="indent" >
</div>
</div>
<!--l. 288--><p class="noindent" >означает то же, что и <div class=lisp> <div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(setf (get sym &#x2019;token-stack &#x2019;(initial-item))
</td></tr></table>
<!--l. 290--><p class="indent" >                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">      (cons item (get sym &#x2019;token-stack &#x2019;(initial-item))))</td></tr></table>
<!--l. 292--><p class="indent" >
</div>
</div>
<!--l. 293--><p class="noindent" >а если упростить, то <div class=lisp> <div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(setf (get sym &#x2019;token-stack)
</td></tr></table>
<!--l. 295--><p class="indent" >                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">      (cons item (get sym &#x2019;token-stack &#x2019;(initial-item))))</td></tr></table>
<!--l. 297--><p class="indent" >
</div>
</div>
<div class=newer>
<!--l. 300--><p class="indent" >   X3J13 voted in March 1989 <a 
 id="dx69-176003"></a>to clarify the permissible side eﬀects of
certain operations; (setf (get <i>symbol</i> <i>indicator</i>) <i>newvalue</i>) is required to
behave exactly the same as (setf (getf (symbol-plist <i>symbol</i>) <i>indicator</i>)
<i>newvalue</i>).
</div>
</div>
<div class=defun>
<!--l. 309--><p class="noindent" ><i>[Function]</i><a 
 id="dx69-176004"></a><a 
 id="x69-176005r160"></a><b> remprop</b>  <i>symbol</i> <i>indicator</i>
<!--l. 311--><p class="noindent" >This removes from <i>symbol</i> the property with an indicator <a 
href="clmse33.html#x44-81002r46">eq</a> to <i>indicator</i>. The
property indicator and the corresponding value are removed by destructively
splicing the property list. It returns <a 
href="clmse31.html#x42-77002r19">nil</a> if no such property was found, or non-<a 
href="clmse31.html#x42-77002r19">nil</a> if
a property was found. <div class=lisp> <div class=tabbing>
                                                                          

                                                                          
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(remprop x y)  ≡ (remf (symbol-plist x) y)
</td></tr></table>
<!--l. 319--><p class="indent" >
</div>
</div>
<!--l. 320--><p class="noindent" >For example, if the property list of foo is initially <div class=lisp> <div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(color blue height 6.3 near-to bar)
</td></tr></table>
<!--l. 323--><p class="indent" >
</div>
</div>
<!--l. 324--><p class="noindent" >then the call <div class=lisp> <div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(remprop &#x2019;foo &#x2019;height)
</td></tr></table>
<!--l. 327--><p class="indent" >
</div>
</div>
<!--l. 328--><p class="noindent" >returns a non-<a 
href="clmse31.html#x42-77002r19">nil</a> value after altering foo&#x2019;s property list to be <div class=lisp> <div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(color blue near-to bar)
</td></tr></table>
<!--l. 331--><p class="indent" >
</div>
</div>
<!--l. 333--><p class="indent" >   Эта функция удаляет из символа <i>symbol</i> свойство с индикатором, равным
<a 
href="clmse33.html#x44-81002r46">eq</a> индикатору <i>indicator</i>. Индикатор свойства и соответствующее значение
удаляется из списка деструктивной склейкой списка свойств. Она возвращает
<a 
href="clmse31.html#x42-77002r19">nil</a>, если указанного свойства не было, или не-<a 
href="clmse31.html#x42-77002r19">nil</a>, если свойство было. <div class=lisp>
<div class=tabbing>
                                                                          

                                                                          
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(remprop x y)  ≡ (remf (symbol-plist x) y)
</td></tr></table>
<!--l. 340--><p class="indent" >
</div>
</div>
<!--l. 341--><p class="noindent" >Например, если список свойств foo равен <div class=lisp> <div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(color blue height 6.3 near-to bar)
</td></tr></table>
<!--l. 344--><p class="indent" >
</div>
</div>
<!--l. 345--><p class="noindent" >тогда вызов <div class=lisp> <div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(remprop &#x2019;foo &#x2019;height)
</td></tr></table>
<!--l. 348--><p class="indent" >
</div>
</div>
<!--l. 349--><p class="noindent" >вернет значение не-<a 
href="clmse31.html#x42-77002r19">nil</a>, после изменения списка свойств символа foo на <div class=lisp>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(color blue near-to bar)
</td></tr></table>
<!--l. 352--><p class="indent" >
</div>
</div>
<div class=newer>
<!--l. 355--><p class="indent" >   X3J13 voted in March 1989 <a 
 id="dx69-176006"></a>to clarify the permissible side eﬀects of certain
operations; (remprop <i>symbol</i> <i>indicator</i>) is required to behave exactly the same as
(remf (symbol-plist <i>symbol</i>) <i>indicator</i>).
</div>
                                                                          

                                                                          
</div>
<div class=defun>
<!--l. 363--><p class="noindent" ><i>[Function]</i><a 
 id="dx69-176007"></a><a 
 id="x69-176008r161"></a><b> symbol-plist</b>  <i>symbol</i>
<!--l. 365--><p class="noindent" >This returns the list that contains the property pairs of <i>symbol</i>; the contents of
the property-list cell are extracted and returned.
<!--l. 369--><p class="indent" >   Note that using <a 
href="#x69-176002r159">get</a> on the result of <a 
href="#x69-176008r161">symbol-plist</a> does <i>not</i> work. One must give
the symbol itself to <a 
href="#x69-176002r159">get</a> or else use the function <a 
href="#x69-176010r162">getf</a>.
<!--l. 373--><p class="indent" >   <a 
href="clmse36.html#x48-93002r66">setf</a> may be used with <a 
href="#x69-176008r161">symbol-plist</a> to destructively replace the entire property
list of a symbol. This is a relatively dangerous operation, as it may destroy
important information that the implementation may happen to store in property
lists. Also, care must be taken that the new property list is in fact a list of even
length. <div class=incompatibility>
<!--l. 380--><p class="noindent" ><b>Compatibility note:</b> In MacLisp, this function is called plist; in Interlisp, it is called
getproplist.
</div>
<!--l. 386--><p class="indent" >   Эта функция возвращает список, который содержит пары свойств для
символа <i>symbol</i>. Извлекается содержимое ячейки списка свойств и
возвращается в качестве результата.
<!--l. 390--><p class="indent" >   Следует отметить, что использование <a 
href="#x69-176002r159">get</a> с результатом <a 
href="#x69-176008r161">symbol-plist</a> <i>не</i>
будет работать. Необходимо передавать в <a 
href="#x69-176002r159">get</a> символ, или же использовать
<a 
href="#x69-176010r162">getf</a>.
<!--l. 394--><p class="indent" >   С <a 
href="#x69-176008r161">symbol-plist</a> может использоваться <a 
href="clmse36.html#x48-93002r66">setf</a> для деструктивной замены
списка свойств символа. Это относительно опасная операция, так как может
уничтожить важную информацию, которую, возможно, хранила там
реализация. Также, позаботтесь о том, чтобы новый список свойств содержал
четное количество элементов.
</div>
<div class=defun>
<!--l. 401--><p class="noindent" ><i>[Function]</i><a 
 id="dx69-176009"></a><a 
 id="x69-176010r162"></a><b> getf</b>  <i>place</i> <i>indicator</i> &#x0026;optional  <i>default</i>
<!--l. 403--><p class="noindent" ><a 
href="#x69-176010r162">getf</a> searches the property list stored in <i>place</i> for an indicator <a 
href="clmse33.html#x44-81002r46">eq</a> to <i>indicator</i>. If
one is found, then the corresponding value is returned; otherwise <i>default</i> is
returned. If <i>default</i> is not speciﬁed, then <a 
href="clmse31.html#x42-77002r19">nil</a> is used for <i>default</i>. Note that
there is no way to distinguish an absent property from one whose value is
<i>default</i>. Often <i>place</i> is computed from a generalized variable acceptable to
<a 
href="clmse36.html#x48-93002r66">setf</a>.
<!--l. 414--><p class="indent" >   <a 
href="#x69-176010r162">getf</a> ищет индикатор равный <a 
href="clmse33.html#x44-81002r46">eq</a> <i>indicator</i> в списке свойств, находящимся в
<i>place</i>. Если он найден, тогда возвращается соответствующее значение. Иначе
возвращается <i>default</i>. Если <i>default</i> не задан, то значение по-умолчанию
                                                                          

                                                                          
используется . Следует отметить, что метода определения, вернулось
ли значение по умолчанию или это значение свойства, нет. Часто
<i>place</i> вычисляется из обобщенной переменной, принимаемой функцией
<a 
href="clmse36.html#x48-93002r66">setf</a>.
<!--l. 423--><p class="indent" >   <a 
href="clmse36.html#x48-93002r66">setf</a> may be used with <a 
href="#x69-176010r162">getf</a>, in which case the <i>place</i> must indeed be acceptable
as a <i>place</i> to <a 
href="clmse36.html#x48-93002r66">setf</a>. The eﬀect is to add a new property-value pair, or update an
existing pair, in the property list kept in the <i>place</i>. The <i>default</i> argument may be
speciﬁed to <a 
href="#x69-176010r162">getf</a> in this context; it is ignored by <a 
href="clmse36.html#x48-93002r66">setf</a> but may be useful in such
macros as <a 
href="clmse87.html#x107-225060r503">push</a> that are related to <a 
href="clmse36.html#x48-93002r66">setf</a>. See the description of <a 
href="#x69-176002r159">get</a> for an example
of this.
<!--l. 432--><p class="indent" >   <a 
href="clmse36.html#x48-93002r66">setf</a> может использоваться вместе <a 
href="#x69-176010r162">getf</a>, и в этом случае <i>place</i> должно быть
обобщенным, чтобы его можно было передать в <a 
href="clmse36.html#x48-93002r66">setf</a>. Целью является
добавление новой пары свойства, или изменению уже существующей пары, в
списке свойств, хранящимся в <i>place</i>. В данном контексте может быть
использован аргумент <i>default</i>. Он игнорируется функцией <a 
href="clmse36.html#x48-93002r66">setf</a>, но может быть
полезен в таких макросах, как <a 
href="clmse87.html#x107-225060r503">push</a>, которые связаны с <a 
href="clmse36.html#x48-93002r66">setf</a>. Смотрите
описание <a 
href="#x69-176002r159">get</a> для примера.
<div class=newer>
<!--l. 442--><p class="indent" >   X3J13 voted in March 1989 <a 
 id="dx69-176011"></a>to clarify the permissible side eﬀects of certain
operations; <a 
href="clmse36.html#x48-93002r66">setf</a> used with <a 
href="#x69-176010r162">getf</a> is permitted to perform a <a 
href="clmse36.html#x48-93002r66">setf</a> on the <i>place</i>
or on any part, <i>car</i> or <i>cdr</i>, of the top-level list structure held by that
<i>place</i>.
</div>
<div class=newer>
<!--l. 450--><p class="indent" >   X3J13 voted in March 1988 <a 
 id="dx69-176012"></a>to clarify order of evaluation (see section <a 
href="clmse36.html#x48-930007.2">7.2<!--tex4ht:ref: SETF-SECTION --></a>).
</div>
<div class=incompatibility>
<!--l. 455--><p class="noindent" ><b>Compatibility note:</b> The Interlisp function listget is similar to <a 
href="#x69-176010r162">getf</a>. The Interlisp
function listput is similar to using <a 
href="#x69-176010r162">getf</a> with <a 
href="clmse36.html#x48-93002r66">setf</a>.
</div>
</div>
<div class=defmac>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"> <i>[Macro]</i><b> remf </b><a 
 id="dx69-176013"></a><a 
 id="x69-176014r163"></a> place indicator
</td></tr></table>
                                                                          

                                                                          
<!--l. 465--><p class="indent" >
</div>
<!--l. 465--><p class="noindent" ><span class="paragraphHead"><a 
 id="x69-17700010.1"></a></span>
   This removes from the property list stored in <i>place</i> the property with an
indicator <a 
href="clmse33.html#x44-81002r46">eq</a> to <i>indicator</i>. The property indicator and the corresponding value are
removed by destructively splicing the property list. <a 
href="#x69-176014r163">remf</a> returns <a 
href="clmse31.html#x42-77002r19">nil</a> if no
such property was found, or some non-<a 
href="clmse31.html#x42-77002r19">nil</a> value if a property was found.
The form <i>place</i> may be any generalized variable acceptable to <a 
href="clmse36.html#x48-93002r66">setf</a>. See
<a 
href="#x69-176005r160">remprop</a>.
<!--l. 475--><p class="indent" >   Эта функция в списке свойств, хранящимся в <i>place</i>, удаляет свойства,
индикатор которого равен <a 
href="clmse33.html#x44-81002r46">eq</a> аргументу <i>indicator</i>. Индикатор свойства и
соответствующее значение удаляется из списка деструктивной склейкой. <a 
href="#x69-176014r163">remf</a>
возвращает <a 
href="clmse31.html#x42-77002r19">nil</a>, если свойства не было в списке, и некоторое не-<a 
href="clmse31.html#x42-77002r19">nil</a> значение,
если свойство было. Форма <i>place</i> может быть любой обобщенной переменной,
принимаемой <a 
href="clmse36.html#x48-93002r66">setf</a>. Смотрите <a 
href="#x69-176005r160">remprop</a>.
<div class=newer>
<!--l. 485--><p class="indent" >   X3J13 voted in March 1989 <a 
 id="dx69-177001"></a>to clarify the permissible side eﬀects of certain
operations; <a 
href="#x69-176014r163">remf</a> is permitted to perform a <a 
href="clmse36.html#x48-93002r66">setf</a> on the <i>place</i> or on any part, <i>car</i> or
<i>cdr</i>, of the top-level list structure held by that <i>place</i>.
</div>
<div class=newer>
<!--l. 493--><p class="indent" >   X3J13 voted in March 1988 <a 
 id="dx69-177002"></a>to clarify order of evaluation (see section <a 
href="clmse36.html#x48-930007.2">7.2<!--tex4ht:ref: SETF-SECTION --></a>).
</div>
</div>
<div class=defun>
<!--l. 498--><p class="noindent" ><i>[Function]</i><a 
 id="dx69-177003"></a><a 
 id="x69-177004r164"></a><b> get-properties</b>  <i>place</i> <i>indicator-list</i>
<!--l. 500--><p class="noindent" ><a 
href="#x69-177004r164">get-properties</a> is like <a 
href="#x69-176010r162">getf</a>, except that the second argument is a list of
indicators. <a 
href="#x69-177004r164">get-properties</a> searches the property list stored in <i>place</i> for
any of the indicators in <i>indicator-list</i> until it ﬁnds the ﬁrst property in
the property list whose indicator is one of the elements of <i>indicator-list</i>.
Normally <i>place</i> is computed from a generalized variable acceptable to
<a 
href="clmse36.html#x48-93002r66">setf</a>.
<!--l. 509--><p class="indent" >   <a 
href="#x69-177004r164">get-properties</a> похожа на <a 
href="#x69-176010r162">getf</a> за исключением того, что второй
аргумент является списком индикаторов. <a 
href="#x69-177004r164">get-properties</a> ищет первый
встретившийся индикатор, который есть в списке индикаторов. Обычно <i>place</i>
                                                                          

                                                                          
вычисляется из обобщенной переменной, которая может использоваться в
<a 
href="clmse36.html#x48-93002r66">setf</a>.
<!--l. 514--><p class="indent" >   <a 
href="#x69-177004r164">get-properties</a> returns three values. If any property was found, then the ﬁrst
two values are the indicator and value for the ﬁrst property whose indicator was
in <i>indicator-list</i>, and the third is that tail of the property list whose <i>car</i> was the
indicator (and whose <i>cadr</i> is therefore the value). If no property was found, all
three values are <a 
href="clmse31.html#x42-77002r19">nil</a>. Thus the third value serves as a ﬂag indicating success or
failure and also allows the search to be restarted, if desired, after the property was
found.
<!--l. 525--><p class="indent" >   <a 
href="#x69-177004r164">get-properties</a> возвращает три значения. Если было найдено свойство, то
первые два значения являеются индикатором и значением для первого
свойства, чей индикатор присутствовал в списке <i>indicator-list</i>, и третье
значение является остатком списка свойств, <i>car</i> элемент которого был
индикатором (и соответственно <i>cadr</i> элемент — значением). Если ни одного
свойства не было найдено, то все три значения равны <a 
href="clmse31.html#x42-77002r19">nil</a>. Третье значение
является флагом успешности или неудачи, и позволяет продолжить поиск
свойств в оставшемся списке.
</div>
                                                                          

                                                                          
   <!--l. 536--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse55.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch10.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch10.html#tailclmch10.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse54.html" >Front</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch10.html#clmse54.html" >Up</a><tt>&#x003E;</tt></p></div>
<!--l. 536--><p class="indent" >   <a 
 id="tailclmse54.html"></a>  
</body></html> 

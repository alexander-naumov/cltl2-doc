<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Searching Sequences for Items</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,next,charset=utf-8,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-03-09 00:03:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
</head><body 
>
   <!--l. 1013--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse85.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse83.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse83.html#tailclmse83.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse84.html">Tail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch14.html#clmse84.html" >Up</a><tt>&#x003E;</tt></p></div>
   <h3 class="sectionHead"><span class="titlemark">14.4   </span> <a 
 id="x103-22100014.4"></a>Searching Sequences for Items</h3>
<!--l. 1015--><p class="noindent" >Each of these functions searches a sequence to locate one or more elements
satisfying some test.
<div class=defun>
<!--l. 1018--><p class="noindent" ><i>[Function]</i><a 
 id="dx103-221001"></a><a 
 id="x103-221002r430"></a><b> ﬁnd</b>  <i>item</i> <i>sequence</i> &#x0026;key  <i>:from-end</i> <i>:test</i> <i>:test-not</i> <i>:start :end</i>
<i>:key</i><br 
class="newline" /><i>[Function]</i><a 
 id="dx103-221003"></a><a 
 id="x103-221004r431"></a><b> ﬁnd-if</b>  <i>predicate</i> <i>sequence</i> &#x0026;key  <i>:from-end</i> <i>:start</i> <i>:end</i> <i>:key</i><br 
class="newline" /><i>[Function]</i><a 
 id="dx103-221005"></a><a 
 id="x103-221006r432"></a><b> ﬁnd-if-not</b>  <i>predicate</i> <i>sequence</i> &#x0026;key  <i>:from-end</i> <i>:start :end :key</i>
<!--l. 1022--><p class="noindent" >If the sequence contains an element satisfying the test, then the leftmost such
element is returned; otherwise <a 
href="clmse31.html#x42-77002r19">nil</a> is returned.
<!--l. 1027--><p class="indent" >   If :start and :end keyword arguments are given, only the speciﬁed subsequence
of sequence is searched.
<!--l. 1030--><p class="indent" >   If a non-<a 
href="clmse31.html#x42-77002r19">nil</a> :from-end keyword argument is speciﬁed, then the result is the
rightmost element satisfying the test.
<div class=new>
<!--l. 1034--><p class="indent" >   X3J13 voted in January 1989 <a 
 id="dx103-221007"></a>to restrict user side eﬀects; see section <a 
href="clmse43.html#x55-1420007.9">7.9<!--tex4ht:ref: STRUCTURE-TRAVERSAL-SECTION --></a>.
</div>
</div>
<div class=defun>
<!--l. 1040--><p class="noindent" ><i>[Function]</i><a 
 id="dx103-221008"></a><a 
 id="x103-221009r433"></a><b> position</b>  <i>item</i> <i>sequence</i> &#x0026;key  <i>:from-end</i> <i>:test</i> <i>:test-not</i>
<i>:start :end :key</i><br 
class="newline" /><i>[Function]</i><a 
 id="dx103-221010"></a><a 
 id="x103-221011r434"></a><b> position-if</b>  <i>predicate</i> <i>sequence</i> &#x0026;key  <i>:from-end</i> <i>:start :end :key</i><br 
class="newline" /><i>[Function]</i><a 
 id="dx103-221012"></a><a 
 id="x103-221013r435"></a><b> position-if-not</b>  <i>predicate</i> <i>sequence</i> &#x0026;key  <i>:from-end</i> <i>:start :end :key</i>
<!--l. 1044--><p class="noindent" >If the sequence contains an element satisfying the test, then the index within the
sequence of the leftmost such element is returned as a non-negative integer;
otherwise <a 
href="clmse31.html#x42-77002r19">nil</a> is returned.
<!--l. 1049--><p class="indent" >   If :start and :end keyword arguments are given, only the speciﬁed subsequence
of sequence is searched. However, the index returned is relative to the entire
sequence, not to the subsequence.
<!--l. 1054--><p class="indent" >   If a non-<a 
href="clmse31.html#x42-77002r19">nil</a> :from-end keyword argument is speciﬁed, then the result is the
index of the rightmost element satisfying the test. (The index returned, however,
                                                                          

                                                                          
is an index from the left-hand end, as usual.)
<div class=new>
<!--l. 1059--><p class="indent" >   X3J13 voted in January 1989 <a 
 id="dx103-221014"></a>to restrict user side eﬀects; see section <a 
href="clmse43.html#x55-1420007.9">7.9<!--tex4ht:ref: STRUCTURE-TRAVERSAL-SECTION --></a>.
</div>
</div>
<div class=newer>
<!--l. 1066--><p class="indent" >   Here is a simple piece of code that uses several of the sequence functions,
notably <a 
href="#x103-221011r434">position-if</a> and <a 
href="#x103-221004r431">ﬁnd-if</a>, to process strings. Note one use of <a 
href="clmse42.html#x54-129002r106">loop</a> as well. <div class=lisp>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(defun debug-palindrome (s)
</td></tr></table>
<!--l. 1070--><p class="indent" >                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (ﬂet ((match (x) (char-equal (ﬁrst x) (third x))))</td></tr></table>
<!--l. 1071--><p class="indent" >                                       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">    (let* ((pairs (loop for c across s</td></tr></table>
<!--l. 1072--><p class="indent" >                                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">                        for j from 0</td></tr></table>
<!--l. 1073--><p class="indent" >                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">                        when (alpha-char-p c)</td></tr></table>
<!--l. 1074--><p class="indent" >                           <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">                          collect (list c j)))</td></tr></table>
<!--l. 1075--><p class="indent" >              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">           (quads (mapcar #&#x2019;append pairs (reverse pairs)))</td></tr></table>
<!--l. 1076--><p class="indent" >          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">           (diﬀpos (position-if (complement #&#x2019;match) quads)))</td></tr></table>
<!--l. 1077--><p class="indent" >                                                      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">      (when diﬀpos</td></tr></table>
<!--l. 1078--><p class="indent" >                                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">        (let* ((diﬀ (elt quads diﬀpos))</td></tr></table>
<!--l. 1079--><p class="indent" >                            <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">               (same (ﬁnd-if #&#x2019;match quads</td></tr></table>
<!--l. 1080--><p class="indent" >                  <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">                              :start (+ diﬀpos 1))))</td></tr></table>
<!--l. 1081--><p class="indent" >                                                       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">          (if same</td></tr></table>
<!--l. 1082--><p class="indent" >                                               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">              (format nil</td></tr></table>
<!--l. 1083--><p class="indent" >      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">                      &#x0022;/~A/ (at ~D) is not the reverse of /~A/&#x0022;</td></tr></table>
<!--l. 1084--><p class="indent" >           <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">                      (subseq s (second diﬀ) (second same))</td></tr></table>
<!--l. 1085--><p class="indent" >                                    <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">                      (second diﬀ)</td></tr></table>
<!--l. 1086--><p class="indent" >                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">                      (subseq s (+ (fourth same) 1)</td></tr></table>
<!--l. 1087--><p class="indent" >                 <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">                                (+ (fourth diﬀ) 1)))</td></tr></table>
<!--l. 1088--><p class="indent" >         <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">              &#x0022;This palindrome is completely messed up!&#x0022;))))))</td></tr></table>
<!--l. 1090--><p class="indent" >
</div>
</div>
<!--l. 1091--><p class="noindent" >Here is an example of its behavior. <div class=lisp> <div class=tabbing>
                                                                          

                                                                          
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(setq panama     ;A putative palindrome?
</td></tr></table>
<!--l. 1093--><p class="indent" >                      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">      &#x0022;A man, a plan, a canoe, pasta, heros, rajahs,</td></tr></table>
<!--l. 1094--><p class="indent" >               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">       a coloratura, maps, waste, percale, macaroni, a gag,</td></tr></table>
<!--l. 1095--><p class="indent" >                    <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">       a banana bag, a tan, a tag, a banana bag again</td></tr></table>
<!--l. 1096--><p class="indent" >                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">       (or a camel), a crepe, pins, Spam, a rut, a Rolo,</td></tr></table>
<!--l. 1097--><p class="indent" >                  <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">       cash, a jar, sore hats, a peon, a canal–Panama!&#x0022;)</td></tr></table>
<!--l. 1099--><p class="indent" >
</div>
</div>
<div class=lisp>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(debug-palindrome panama)
</td></tr></table>
<!--l. 1101--><p class="indent" >                       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">   ⇒ &#x0022;/wast/ (at 73) is not the reverse of /, pins/&#x0022;</td></tr></table>
<!--l. 1102--><p class="indent" >                                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"></td></tr></table>
<!--l. 1103--><p class="indent" >                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(replace panama &#x0022;snipe&#x0022; :start1 73)     ;Repair it</td></tr></table>
<!--l. 1104--><p class="indent" >                       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">   ⇒ &#x0022;A man, a plan, a canoe, pasta, heros, rajahs,</td></tr></table>
<!--l. 1105--><p class="indent" >                <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">       a coloratura, maps, snipe, percale, macaroni, a gag,</td></tr></table>
<!--l. 1106--><p class="indent" >                    <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">       a banana bag, a tan, a tag, a banana bag again</td></tr></table>
<!--l. 1107--><p class="indent" >                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">       (or a camel), a crepe, pins, Spam, a rut, a Rolo,</td></tr></table>
<!--l. 1108--><p class="indent" >                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">       cash, a jar, sore hats, a peon, a canal–Panama!&#x0022;</td></tr></table>
<!--l. 1109--><p class="indent" >                                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"></td></tr></table>
<!--l. 1110--><p class="indent" >    <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(debug-palindrome panama)  ⇒ nil     ;Copacetic—a true palindrome</td></tr></table>
<!--l. 1111--><p class="indent" >                                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"></td></tr></table>
<!--l. 1112--><p class="indent" >                       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(debug-palindrome &#x0022;Rubber baby buggy bumpers&#x0022;)</td></tr></table>
<!--l. 1113--><p class="indent" >                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">   ⇒ &#x0022;/Rubber / (at 0) is not the reverse of /umpers/&#x0022;</td></tr></table>
<!--l. 1114--><p class="indent" >                                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"></td></tr></table>
<!--l. 1115--><p class="indent" >                       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(debug-palindrome &#x0022;Common Lisp: The Language&#x0022;)</td></tr></table>
<!--l. 1116--><p class="indent" >                     <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">   ⇒ &#x0022;/Commo/ (at 0) is not the reverse of /guage/&#x0022;</td></tr></table>
<!--l. 1117--><p class="indent" >                                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"></td></tr></table>
<!--l. 1118--><p class="indent" >               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(debug-palindrome &#x0022;Complete mismatches are hard to ﬁnd&#x0022;)</td></tr></table>
<!--l. 1119--><p class="indent" >                                                                    <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">   ⇒ </td></tr></table>
<!--l. 1120--><p class="indent" >        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  &#x0022;/Complete mism/ (at 0) is not the reverse of /re hard to ﬁnd/&#x0022;</td></tr></table>
                                                                          

                                                                          
<!--l. 1121--><p class="indent" >                                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"></td></tr></table>
<!--l. 1122--><p class="indent" >               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(debug-palindrome &#x0022;Waltz, nymph, for quick jigs vex Bud&#x0022;)</td></tr></table>
<!--l. 1123--><p class="indent" >                         <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">   ⇒ &#x0022;This palindrome is completely messed up!&#x0022;</td></tr></table>
<!--l. 1124--><p class="indent" >                                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"></td></tr></table>
<!--l. 1125--><p class="indent" >                    <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(debug-palindrome &#x0022;Doc, note: I dissent.  A fast never</td></tr></table>
<!--l. 1126--><p class="indent" >                <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">                   prevents a fatness.  I diet on cod.&#x0022;)</td></tr></table>
<!--l. 1127--><p class="indent" >                                             <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">   ⇒<a 
href="clmse31.html#x42-77002r19">nil</a>     ;Another winner</td></tr></table>
<!--l. 1128--><p class="indent" >                                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"></td></tr></table>
<!--l. 1129--><p class="indent" >                    <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(debug-palindrome &#x0022;Top step&#x2019;s pup&#x2019;s pet spot&#x0022;)  ⇒ nil</td></tr></table>
<!--l. 1131--><p class="indent" >
</div>
</div>
</div>
<div class=defun>
<!--l. 1134--><p class="noindent" ><i>[Function]</i><a 
 id="dx103-221015"></a><a 
 id="x103-221016r436"></a><b> count</b>  <i>item</i> <i>sequence</i> &#x0026;key  <i>:from-end</i> <i>:test</i> <i>:test-not</i> <i>:start :end :key</i><br 
class="newline" /><i>[Function]</i><a 
 id="dx103-221017"></a><a 
 id="x103-221018r437"></a><b> count-if</b>  <i>predicate</i> <i>sequence</i> &#x0026;key  <i>:from-end</i> <i>:start :end :key</i><br 
class="newline" /><i>[Function]</i><a 
 id="dx103-221019"></a><a 
 id="x103-221020r438"></a><b> count-if-not</b>  <i>predicate</i> <i>sequence</i> &#x0026;key  <i>:from-end</i> <i>:start :end :key</i>
<!--l. 1138--><p class="noindent" >The result is always a non-negative integer, the number of elements in the
speciﬁed subsequence of sequence satisfying the test.
<!--l. 1143--><p class="indent" >   The :from-end argument does not aﬀect the result returned; it is accepted
purely for compatibility with other sequence functions.
<div class=new>
<!--l. 1147--><p class="indent" >   X3J13 voted in January 1989 <a 
 id="dx103-221021"></a>to restrict user side eﬀects; see section <a 
href="clmse43.html#x55-1420007.9">7.9<!--tex4ht:ref: STRUCTURE-TRAVERSAL-SECTION --></a>.
</div>
</div>
<div class=defun>
<!--l. 1153--><p class="noindent" ><i>[Function]</i><a 
 id="dx103-221022"></a><a 
 id="x103-221023r439"></a><b> mismatch</b>  <i>sequence1</i> <i>sequence2</i> &#x0026;key  <i>:from-end</i> <i>:test</i> <i>:test-not</i> <i>:key</i>
<i>:start1</i> <i>:start2</i> <i>:end1</i> <i>:end2</i>
<!--l. 1155--><p class="noindent" >The speciﬁed subsequences of sequence1 and sequence2 are compared
element-wise. If they are of equal length and match in every element, the result is
<a 
href="clmse31.html#x42-77002r19">nil</a>. Otherwise, the result is a non-negative integer. This result is the index within
sequence1 of the leftmost position at which the two subsequences fail to
match; or, if one subsequence is shorter than and a matching preﬁx of the
other, the result is the index relative to sequence1 beyond the last position
tested.
<!--l. 1167--><p class="indent" >   If a non-<a 
href="clmse31.html#x42-77002r19">nil</a> :from-end keyword argument is given, then one plus the index of
the rightmost position in which the sequences diﬀer is returned. In eﬀect, the
                                                                          

                                                                          
(sub)sequences are aligned at their right-hand ends; then, the last elements are
compared, the penultimate elements, and so on. The index returned is again an
index relative to sequence1.
<div class=new>
<!--l. 1175--><p class="indent" >   X3J13 voted in January 1989 <a 
 id="dx103-221024"></a>to restrict user side eﬀects; see section <a 
href="clmse43.html#x55-1420007.9">7.9<!--tex4ht:ref: STRUCTURE-TRAVERSAL-SECTION --></a>.
</div>
</div>
<div class=defun>
<!--l. 1181--><p class="noindent" ><i>[Function]</i><a 
 id="dx103-221025"></a><a 
 id="x103-221026r440"></a><b> search</b>  <i>sequence1</i> <i>sequence2</i> &#x0026;key  <i>:from-end</i> <i>:test</i> <i>:test-not</i> <i>:key</i>
<i>:start1</i> <i>:start2</i> <i>:end1</i> <i>:end2</i>
<!--l. 1183--><p class="noindent" >A search is conducted for a subsequence of sequence2 that element-wise matches
sequence1. If there is no such subsequence, the result is <a 
href="clmse31.html#x42-77002r19">nil</a>; if there is, the result is
the index into sequence2 of the leftmost element of the leftmost such matching
subsequence.
<!--l. 1190--><p class="indent" >   If a non-<a 
href="clmse31.html#x42-77002r19">nil</a> :from-end keyword argument is given, the index of the leftmost
element of the rightmost matching subsequence is returned.
<!--l. 1194--><p class="indent" >   The implementation may choose to search the sequence in any order; there is
no guarantee on the number of times the test is made. For example, <a 
href="#x103-221026r440">search</a> with a
non-<a 
href="clmse31.html#x42-77002r19">nil</a> :from-end argument might actually search a list from left to right instead
of from right to left (but in either case would return the rightmost matching
subsequence, of course). Therefore it is a good idea for a user-supplied predicate
to be free of side eﬀects.
<div class=new>
<!--l. 1203--><p class="indent" >   X3J13 voted in January 1989 <a 
 id="dx103-221027"></a>to restrict user side eﬀects; see section <a 
href="clmse43.html#x55-1420007.9">7.9<!--tex4ht:ref: STRUCTURE-TRAVERSAL-SECTION --></a>.
</div>
</div>
                                                                          

                                                                          
   <!--l. 1209--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse85.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse83.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse83.html#tailclmse83.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse84.html" >Front</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch14.html#clmse84.html" >Up</a><tt>&#x003E;</tt></p></div>
<!--l. 1209--><p class="indent" >   <a 
 id="tailclmse84.html"></a>  
</body></html> 

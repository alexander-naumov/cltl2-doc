<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Variable Initializations</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,index=2,next,fn-in,charset=utf-8,sections+,minitoc<,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-04-12 16:57:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
<link rel="stylesheet" type="text/css" href="cltl2ed.css"></head><body 
>
<!--l. 1520--><p class="noindent" > <div id="main_container"> <div id="content"> <div id="toplinks"><tt>&#x003C;</tt><a 
href="clmse130.html" >Далее</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse128.html" >Назад</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse128.html#tailclmse128.html" >Назад-и-вниз</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse129.html">В-конец</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch25.html#clmse129.html" >Наверх</a><tt>&#x003E;</tt></div><h3 class="sectionHead"><span class="titlemark">25.9   </span> <a 
href="clm.html#QQ2-159-346" id="x159-32500025.9">Variable
Initializations</a></h3>
<!--l. 1523--><p class="noindent" >A local loop variable is one that exists only when the Loop Facility is
invoked. At that time, the variables are declared and are initialized to
some value. These local variables exist until loop iteration terminates, at
which point they cease to exist. Implicitly variables are also established
by iteration control clauses and the <tt>into</tt> preposition of accumulation
clauses.
<!--l. 1531--><p class="indent" >   The loop keyword <tt><a 
href="#x159-325002r793">with</a></tt> designates a loop clause that allows you to
declare and initialize variables that are local to a loop. The variables
are initialized one time only; they can be initialized sequentially or in
parallel.
<!--l. 1536--><p class="indent" >   By default, the <tt><a 
href="#x159-325002r793">with</a></tt> construct initializes variables sequentially; that is,
one variable is assigned a value before the next expression is evaluated.
However, by using the loop keyword <tt><a 
href="clmse33.html#x44-78004r49">and</a></tt> to join several <tt><a 
href="#x159-325002r793">with</a></tt> clauses, you
can force initializations to occur in parallel; that is, all of the speciﬁed
expressions are evaluated, and the results are bound to the respective variables
simultaneously.
<!--l. 1544--><p class="indent" >   Use sequential binding for making the initialization of some variables depend
on the values of previously bound variables. For example, suppose you want to
bind the variables <tt>a</tt>, <tt>b</tt>, and <tt>c</tt> in sequence: <div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(loop with a = 1
</td></tr></table>
<!--l. 1549--><p class="indent" >                                                  <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">      with b = (+ a 2)</td></tr></table>
<!--l. 1550--><p class="indent" >                                                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">      with c = (+ b 3)</td></tr></table>
<!--l. 1551--><p class="indent" >                                                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">      with d = (+ c 4)</td></tr></table>
<!--l. 1552--><p class="indent" >                                               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">      return (list a b c d))</td></tr></table>
<!--l. 1553--><p class="indent" >                                                         <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">   <span class="math"> ⇒</span> (1 3 6 10)</td></tr></table>
<!--l. 1555--><p class="indent" >
</div>
</div>
                                                                          

                                                                          
<!--l. 1557--><p class="indent" >   The execution of the preceding loop is equivalent to the execution of the
following code: <div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(let* ((a 1)
</td></tr></table>
<!--l. 1560--><p class="indent" >                                                       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">       (b (+ a 2))</td></tr></table>
<!--l. 1561--><p class="indent" >                                                       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">       (c (+ b 3))</td></tr></table>
<!--l. 1562--><p class="indent" >                                                      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">       (d (+ c 4)))</td></tr></table>
<!--l. 1563--><p class="indent" >                                                               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (block nil</td></tr></table>
<!--l. 1564--><p class="indent" >                                                             <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">    (tagbody</td></tr></table>
<!--l. 1565--><p class="indent" >                                    <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">      next-loop (return (list a b c d))</td></tr></table>
<!--l. 1566--><p class="indent" >                                         <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">                (go next-loop)</td></tr></table>
<!--l. 1567--><p class="indent" >                                                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">      end-loop)))</td></tr></table>
<!--l. 1569--><p class="indent" >
</div>
</div>
<!--l. 1572--><p class="indent" >   If you are not depending on the value of previously bound variables for the
initialization of other local variables, you can use parallel bindings as follows:
<div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(loop with a = 1
</td></tr></table>
<!--l. 1576--><p class="indent" >                                                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">       and b = 2</td></tr></table>
<!--l. 1577--><p class="indent" >                                                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">       and c = 3</td></tr></table>
<!--l. 1578--><p class="indent" >                                                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">       and d = 4</td></tr></table>
<!--l. 1579--><p class="indent" >                                               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">      return (list a b c d))</td></tr></table>
<!--l. 1580--><p class="indent" >                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">   <span class="math"> ⇒</span> (1 2 3 4)</td></tr></table>
<!--l. 1582--><p class="indent" >
</div>
</div>
<!--l. 1584--><p class="indent" >   The execution of the preceding loop is equivalent to the execution of the
following code:
<div class=lisp>
<div class=tabbing>
                                                                          

                                                                          
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(let ((a 1)
</td></tr></table>
<!--l. 1588--><p class="indent" >                                                              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">      (b 2)</td></tr></table>
<!--l. 1589--><p class="indent" >                                                               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">      (c 3)</td></tr></table>
<!--l. 1590--><p class="indent" >                                                             <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">      (d 4))</td></tr></table>
<!--l. 1591--><p class="indent" >                                                               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (block nil</td></tr></table>
<!--l. 1592--><p class="indent" >                                                             <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">    (tagbody</td></tr></table>
<!--l. 1593--><p class="indent" >                                      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">      next-loop (return (list a b c))</td></tr></table>
<!--l. 1594--><p class="indent" >                                         <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">                (go next-loop)</td></tr></table>
<!--l. 1595--><p class="indent" >                                                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">      end-loop)))</td></tr></table>
<!--l. 1597--><p class="indent" >
</div>
</div>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"> <i>[Выражение цикла]</i><b> with </b><a 
 id="dx159-325001"></a><a 
 id="x159-325002r793"></a> var [type-spec] [<span class="math">=!expr] { and!var[type − spec][=!expr]}∗</span>
</td></tr></table>
<!--l. 1601--><p class="indent" >
</div>
<!--l. 1601--><p class="noindent" ><span class="paragraphHead"><a 
href="#x159-32600025.9" id="x159-32600025.9"></a></span>
   The <tt><a 
href="#x159-325002r793">with</a></tt> construct initializes variables that are local to a loop. The variables
are initialized one time only.
<!--l. 1605--><p class="indent" >   If the optional <i>type-spec</i> argument is speciﬁed for any variable <i>var</i>, but there is
no related expression <i>expr</i> to be evaluated, <i>var</i> is initialized to an appropriate
default value for its data type. For example, for the data types <tt><a 
href="clmse30.html#x41-73004r19">t</a></tt>, <tt>number</tt>, and
<tt><a 
href="clmse65.html#x82-183002r214">float</a></tt>, the default values are <tt><a 
href="clmse30.html#x41-73002r18">nil</a></tt>, <tt>0</tt>, and <tt>0.0</tt>, respectively. It is an error to specify
a <i>type-spec</i> argument for <i>var</i> if the related expression returns a value that is not of
the speciﬁed type. The optional <tt><a 
href="clmse33.html#x44-78004r49">and</a></tt> clause forces parallel rather than sequential
initializations.
<!--l. 1616--><p class="indent" >   Examples: <div class=lisp><div class=tabbing>
                                                                          

                                                                          
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">;;; These bindings occur in sequence.
</td></tr></table>
<!--l. 1618--><p class="indent" >                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(loop with a = 1</td></tr></table>
<!--l. 1619--><p class="indent" >                                                  <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">      with b = (+ a 2)</td></tr></table>
<!--l. 1620--><p class="indent" >                                                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">      with c = (+ b 3)</td></tr></table>
<!--l. 1621--><p class="indent" >                                                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">      with d = (+ c 4)</td></tr></table>
<!--l. 1622--><p class="indent" >                                               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">      return (list a b c d))</td></tr></table>
<!--l. 1623--><p class="indent" >                                                         <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">   <span class="math"> ⇒</span> (1 3 6 10)</td></tr></table>
<!--l. 1624--><p class="indent" >                                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"></td></tr></table>
<!--l. 1625--><p class="indent" >                                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">;;; These bindings occur in parallel.</td></tr></table>
<!--l. 1626--><p class="indent" >                                                     <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(setq a 5 b 10 c 1729)</td></tr></table>
<!--l. 1627--><p class="indent" >                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(loop with a = 1</td></tr></table>
<!--l. 1628--><p class="indent" >                                                  <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">       and b = (+ a 2)</td></tr></table>
<!--l. 1629--><p class="indent" >                                                  <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">       and c = (+ b 3)</td></tr></table>
<!--l. 1630--><p class="indent" >                                                  <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">       and d = (+ c 4)</td></tr></table>
<!--l. 1631--><p class="indent" >                                               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">      return (list a b c d))</td></tr></table>
<!--l. 1632--><p class="indent" >                                                      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">   <span class="math"> ⇒</span> (1 7 13 1733)</td></tr></table>
<!--l. 1633--><p class="indent" >                                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"></td></tr></table>
<!--l. 1634--><p class="indent" >                         <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">;;; This example shows a shorthand way to declare</td></tr></table>
<!--l. 1635--><p class="indent" >                               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">;;; local variables that are of diﬀerent types.</td></tr></table>
<!--l. 1636--><p class="indent" >                                     <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(loop with (a b c) (ﬂoat integer ﬂoat)</td></tr></table>
<!--l. 1637--><p class="indent" >                             <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">      return (format nil &#x0022;~A ~A ~A&#x0022; a b c))</td></tr></table>
<!--l. 1638--><p class="indent" >                                                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">   <span class="math"> ⇒</span> &#x0022;0.0 0 0.0&#x0022;</td></tr></table>
<!--l. 1639--><p class="indent" >                                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"></td></tr></table>
<!--l. 1640--><p class="indent" >                         <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">;;; This example shows a shorthand way to declare</td></tr></table>
<!--l. 1641--><p class="indent" >                                <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">;;; local variables that are of the same type.</td></tr></table>
<!--l. 1642--><p class="indent" >                                                    <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(loop with (a b c) ﬂoat</td></tr></table>
<!--l. 1643--><p class="indent" >                             <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">      return (format nil &#x0022;~A ~A ~A&#x0022; a b c))</td></tr></table>
<!--l. 1644--><p class="indent" >                                                      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">   <span class="math"> ⇒</span> &#x0022;0.0 0.0 0.0&#x0022;</td></tr></table>
<!--l. 1646--><p class="indent" >
</div>
</div>
                                                                          

                                                                          
<!--l. 1650--><p class="indent" >   <div id="bottomlinks"><tt>&#x003C;</tt><a 
href="clmse130.html" >Далее</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse128.html" >Назад</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse128.html#tailclmse128.html" >Назад-и-вниз</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse129.html" >В-начало</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch25.html#clmse129.html" >Наверх</a><tt>&#x003E;</tt></div><a 
 id="tailclmse129.html"></a>  </div> </div> 
</body></html> 

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Иррациональные и трансцендентные функции</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,index=2,next,fn-in,charset=utf-8,sections+,minitoc<,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-04-16 00:55:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
<link rel="stylesheet" type="text/css" href="cltl2ed.css"></head><body 
>
<!--l. 4202--><p class="noindent" > <div id="main_container"> <div id="content"> <div id="toplinks"><tt>&#x003C;</tt><a 
href="clmse68.html" >Далее</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse66.html" >Назад</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse66.html#tailclmse66.html" >Назад-и-вниз</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse67.html">В-конец</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch12.html#clmse67.html" >Наверх</a><tt>&#x003E;</tt></div><h3 class="sectionHead"><span class="titlemark">12.5   </span> <a 
href="clm.html#QQ2-84-1004" id="x84-99600012.5">Иррациональные и
трансцендентные функции</a></h3>
<!--l. 4205--><p class="noindent" >Common Lisp не содержит тип данных, который точно отображает
иррациональные числовые значения. В данном разделе функции описаны
так, как если бы результаты были математически точными, но фактически
все они возвращают число с плавающей точкой приблизительно равное
настоящему математическому значению. В некоторых местах изложены
математические тождества, связанные со значениями функций, однако, два
математически идентичных выражения могут быть различными по причине
ошибок процесса аппроксимации при вычислениях чисел с плавающей
точкой.
<!--l. 4215--><p class="indent" >   Когда все аргументы для функции данного раздела являются
рациональными и Ъ математический результат также является
(математически) рациональным, тогда, если не указано иное, реализация может
вернуть или точный результат типа <tt><a 
href="clmse68.html#x85-1040002r232">rational</a></tt> или приближенное значение с
плавающей точкой одинарной точности. Если все аргументы рациональны, но
результат не может быть рациональным, тогда возвращается число с
плавающей точкой одинарной точности.
<!--l. 4222--><p class="indent" >   Если все переданные в функцию аргументы принадлежат типу
<tt>(or rational (complex rational))</tt> и Ъ математический результат является
(математически) комплексным числом с рациональными действительной и
мнимой частями, тогда, если не указано иное, реализация может вернуть
или точный результат типа <tt>(or rational (complex rational))</tt> или
приближенный типа с плавающей точкой с одинарной точностью
<tt>single-float</tt> (только если мнимая часть равна нулю) или <tt>(complex
single-float)</tt>. Если все аргументы типа <tt>(or rational (complex
rational))</tt>, но результат не может быть выражен рациональными или
комплексным рациональным числом, тогда он будет принадлежать типу
<tt>single-float</tt> (только если мнимая часть равна нулю) или <tt>(complex
single-float)</tt>.
<!--l. 4234--><p class="indent" >   Все функции за исключением <tt><a 
href="#x84-998002r210">expt</a></tt> подчиняются правилам неявного
приведения плавающей точки или комплексного числа. Когда, возможно
после приведения типов, все аргументы становятся с плавающей точкой или
                                                                          

                                                                          
комплексным числом с плавающей точкой, тогда результат будет такого же
типа, что и аргумента, если не указано иное.
<div class="implementation">
<!--l. 4241--><p class="noindent" ><b>Заметка для реализации:</b> Для понимания работы функций из данного раздела
может быть полезной «поваренная книга чисел с плавающей точкой» от Cody и
Waite <span class="cite">[<a 
href="clmli5.html#XCODY-AND-WAITE">14</a>]</span>.
</div>
<!--l. 4247--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">12.5.1   </span> <a 
href="clmli1.html#QQ2-84-1005" id="x84-99700012.5.1">Экспоненциальные и логарифмические функции</a></h4>
<!--l. 4249--><p class="noindent" >Наряду с обычными одно-аргументными и двух-аргументными
экспоненциальными и логарифмическими функциями, <tt><a 
href="#x84-1006002r212">sqrt</a></tt> рассматривается
как экспоненциальная функция, потому что она возводит число в степень
1/2.
<div class="defun">
<!--l. 4253--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx84-997001"></a><a 
 id="x84-997002r209"></a><b> exp</b>  <i>number</i>
</div>
<!--l. 4255--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-99800012.5.1" id="x84-99800012.5.1"></a></span>
   Возвращает <i>е</i>, возведённое в степень <i>number</i>, где <i>е</i> является основанием
натурального логарифма.
</div>
<div class="defun">
<!--l. 4260--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx84-998001"></a><a 
 id="x84-998002r210"></a><b> expt</b>  <i>base-number</i> <i>power-number</i>
</div>
<!--l. 4262--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-99900012.5.1" id="x84-99900012.5.1"></a></span>
   Возвращает <i>base-number</i>, возведённый в степень <i>power-number</i>. Если
<i>base-number</i> принадлежит типу <tt><a 
href="clmse68.html#x85-1040002r232">rational</a></tt> и <i>power-number</i> — <tt>integer</tt>,
тогда результат вычислений будет принадлежать типу <tt><a 
href="clmse68.html#x85-1040002r232">rational</a></tt>, в
противном случае результат будет приближенным числом с плавающей
точкой.
<!--l. 4269--><p class="indent" >   Если <i>power-number</i> равен <tt>0</tt> (ноль целочисленного типа), тогда результат
всегда будет значение 1, такого же типа что и <i>base-number</i>, даже если
<i>base-number</i> равен нулю (любого типа). То есть: <div class="lisp"><div class="tabbing">
                                                                          

                                                                          
(expt <i>x</i> 0) <span class="math"> ≡</span> (coerce 1 (type-of <i>x</i>))
   <br>
<!--l. 4274--><p class="noindent" ></div>
<!--l. 4274--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-100000012.5.1" id="x84-100000012.5.1"></a></span>
<!--l. 4274--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-100100012.5.1" id="x84-100100012.5.1"></a></span>
</div>
<!--l. 4275--><p class="indent" >   Если <i>power-number</i> является нулём любого другого типа данных, тогда
результат также равен 1 такого же типа, что и аргументы после применения
правил приведения числовых типов, с одним условием: если <i>base-number</i>
равен нулю, когда <i>power-number</i> является нецелочисленным нулём, то это
является ошибкой.
<!--l. 4281--><p class="indent" >   Реализация <tt><a 
href="#x84-998002r210">expt</a></tt> может использовать различные алгоритмы для случаев с
рациональным и с плавающей точкой аргументом <i>power-number</i>. Суть в том,
что в большинстве случаев боле аккуратный результат может быть
достигнут для рационального <i>power-number</i>. Например, <tt>(expt pi 16)</tt> и
<tt>(expt pi 16.0)</tt> могут вернуть слегка разные результаты, если в первом
случае алгоритм «повторных квадратов», а во втором использование
логарифмов.
<!--l. 4289--><p class="indent" >   Результатом <tt><a 
href="#x84-998002r210">expt</a></tt> может быть комплексное число, даже если ни один
аргумент не был комплексным. Такой результат получается если <i>base-number</i>
отрицательное число и <i>power-number</i> не является целочисленным.
Следует отметить, что <tt>(expt -8 1/3)</tt> не может вернуть <tt>-2</tt>, хотя
и <tt>-2</tt> несомненно является одним из кубических корней для <tt>-8</tt>, но
основным корнем является аппроксимированное комплексное число <tt>#C(1.0
1.73205)</tt>.
</div>
<div class="defun">
<!--l. 4297--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx84-1001001"></a><a 
 id="x84-1001002r211"></a><b> log</b>  <i>number</i> &#x0026;optional  <i>base</i>
</div>
<!--l. 4299--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-100200012.5.1" id="x84-100200012.5.1"></a></span>
                                                                          

                                                                          
   Функция возвращает логарифм числа <i>number</i> c основанием <i>base</i>, которое
по умолчанию равно <i>e</i> (эпсилон, основание для натурального логарифма).
Например: <div class="lisp"><div class="tabbing">
(log 8.0 2) <span class="math"> ⇒</span> 3.0
   <br>                                                                   (log 100.0 10) <span class="math"> ⇒</span> 2.0<br>
<!--l. 4307--><p class="noindent" ></div>
<!--l. 4307--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-100300012.5.1" id="x84-100300012.5.1"></a></span>
<!--l. 4307--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-100400012.5.1" id="x84-100400012.5.1"></a></span>
</div>
<!--l. 4308--><p class="indent" >   В зависимости от реализации, результатом <tt>(log 8 2)</tt> может быть как <tt>3</tt>,
так и <tt>3.0</tt>. Например: <div class="lisp"><div class="tabbing">
(log -1.0) <span class="math"> ≡</span> (complex 0.0 (ﬂoat pi 0.0))
   <br>
<!--l. 4313--><p class="noindent" ></div>
<!--l. 4313--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-100500012.5.1" id="x84-100500012.5.1"></a></span>
<!--l. 4313--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-100600012.5.1" id="x84-100600012.5.1"></a></span>
</div>
</div>
<div class="defun">
<!--l. 4316--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx84-1006001"></a><a 
 id="x84-1006002r212"></a><b> sqrt</b>  <i>number</i>
</div>
                                                                          

                                                                          
<!--l. 4318--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-100700012.5.1" id="x84-100700012.5.1"></a></span>
   Функция возвращает квадратный корень числа <i>number</i>. Если <i>number</i> не
является комплексным числом и отрицательно, тогда результат будет
комплексным числом. Например: <div class="lisp"><div class="tabbing">
(sqrt 9.0) <span class="math"> ⇒</span> 3.0
   <br>                                                            (sqrt -9.0) <span class="math"> ⇒</span> #c(0.0 3.0)<br>
<!--l. 4326--><p class="noindent" ></div>
<!--l. 4326--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-100800012.5.1" id="x84-100800012.5.1"></a></span>
<!--l. 4326--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-100900012.5.1" id="x84-100900012.5.1"></a></span>
</div>
<!--l. 4327--><p class="indent" >   В зависимости от реализации результат <tt>(sqrt 9)</tt> может быть как <tt>3</tt>,
так и <tt>3.0</tt>. Результат <tt>(sqrt -9)</tt> может быть как <tt>#(0 3)</tt> или <tt>#c(0.0
3.0)</tt>.
</div>
<div class="defun">
<!--l. 4332--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx84-1009001"></a><a 
 id="x84-1009002r213"></a><b> isqrt</b>  <i>integer</i>
</div>
<!--l. 4334--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-101000012.5.1" id="x84-101000012.5.1"></a></span>
   Целочисленный квадратный корень: аргумент должен быть
неотрицательным целым, и результат является наибольшим целым числом,
которое меньше или равно точному положительному квадратному корню
аргумента. <div class="lisp"><div class="tabbing">
(isqrt 9) <span class="math"> ⇒</span> 3
   <br>                          (isqrt 12) <span class="math"> ⇒</span> 3<br>                          (isqrt 300) <span class="math"> ⇒</span> 17<br>
(isqrt 325) <span class="math"> ⇒</span> 18<br>
<!--l. 4343--><p class="noindent" ></div>
                                                                          

                                                                          
<!--l. 4343--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-101100012.5.1" id="x84-101100012.5.1"></a></span>
<!--l. 4343--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-101200012.5.1" id="x84-101200012.5.1"></a></span>
</div>
</div>
<!--l. 4346--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">12.5.2   </span> <a 
href="clmli1.html#QQ2-84-1021" id="x84-101300012.5.2">Тригонометрические и связанные с ними функции</a></h4>
<!--l. 4348--><p class="noindent" >Некоторые из функций в данном разделе, такие как <tt><a 
href="#x84-1013002r214">abs</a></tt> и <tt><a 
href="#x84-1021002r216">signum</a></tt>,
несомненно не относятся к тригонометрическим функциям, когда
рассматриваются как функции только для действительных чисел.
Однако, путь, с помощью которого они расширены для операций на
комплексных числах, делает их связь с тригонометрическими функциями
явной.
<div class="defun">
<!--l. 4354--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx84-1013001"></a><a 
 id="x84-1013002r214"></a><b> abs</b>  <i>number</i>
</div>
<!--l. 4356--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-101400012.5.2" id="x84-101400012.5.2"></a></span>
   Возвращает абсолютное значение аргумента. Для некомплексных чисел <i>x</i>,
<div class="lisp"><div class="tabbing">
(abs <i>x</i>) <span class="math"> ≡</span> (if (minusp <i>x</i>) (- <i>x</i>) <i>x</i>)
   <br>
<!--l. 4360--><p class="noindent" ></div>
<!--l. 4360--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-101500012.5.2" id="x84-101500012.5.2"></a></span>
<!--l. 4360--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-101600012.5.2" id="x84-101600012.5.2"></a></span>
</div>
<!--l. 4361--><p class="indent" >   и результат всегда имеет тот же тип, что и аргумент.
                                                                          

                                                                          
<!--l. 4363--><p class="indent" >   Для комплексных чисел <i>z</i>, абсолютное значение может быть вычислено
как <div class="lisp"><div class="tabbing">
(sqrt (+ (expt (realpart <i>z</i>) 2) (expt (imagpart <i>z</i>) 2)))
   <br>
<!--l. 4366--><p class="noindent" ></div>
<!--l. 4366--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-101700012.5.2" id="x84-101700012.5.2"></a></span>
<!--l. 4366--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-101800012.5.2" id="x84-101800012.5.2"></a></span>
</div>
<div class="implementation">
<!--l. 4369--><p class="noindent" ><b>Заметка для реализации:</b> Аккуратные разработчики не будут напрямую
использовать эту формулу для всех комплексных чисел. Очень большие и очень
маленькие части комплексных чисел будут обрабатываться специализированно для
избежания выходов за верхние и нижние границы значений.
</div>
<!--l. 4377--><p class="indent" >   Например: <div class="lisp"><div class="tabbing">
(abs #c(3.0 -4.0)) <span class="math"> ⇒</span> 5.0
   <br>
<!--l. 4380--><p class="noindent" ></div>
<!--l. 4380--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-101900012.5.2" id="x84-101900012.5.2"></a></span>
<!--l. 4380--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-102000012.5.2" id="x84-102000012.5.2"></a></span>
</div>
<!--l. 4381--><p class="indent" >   Результатом <tt>(abs #(3 4))</tt> может быть или <tt>5</tt> или <tt>5.0</tt>, в зависимости от
реализации.
</div>
<div class="defun">
                                                                          

                                                                          
<!--l. 4385--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx84-1020001"></a><a 
 id="x84-1020002r215"></a><b> phase</b>  <i>number</i>
</div>
<!--l. 4387--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-102100012.5.2" id="x84-102100012.5.2"></a></span>
   Аргументом (так называется функция phase) числа z (arg(z) <span class="math"> ≡</span>(phase z))
является угол <span class="math">φ</span> (в радианах) радиус-вектора точки, соответствующей
комплексному числу z.
<!--l. 4392--><p class="indent" >   Если аргумент является комплексным числом с частями из чисел с
плавающей точкой, то результатом является число с плавающей точкой того
же типа. Если аргумент является числом с плавающей точкой, то
результатом является число с плавающей точкой того же типа. Если
аргумент является комплексным числом с частями из рациональных
чисел, то результатом является число с плавающей точкой одинарного
типа.
</div>
<div class="defun">
<!--l. 4400--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx84-1021001"></a><a 
 id="x84-1021002r216"></a><b> signum</b>  <i>number</i>
</div>
<!--l. 4402--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-102200012.5.2" id="x84-102200012.5.2"></a></span>
   По определению, <div class="lisp"><div class="tabbing">
(signum <i>x</i>) <span class="math"> ≡</span> (if (zerop <i>x</i>) <i>x</i> (/ <i>x</i> (abs <i>x</i>)))
   <br>
<!--l. 4406--><p class="noindent" ></div>
<!--l. 4406--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-102300012.5.2" id="x84-102300012.5.2"></a></span>
<!--l. 4406--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-102400012.5.2" id="x84-102400012.5.2"></a></span>
</div>
<!--l. 4407--><p class="indent" >   Для рационального числа, <tt><a 
href="#x84-1021002r216">signum</a></tt> будет возвращать один из вариантов:
<tt>-1</tt>, <tt>0</tt> или <tt>1</tt>, в соответствии с тем, является ли число отрицательным, нулём
или положительным. Для числа с плавающей точкой, результатом будет
число с плавающей точкой того же типа и значением: <span class="math"> − 1</span>, <span class="math">0</span> или <span class="math">1</span>. Для
                                                                          

                                                                          
комплексного числа <i>z</i>, <tt>(signum <i>z</i>)</tt> является комплексным числом с таким
же аргументом (phase), но с единичным модулем. Но если <i>z</i> равен
комплексному нулю, результатом является само число <i>z</i>. Например:
<div class="lisp"><div class="tabbing">
(signum 0) <span class="math"> ⇒</span> 0
   <br>                                                            (signum -3.7L5) <span class="math"> ⇒</span> -1.0L0<br>
(signum 4/5) <span class="math"> ⇒</span> 1<br>                 (signum #C(7.5 10.0)) <span class="math"> ⇒</span> #C(0.6 0.8)<br>
(signum #C(0.0 -14.7)) <span class="math"> ⇒</span> #C(0.0 -1.0)<br>
<!--l. 4422--><p class="noindent" ></div>
<!--l. 4422--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-102500012.5.2" id="x84-102500012.5.2"></a></span>
<!--l. 4422--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-102600012.5.2" id="x84-102600012.5.2"></a></span>
</div>
<!--l. 4423--><p class="indent" >   Для некомплексных рациональных чисел <tt><a 
href="#x84-1021002r216">signum</a></tt> является рациональной
функцией, но для комплексных чисел может быть иррациональной.
</div>
<div class="defun">
<!--l. 4427--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx84-1026001"></a><a 
 id="x84-1026002r217"></a><b> sin</b>  <i>radians</i><br 
class="newline" /><i>[Функция]</i><a 
 id="dx84-1026003"></a><a 
 id="x84-1026004r218"></a><b> cos</b>  <i>radians</i><br 
class="newline" /><i>[Функция]</i><a 
 id="dx84-1026005"></a><a 
 id="x84-1026006r219"></a><b> tan</b>  <i>radians</i>
</div>
<!--l. 4431--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-102700012.5.2" id="x84-102700012.5.2"></a></span>
<tt>
   <a 
href="#x84-1026002r217">sin</a></tt> возвращает синус аргумента, <tt><a 
href="#x84-1026004r218">cos</a></tt> — косинус, <tt><a 
href="#x84-1026006r219">tan</a></tt> — тангенс. Аргумент
рассматривается как угол в радианах. Аргумент может быть комплексным
числом.
</div>
<div class="defun">
<!--l. 4437--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx84-1027001"></a><a 
 id="x84-1027002r220"></a><b> cis</b>  <i>radians</i>
</div>
                                                                          

                                                                          
<!--l. 4439--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-102800012.5.2" id="x84-102800012.5.2"></a></span>
   Функция вычисляет <span class="math"><i>e</i><sup>i⋅radians</sup></span>. Имя <tt><a 
href="#x84-1027002r220">cis</a></tt> обозначает «cos + <i>i</i> sin», потому
что <span class="math"><i>e</i><sup>i𝜃</sup> = cos 𝜃 + <i>i</i> sin 𝜃</span>. Аргумент рассматривается как угол в радианах и
может быть любым некомплексным числом. Результатом является
комплексное число, у которого действительная часть это косинус аргумента,
и мнимая — синус аргумента. Другими словами, результат это комплексное
число, у которого аргумент (фаза) равна (mod <span class="math">2∕pi</span>) и модуль равен
единице.
<div class="implementation">
<!--l. 4450--><p class="noindent" ><b>Заметка для реализации:</b> Чаще всего дешевле вычислить синус и косинус угла
вместе, чем выполнять два раздельных вычисления.
</div>
</div>
<div class="defun">
<!--l. 4457--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx84-1028001"></a><a 
 id="x84-1028002r221"></a><b> asin</b>  <i>number</i><br 
class="newline" /><i>[Функция]</i><a 
 id="dx84-1028003"></a><a 
 id="x84-1028004r222"></a><b> acos</b>  <i>number</i>
</div>
<!--l. 4460--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-102900012.5.2" id="x84-102900012.5.2"></a></span>
<tt>
   <a 
href="#x84-1028002r221">asin</a></tt> возвращаем арксинус аргумента, и <tt><a 
href="#x84-1028004r222">acos</a></tt> — арккосинус аргумента.
Результат будет в радианах. Аргумент может быть комплексным
числом.
<!--l. 4464--><p class="indent" >   Функции арксинус и арккосинус могут быть математически определены
для аргумента <i>z</i> следующим образом: <div class="tabbing">
Арксинус                 <span class="math"> −<i>i</i> log <img 
src="clm0x.png" alt="(    √ ------)
 iz +   1 − z2"  class="left" align="middle"></span>
   <br>
Арккосинус              <span class="math"> −<i>i</i> log <img 
src="clm1x.png" alt="(    √ -----2)
 z + i 1 − z"  class="left" align="middle"></span>
   <br>
<!--l. 4470--><p class="noindent" ></div>
<!--l. 4470--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-103000012.5.2" id="x84-103000012.5.2"></a></span>
   Следует отметить, что результат <tt><a 
href="#x84-1028002r221">asin</a></tt> или <tt>acos</tt> может быть комплексным
числом, даже если аргумент не являлся комплексным. Такое происходит,
                                                                          

                                                                          
когда абсолютное значение аргумента превышает 1.
</div>
<div class="defun">
<!--l. 4476--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx84-1030001"></a><a 
 id="x84-1030002r223"></a><b> atan</b>  <i>y</i> &#x0026;optional  <i>x</i>
</div>
<!--l. 4478--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-103100012.5.2" id="x84-103100012.5.2"></a></span>
   Функция вычисляет арктангенс и возвращает результат в радианах.
<!--l. 4481--><p class="indent" >   Ни один из двух аргументов <i>y</i> и <i>x</i> не может быть комплексным. Знаки <i>y</i> и
<i>x</i> используются для определения квадранта. <i>x</i> может быть нулём при
условии, что <i>y</i> не ноль. Значение <tt><a 
href="#x84-1030002r223">atan</a></tt> лежит между <span class="math"> −pi</span> (невключительно) и
<span class="math">pi</span> (включительно). Следующая таблица описывает различные специальные
случаи.
<div class="flushleft" 
>
<!--l. 4487--><p class="noindent" >
 <!--tex4ht:inline--><div class="tabular"><table width="100%" class="tabular"><tr><td align="left" colspan="2">     <div class="multicolumn"  style="white-space:nowrap; text-align:center;">Условие</div>     </td><td align="left" >Декартово местоположение         </td><td align="left" >Промежуток результата</td>
</tr><tr><td align="left" ><span class="math">y = +0</span> </td><td align="left" ><span class="math">x &#x003E; 0</span>  </td><td align="left" >Точно выше положительной оси x</td><td align="left" >              <span class="math"> + 0</span>              </td>
</tr><tr><td align="left" ><span class="math">y &#x003E; 0</span>   </td><td align="left" ><span class="math">x &#x003E; 0</span>  </td><td align="left" >Квадрант I                                </td><td align="left" >    <span class="math"> + 0 &#x003C; result &#x003C; π∕2</span>    </td>
</tr><tr><td align="left" ><span class="math">y &#x003E; 0</span>   </td><td align="left" ><span class="math">x = ±0</span></td><td align="left" >Положительная ось y                 </td><td align="left" >              <span class="math">π∕2</span>              </td>
</tr><tr><td align="left" ><span class="math">y &#x003E; 0</span>   </td><td align="left" ><span class="math">x &#x003C; 0</span>  </td><td align="left" >Квадрант II                               </td><td align="left" >     <span class="math">π∕2 &#x003C; result &#x003C; π</span>     </td>
</tr><tr><td align="left" ><span class="math">y = +0</span> </td><td align="left" ><span class="math">x &#x003C; 0</span>  </td><td align="left" >Точно ниже негативной оси x      </td><td align="left" >                <span class="math">π</span>             </td>
</tr><tr><td align="left" ><span class="math">y = −0</span> </td><td align="left" ><span class="math">x &#x003C; 0</span>  </td><td align="left" >Точно выше отрицательной оси x </td><td align="left" >                <span class="math">π</span>             </td>
</tr><tr><td align="left" ><span class="math">y &#x003C; 0</span>   </td><td align="left" ><span class="math">x &#x003C; 0</span>  </td><td align="left" >Квадрант III                              </td><td align="left" >  <span class="math"> − π &#x003C; result &#x003C; −π∕2</span>  </td>
</tr><tr><td align="left" ><span class="math">y &#x003C; 0</span>   </td><td align="left" ><span class="math">x = ±0</span></td><td align="left" >Отрицательная ось y                  </td><td align="left" >             <span class="math"> − π∕2</span>             </td>
</tr><tr><td align="left" ><span class="math">y &#x003C; 0</span>   </td><td align="left" ><span class="math">x &#x003E; 0</span>  </td><td align="left" >Квадрант IV                              </td><td align="left" >   <span class="math"> − π∕2 &#x003C; result &#x003C; −0</span>   </td>
</tr><tr><td align="left" ><span class="math">y = −0</span> </td><td align="left" ><span class="math">x &#x003E; 0</span>  </td><td align="left" >Точно ниже положительной оси x</td><td align="left" >              <span class="math"> − 0</span>              </td>
</tr><tr><td align="left" ><span class="math">y = +0</span> </td><td align="left" ><span class="math">x = +0</span></td><td align="left" >Рядом с центром                        </td><td align="left" >              <span class="math"> + 0</span>              </td>
</tr><tr><td align="left" ><span class="math">y = −0</span> </td><td align="left" ><span class="math">x = +0</span></td><td align="left" >Рядом с центром                        </td><td align="left" >              <span class="math"> − 0</span>              </td>
</tr><tr><td align="left" ><span class="math">y = +0</span> </td><td align="left" ><span class="math">x = −0</span></td><td align="left" >Рядом с центром                        </td><td align="left" >                <span class="math">π</span>             </td>
</tr><tr><td align="left" ><span class="math">y = −0</span> </td><td align="left" ><span class="math">x = −0</span></td><td align="left" >Рядом с центром                        </td><td align="left" >              <span class="math"> − π</span>            </td></tr><tr><td align="left" >  </td></tr></table>
</div></div>
<!--l. 4507--><p class="indent" >   Следует отметить, что случай <span class="math">y = 0,x = 0</span> при отсутствии минус ноля
является ошибкой, но четыре случая <span class="math">y = ±0,x = ±0</span> определены при условии
существования минус ноля.
<!--l. 4511--><p class="indent" >   Если не указывать <i>x</i>, <i>y</i> может быть комплексным. Результатом функции
является арктангенс <i>y</i>, который может быть определён следующей
формулой: <div class="tabbing">
                                                                          

                                                                          
Арктангенс               <span class="math"> log(1+<i>i</i><i>y</i>)−log(1−<i>i</i><i>y</i>) 
             2<i>i</i>         </span>
   <br>
<!--l. 4517--><p class="noindent" ></div>
<!--l. 4517--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-103200012.5.2" id="x84-103200012.5.2"></a></span>
   Для некомплексного аргумента <i>y</i>, результат будет некомплексным и
будет лежать между <span class="math"> − π∕2</span> и <span class="math">π∕2</span> (оба невключительно).
</div>
<div class="defun">
<!--l. 4523--><p class="noindent" ><div class="defunheader"> <i>[Константа]</i><a 
 id="dx84-1032001"></a><a 
 id="x84-1032002r224"></a><b> pi</b>
</div>
<!--l. 4525--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-103300012.5.2" id="x84-103300012.5.2"></a></span>
   Данная глобальная переменная содержит значение наиболее
приближенное к <span class="math">pi</span> в <i>длинном</i> формате числа с плавающей точкой.
Например: <div class="lisp"><div class="tabbing">
(defun sind (x)     ;Аргумент в градусах
   <br>                                                      (sin (* x (/ (ﬂoat pi x) 180))))<br>
<!--l. 4532--><p class="noindent" ></div>
<!--l. 4532--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-103400012.5.2" id="x84-103400012.5.2"></a></span>
<!--l. 4532--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-103500012.5.2" id="x84-103500012.5.2"></a></span>
</div>
<!--l. 4533--><p class="indent" >   Приближение к <span class="math">pi</span> с другими точностями может быть выполнено с
помощью <tt>(float pi <i>x</i>)</tt>, где <i>x</i> является числом с плавающей точкой
необходимой точности, или с помощью <tt>(coerce pi <i>type</i>)</tt>, где <i>type</i> является
именем необходимого типа, как например <tt>short-float</tt>.
</div>
                                                                          

                                                                          
<div class="defun">
<!--l. 4541--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx84-1035001"></a><a 
 id="x84-1035002r225"></a><b> sinh</b>  <i>number</i><br 
class="newline" /><i>[Функция]</i><a 
 id="dx84-1035003"></a><a 
 id="x84-1035004r226"></a><b> cosh</b>  <i>number</i><br 
class="newline" /><i>[Функция]</i><a 
 id="dx84-1035005"></a><a 
 id="x84-1035006r227"></a><b> tanh</b>  <i>number</i><br 
class="newline" /><i>[Функция]</i><a 
 id="dx84-1035007"></a><a 
 id="x84-1035008r228"></a><b> asinh</b>  <i>number</i><br 
class="newline" /><i>[Функция]</i><a 
 id="dx84-1035009"></a><a 
 id="x84-1035010r229"></a><b> acosh</b>  <i>number</i><br 
class="newline" /><i>[Функция]</i><a 
 id="dx84-1035011"></a><a 
 id="x84-1035012r230"></a><b> atanh</b>  <i>number</i>
</div>
<!--l. 4548--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-103600012.5.2" id="x84-103600012.5.2"></a></span>
   Данные функции вычисляют гиперболический синус, косинус, тангенс,
арксинус, арккосинус и арктангенс, которые для аргумента <i>z</i> математически
определены следующим образом: <div class="tabbing">
Гиперболический синус  <span class="math">(<i>e </i> <sup>z </sup> −<i>e</i><sup>−z</sup>)∕2</span>
   <br>                                                 Гиперболический косинус  <span class="math">(<i>e </i> <sup>z </sup> + <i> e</i><sup>−z</sup>)∕2</span><br>
Гиперболический тангенс  <span class="math">(<i>e </i> <sup>z </sup> − <i> e</i><sup>−z</sup>)∕(<i>e</i><sup>z</sup> + <i>e</i><sup>−z</sup>)</span><br>
Гиперболический арксинус  <span class="math">log<img 
src="clm2x.png" alt="(z + √1-+--z2)"  class="left" align="middle"></span>
   <br>
Гиперболический арккосинус  <span class="math">log<img 
src="clm3x.png" alt="(          ∘ ---------------)
 z + (z + 1 ) (z − 1)∕(z + 1)"  class="left" align="middle"></span>
   <br>
Гиперболический арктангенс  <span class="math">log<img 
src="clm4x.png" alt="(       ∘ --------2)
 (1 + z)  1∕(1 − z )"  class="left" align="middle"></span>
   <br>
<!--l. 4560--><p class="noindent" ></div>
<!--l. 4560--><p class="noindent" ><span class="paragraphHead"><a 
href="#x84-103700012.5.2" id="x84-103700012.5.2"></a></span>
   Следует отметить, что результат <tt><a 
href="#x84-1035010r229">acosh</a></tt> может быть комплексным, даже
если аргумент комплексным числом не был. Это происходит если аргумент
меньше 1. Также результат <tt><a 
href="#x84-1035012r230">atanh</a></tt> может быть комплексным, даже если
аргумент не был комплексным. Это происходит если абсолютное значение
аргумента было больше 1.
</div>
                                                                          

                                                                          
<!--l. 4568--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">12.5.3   </span> <a 
href="clmli1.html#QQ2-84-1046" id="x84-103800012.5.3">Точки ветвления, главные значения и краевые условия на
комплексной плоскости</a></h4>
<!--l. 4571--><p class="noindent" >Многие иррациональные и трансцендентные функции на комплексной
плоскости многозначны. Например, в общем случае, логарифмическая
функция имеет бесконечное количество комплексных значений. В
каждом таком случае для возврата должно быть выбрано одно главное
значение.
<!--l. 4576--><p class="indent" >   Common Lisp определяет точки ветвления, главные значения и краевые
условия для комплексных функции в соотвествие с предложениями для
комплексных функций в APL <span class="cite">[<a 
href="clmli5.html#XAPL-BRANCH-CUTS">36</a>]</span>. Содержимое раздела по большей части
скопировано из этих предложений.
<!--l. 4581--><p class="indent" >   [Однако перевод не сделан. Не могу назвать себя знатоком ТФКП]
                                                                          

                                                                          
<!--l. 4584--><p class="indent" >   <div id="bottomlinks"><tt>&#x003C;</tt><a 
href="clmse68.html" >Далее</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse66.html" >Назад</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse66.html#tailclmse66.html" >Назад-и-вниз</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse67.html" >В-начало</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch12.html#clmse67.html" >Наверх</a><tt>&#x003E;</tt></div><a 
 id="tailclmse67.html"></a>  </div> </div> 
</body></html> 

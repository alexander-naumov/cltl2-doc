<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Standard Streams</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,next,charset=utf-8,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-03-10 00:01:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
</head><body 
>
   <!--l. 27--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse113.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch21.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch21.html#tailclmch21.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse112.html">Tail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch21.html#clmse112.html" >Up</a><tt>&#x003E;</tt></p></div>
   <h3 class="sectionHead"><span class="titlemark">21.1   </span> <a 
 id="x138-26400021.1"></a>Standard Streams</h3>
<!--l. 29--><p class="noindent" >There are several variables whose values are streams used by many functions in
the Lisp system. These variables and their uses are listed here. By convention,
variables that are expected to hold a stream capable of input have names ending
with -input, and variables that are expected to hold a stream capable of output
have names ending with -output. Variables expected to hold a bidirectional
stream have names ending with -io.
<div class=defun>
<!--l. 38--><p class="noindent" ><i>[Variable]</i><a 
 id="dx138-264001"></a><a 
 id="x138-264002r636"></a><b> *standard-input*</b>
<!--l. 40--><p class="noindent" >In the normal Lisp top-level loop, input is read from *standard-input* (that is,
whatever stream is the value of the global variable *standard-input*). Many input
functions, including <a 
href="clmse116.html#x143-281003r696">read</a> and <a 
href="clmse116.html#x143-281015r701">read-char</a>, take a stream argument that defaults to
*standard-input*.
                                                                          

                                                                          
</div>
<div class=defun>
<!--l. 48--><p class="noindent" ><i>[Variable]</i><a 
 id="dx138-264003"></a><a 
 id="x138-264004r637"></a><b> *standard-output*</b>
<!--l. 50--><p class="noindent" >In the normal Lisp top-level loop, output is sent to *standard-output* (that is,
whatever stream is the value of the global variable *standard-output*). Many
output functions, including <a 
href="clmse117.html#x144-284010r713">print</a> and <a 
href="clmse117.html#x144-284028r720">write-char</a>, take a stream argument that
defaults to *standard-output*.
</div>
<div class=defun>
<!--l. 58--><p class="noindent" ><i>[Variable]</i><a 
 id="dx138-264005"></a><a 
 id="x138-264006r638"></a><b> *error-output*</b>
<!--l. 60--><p class="noindent" >The value of *error-output* is a stream to which error messages should be sent.
Normally this is the same as *standard-output*, but *standard-output* might be
bound to a ﬁle and *error-output* left going to the terminal or to a separate ﬁle
of error messages.
</div>
<div class=defun>
<!--l. 67--><p class="noindent" ><i>[Variable]</i><a 
 id="dx138-264007"></a><a 
 id="x138-264008r639"></a><b> *query-io*</b>
<!--l. 69--><p class="noindent" >The value of *query-io* is a stream to be used when asking questions of the user.
The question should be output to this stream, and the answer read from it. When
the normal input to a program may be coming from a ﬁle, questions such as “Do
you really want to delete all of the ﬁles in your directory?” should nevertheless be
sent directly to the user; and the answer should come from the user, not from
the data ﬁle. For such purposes *query-io* should be used instead of
*standard-input* and *standard-output*. *query-io* is used by such functions as
<a 
href="clmse118.html#x145-288006r732">yes-or-no-p</a>.
</div>
<div class=defun>
<!--l. 83--><p class="noindent" ><i>[Variable]</i><a 
 id="dx138-264009"></a><a 
 id="x138-264010r640"></a><b> *debug-io*</b>
<!--l. 85--><p class="noindent" >The value of *debug-io* is a stream to be used for interactive debugging
purposes. This is often the same as the value of *query-io*, but need not
be.
</div>
<div class=defun>
<!--l. 91--><p class="noindent" ><i>[Variable]</i><a 
 id="dx138-264011"></a><a 
 id="x138-264012r641"></a><b> *terminal-io*</b>
<!--l. 93--><p class="noindent" >The value of *terminal-io* is ordinarily the stream that connects to the user&#x2019;s
console. Typically, writing to this stream would cause the output to appear on a
display screen, for example, and reading from the stream would accept input from
a keyboard.
                                                                          

                                                                          
<!--l. 100--><p class="indent" >   It is intended that standard input functions such as <a 
href="clmse116.html#x143-281003r696">read</a> and <a 
href="clmse116.html#x143-281015r701">read-char</a>, when
used with this stream, would cause “echoing” of the input into the output side of
the stream. (The means by which this is accomplished are of course highly
implementation-dependent.)
</div>
<div class=defun>
<!--l. 107--><p class="noindent" ><i>[Variable]</i><a 
 id="dx138-264013"></a><a 
 id="x138-264014r642"></a><b> *trace-output*</b>
<!--l. 109--><p class="noindent" >The value of *trace-output* is the stream on which the <a 
href="clmse129.html#x159-326002r809">trace</a> function prints its
output.
</div>
<!--l. 114--><p class="indent" >   The variables *standard-input*, *standard-output*, *error-output*,
*trace-output*, *query-io*, and *debug-io* are initially bound to synonym
streams that pass all operations on to the stream that is the value of
*terminal-io*. (See <a 
href="clmse113.html#x139-265002r643">make-synonym-stream</a>.) Thus any operations performed on
those streams will go to the terminal.
<div class=new>
<!--l. 125--><p class="indent" >   X3J13 voted in January 1989 <a 
 id="dx138-264015"></a>to replace the requirements of the preceding
paragraph with the following new requirements:
<!--l. 130--><p class="indent" >   The seven standard stream variables, *standard-input*, *standard-output*,
*query-io*, *debug-io*, *terminal-io*, *error-output*, and *trace-output*, are
initially bound to open streams. (These will be called the standard initial
streams.)
<!--l. 138--><p class="indent" >   The streams that are the initial values of *standard-input*, *query-io*,
*debug-io*, and *terminal-io* must support input.
<!--l. 142--><p class="indent" >   The streams that are the initial values of *standard-output*, *error-output*,
*trace-output*, *query-io*, *debug-io*, and *terminal-io* must support
output.
<!--l. 148--><p class="indent" >   None of the standard initial streams (including the one to which *terminal-io*
is initially bound) may be a synonym, either directly or indirectly, for any of the
standard stream variables except *terminal-io*. For example, the initial value of
*trace-output* may be a synonym stream for *terminal-io* but not a synonym
stream for *standard-output* or *query-io*. (These are examples of direct
synonyms.) As another example, *query-io* may be a two-way stream or echo
stream whose input component is a synonym for *terminal-io*, but its input
component may not be a synonym for *standard-input* or *debug-io*. (These are
examples of indirect synonyms.)
<!--l. 160--><p class="indent" >   Any or all of the standard initial streams may be direct or indirect
synonyms for one or more common implementation-dependent streams. For
                                                                          

                                                                          
example, the standard initial streams might all be synonym streams (or
two-way or echo streams whose components are synonym streams) to
a pair of hidden terminal input and output streams maintained by the
implementation.
<!--l. 167--><p class="indent" >   Part of the intent of these rules is to ensure that it is always safe to bind any
standard stream variable to the value of any other standard stream variable
(that is, unworkable circularities are avoided) without unduly restricting
implementation ﬂexibility.
</div>
<!--l. 173--><p class="indent" >   No user program should ever change the value of *terminal-io*. A program
that wants (for example) to divert output to a ﬁle should do so by binding the
value of *standard-output*; that way error messages sent to *error-output* can
still get to the user by going through *terminal-io*, which is usually what is
desired.
                                                                          

                                                                          
   <!--l. 179--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse113.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch21.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch21.html#tailclmch21.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse112.html" >Front</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch21.html#clmse112.html" >Up</a><tt>&#x003E;</tt></p></div>
<!--l. 179--><p class="indent" >   <a 
 id="tailclmse112.html"></a>  
</body></html> 

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Поиск элементов последовательностей</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,index=2,next,fn-in,charset=utf-8,sections+,minitoc<,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-04-06 17:14:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
<link rel="stylesheet" type="text/css" href="cltl2ed.css"></head><body 
>
<!--l. 2045--><p class="noindent" > <div id="main_container"> <div id="content"> <!--l. 2045--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse78.html" >Далее</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse76.html" >Назад</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse76.html#tailclmse76.html" >Назад-и-вниз</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse77.html">В-конец</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch14.html#clmse77.html" >Вверх</a><tt>&#x003E;</tt></p></div>
   <h3 class="sectionHead"><span class="titlemark">14.4   </span> <a 
href="clm.html#QQ2-96-225" id="x96-19700014.4">Поиск элементов последовательностей</a></h3>
<!--l. 2047--><p class="noindent" >Каждая из этих функций ищет в последовательности элемент, удовлетворяющий
некоторому условию.
<div class=defun>
<!--l. 2050--><p class="noindent" ><i>[Функция]</i><a 
 id="dx96-197001"></a><a 
 id="x96-197002r379"></a><b> ﬁnd</b>  <i>item</i> <i>sequence</i> &#x0026;key  <i>:from-end</i> <i>:test</i> <i>:test-not</i> <i>:start :end</i>
<i>:key</i><br 
class="newline" /><i>[Функция]</i><a 
 id="dx96-197003"></a><a 
 id="x96-197004r380"></a><b> ﬁnd-if</b>  <i>predicate</i> <i>sequence</i> &#x0026;key  <i>:from-end</i> <i>:start</i> <i>:end</i> <i>:key</i><br 
class="newline" /><i>[Функция]</i><a 
 id="dx96-197005"></a><a 
 id="x96-197006r381"></a><b> ﬁnd-if-not</b>  <i>predicate</i> <i>sequence</i> &#x0026;key  <i>:from-end</i> <i>:start :end :key</i>
<!--l. 2054--><p class="noindent" >Если последовательность <i>sequence</i> содержит элемент, удовлетворяющий
условию, тогда возвращается первый найденный слева элемент, иначе
возвращается <tt><a 
href="clmse30.html#x41-73002r18">nil</a></tt>.
<!--l. 2059--><p class="indent" >   Если заданы параметры <tt>:start</tt> и <tt>:end</tt>, тогда поиск осуществляется в
этом интервале.
<!--l. 2062--><p class="indent" >   Если <tt>:from-end</tt> указан в не-<tt><a 
href="clmse30.html#x41-73002r18">nil</a></tt>, тогда результатом функции будет
найденный элемент справа.
</div>
<div class=defun>
<!--l. 2066--><p class="noindent" ><i>[Функция]</i><a 
 id="dx96-197007"></a><a 
 id="x96-197008r382"></a><b> position</b>  <i>item</i> <i>sequence</i> &#x0026;key  <i>:from-end</i> <i>:test</i> <i>:test-not</i>
<i>:start :end :key</i><br 
class="newline" /><i>[Функция]</i><a 
 id="dx96-197009"></a><a 
 id="x96-197010r383"></a><b> position-if</b>  <i>predicate</i> <i>sequence</i> &#x0026;key  <i>:from-end</i> <i>:start :end :key</i><br 
class="newline" /><i>[Функция]</i><a 
 id="dx96-197011"></a><a 
 id="x96-197012r384"></a><b> position-if-not</b>  <i>predicate</i> <i>sequence</i> &#x0026;key  <i>:from-end</i> <i>:start :end :key</i>
<!--l. 2070--><p class="noindent" >Если последовательность <i>sequence</i> содержит элемент, удовлетворяющий
условию, тогда возвращается позиция найденного элемента слева, иначе
возвращается <tt><a 
href="clmse30.html#x41-73002r18">nil</a></tt>.
<!--l. 2075--><p class="indent" >   Если заданы параметры <tt>:start</tt> и <tt>:end</tt>, тогда поиск осуществляется в
этом интервале. Однако возвращаемый индекс будет относиться ко всей
последовательности в целом.
<!--l. 2079--><p class="indent" >   Если <tt>:from-end</tt> указан в не-<tt><a 
href="clmse30.html#x41-73002r18">nil</a></tt>, тогда результатом функции будет индекс
найденного элемент справа. (Однако, возвращаемый индекс, будет, как
обычно, принадлежать нумерации слева направо.)
</div>
                                                                          

                                                                          
<!--l. 2083--><p class="indent" >   Ниже приведены несколько примеров использования нескольких
функций, преимущественно <tt><a 
href="#x96-197010r383">position-if</a></tt> и <tt><a 
href="#x96-197004r380">find-if</a></tt>, для обработки строк.
Также используется <tt><a 
href="clmse41.html#x53-117002r90">loop</a></tt>. <div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(defun debug-palindrome (s)
</td></tr></table>
<!--l. 2087--><p class="indent" >                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  (ﬂet ((match (x) (char-equal (ﬁrst x) (third x))))</td></tr></table>
<!--l. 2088--><p class="indent" >                                       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">    (let* ((pairs (loop for c across s</td></tr></table>
<!--l. 2089--><p class="indent" >                                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">                        for j from 0</td></tr></table>
<!--l. 2090--><p class="indent" >                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">                        when (alpha-char-p c)</td></tr></table>
<!--l. 2091--><p class="indent" >                           <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">                          collect (list c j)))</td></tr></table>
<!--l. 2092--><p class="indent" >              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">           (quads (mapcar #&#x2019;append pairs (reverse pairs)))</td></tr></table>
<!--l. 2093--><p class="indent" >          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">           (diﬀpos (position-if (complement #&#x2019;match) quads)))</td></tr></table>
<!--l. 2094--><p class="indent" >                                                      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">      (when diﬀpos</td></tr></table>
<!--l. 2095--><p class="indent" >                                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">        (let* ((diﬀ (elt quads diﬀpos))</td></tr></table>
<!--l. 2096--><p class="indent" >                            <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">               (same (ﬁnd-if #&#x2019;match quads</td></tr></table>
<!--l. 2097--><p class="indent" >                  <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">                              :start (+ diﬀpos 1))))</td></tr></table>
<!--l. 2098--><p class="indent" >                                                       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">          (if same</td></tr></table>
<!--l. 2099--><p class="indent" >                                               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">              (format nil</td></tr></table>
<!--l. 2100--><p class="indent" >      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">                      &#x0022;/~A/ (at ~D) is not the reverse of /~A/&#x0022;</td></tr></table>
<!--l. 2101--><p class="indent" >           <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">                      (subseq s (second diﬀ) (second same))</td></tr></table>
<!--l. 2102--><p class="indent" >                                    <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">                      (second diﬀ)</td></tr></table>
<!--l. 2103--><p class="indent" >                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">                      (subseq s (+ (fourth same) 1)</td></tr></table>
<!--l. 2104--><p class="indent" >                 <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">                                (+ (fourth diﬀ) 1)))</td></tr></table>
<!--l. 2105--><p class="indent" >         <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">              &#x0022;This palindrome is completely messed up!&#x0022;))))))</td></tr></table>
<!--l. 2107--><p class="indent" >
</div>
</div>
<!--l. 2108--><p class="noindent" >Вот пример поведения этой функции <div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(setq panama     ;Предполагаемый палиндром?
</td></tr></table>
<!--l. 2110--><p class="indent" >                      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">      &#x0022;A man, a plan, a canoe, pasta, heros, rajahs,</td></tr></table>
<!--l. 2111--><p class="indent" >               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">       a coloratura, maps, waste, percale, macaroni, a gag,</td></tr></table>
<!--l. 2112--><p class="indent" >                    <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">       a banana bag, a tan, a tag, a banana bag again</td></tr></table>
<!--l. 2113--><p class="indent" >                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">       (or a camel), a crepe, pins, Spam, a rut, a Rolo,</td></tr></table>
                                                                          

                                                                          
<!--l. 2114--><p class="indent" >                  <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">       cash, a jar, sore hats, a peon, a canal–Panama!&#x0022;)</td></tr></table>
<!--l. 2116--><p class="indent" >
</div>
</div>
<div class=lisp>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(debug-palindrome panama)
</td></tr></table>
<!--l. 2118--><p class="indent" >                       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  <span class="math"> ⇒</span> &#x0022;/wast/ (at 73) is not the reverse of /, pins/&#x0022;</td></tr></table>
<!--l. 2119--><p class="indent" >                                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"></td></tr></table>
<!--l. 2120--><p class="indent" >                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(replace panama &#x0022;snipe&#x0022; :start1 73)     ;Восстановить</td></tr></table>
<!--l. 2121--><p class="indent" >                       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  <span class="math"> ⇒</span> &#x0022;A man, a plan, a canoe, pasta, heros, rajahs,</td></tr></table>
<!--l. 2122--><p class="indent" >                <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">       a coloratura, maps, snipe, percale, macaroni, a gag,</td></tr></table>
<!--l. 2123--><p class="indent" >                    <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">       a banana bag, a tan, a tag, a banana bag again</td></tr></table>
<!--l. 2124--><p class="indent" >                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">       (or a camel), a crepe, pins, Spam, a rut, a Rolo,</td></tr></table>
<!--l. 2125--><p class="indent" >                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">       cash, a jar, sore hats, a peon, a canal–Panama!&#x0022;</td></tr></table>
<!--l. 2126--><p class="indent" >                                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"></td></tr></table>
<!--l. 2127--><p class="indent" >   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(debug-palindrome panama) <span class="math"> ⇒</span> nil     ;Первоклассный—истинный палиндром</td></tr></table>
<!--l. 2128--><p class="indent" >                                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"></td></tr></table>
<!--l. 2129--><p class="indent" >                       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(debug-palindrome &#x0022;Rubber baby buggy bumpers&#x0022;)</td></tr></table>
<!--l. 2130--><p class="indent" >                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  <span class="math"> ⇒</span> &#x0022;/Rubber / (at 0) is not the reverse of /umpers/&#x0022;</td></tr></table>
<!--l. 2131--><p class="indent" >                                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"></td></tr></table>
<!--l. 2132--><p class="indent" >                       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(debug-palindrome &#x0022;Common Lisp: The Language&#x0022;)</td></tr></table>
<!--l. 2133--><p class="indent" >                     <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  <span class="math"> ⇒</span> &#x0022;/Commo/ (at 0) is not the reverse of /guage/&#x0022;</td></tr></table>
<!--l. 2134--><p class="indent" >                                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"></td></tr></table>
<!--l. 2135--><p class="indent" >               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(debug-palindrome &#x0022;Complete mismatches are hard to ﬁnd&#x0022;)</td></tr></table>
<!--l. 2136--><p class="indent" >                                                                    <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  <span class="math"> ⇒</span> </td></tr></table>
<!--l. 2137--><p class="indent" >        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  &#x0022;/Complete mism/ (at 0) is not the reverse of /re hard to ﬁnd/&#x0022;</td></tr></table>
<!--l. 2138--><p class="indent" >                                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"></td></tr></table>
<!--l. 2139--><p class="indent" >               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(debug-palindrome &#x0022;Waltz, nymph, for quick jigs vex Bud&#x0022;)</td></tr></table>
<!--l. 2140--><p class="indent" >                         <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  <span class="math"> ⇒</span> &#x0022;This palindrome is completely messed up!&#x0022;</td></tr></table>
<!--l. 2141--><p class="indent" >                                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"></td></tr></table>
<!--l. 2142--><p class="indent" >                    <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(debug-palindrome &#x0022;Doc, note: I dissent.  A fast never</td></tr></table>
<!--l. 2143--><p class="indent" >                <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">                   prevents a fatness.  I diet on cod.&#x0022;)</td></tr></table>
<!--l. 2144--><p class="indent" >                                       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  <span class="math"> ⇒</span><tt><a 
href="clmse30.html#x41-73002r18">nil</a></tt>     ;Другой победитель</td></tr></table>
                                                                          

                                                                          
<!--l. 2145--><p class="indent" >                                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"></td></tr></table>
<!--l. 2146--><p class="indent" >                    <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(debug-palindrome &#x0022;Top step&#x2019;s pup&#x2019;s pet spot&#x0022;) <span class="math"> ⇒</span> nil</td></tr></table>
<!--l. 2148--><p class="indent" >
</div>
</div>
<div class=defun>
<!--l. 2150--><p class="noindent" ><i>[Функция]</i><a 
 id="dx96-197013"></a><a 
 id="x96-197014r385"></a><b> count</b>  <i>item</i> <i>sequence</i> &#x0026;key  <i>:from-end</i> <i>:test</i> <i>:test-not</i> <i>:start :end :key</i><br 
class="newline" /><i>[Функция]</i><a 
 id="dx96-197015"></a><a 
 id="x96-197016r386"></a><b> count-if</b>  <i>predicate</i> <i>sequence</i> &#x0026;key  <i>:from-end</i> <i>:start :end :key</i><br 
class="newline" /><i>[Функция]</i><a 
 id="dx96-197017"></a><a 
 id="x96-197018r387"></a><b> count-if-not</b>  <i>predicate</i> <i>sequence</i> &#x0026;key  <i>:from-end</i> <i>:start :end :key</i>
<!--l. 2154--><p class="noindent" >Результатом является неотрицательное целое число, указывающее на
количество элементов из указанной подпоследовательности, удовлетворяющих
условию.
<tt>
<!--l. 2158--><p class="indent" >   :from-end</tt> не оказывает никакого воздействия, и оставлен только для
совместимости с другими функциями.
</div>
<div class=defun>
<!--l. 2162--><p class="noindent" ><i>[Функция]</i><a 
 id="dx96-197019"></a><a 
 id="x96-197020r388"></a><b> mismatch</b>  <i>sequence1</i> <i>sequence2</i> &#x0026;key  <i>:from-end</i> <i>:test</i> <i>:test-not</i> <i>:key</i>
<i>:start1</i> <i>:start2</i> <i>:end1</i> <i>:end2</i>
<!--l. 2164--><p class="noindent" >Функция поэлементно сравнивает указанные подпоследовательности. Если их
длины равны и соответственно равны между собой каждые их элементы, то
функция возвращает <tt><a 
href="clmse30.html#x41-73002r18">nil</a></tt>. Иначе, функция возвращает неотрицательное целое
число. Это число указывает на первый элемент слева, который не совпал с
элементом другой последовательности <i>sequence2</i>. Или же, в случае
если одна подпоследовательность короче другой, но все элементы
были одинаковыми, индекс указывает на последний проверенный
элемент.
<!--l. 2174--><p class="indent" >   Если параметр <tt>:from-end</tt> равен не-<tt><a 
href="clmse30.html#x41-73002r18">nil</a></tt> значению, тогда возвращается
увеличенная на 1 позиция первого не совпавшего элемента справа.
Фактически, (под)последовательности выравниваются по своим правым
концам, затем сравниваются последние элементы, затем предпоследние и так
далее. Возвращаемый индекс принадлежит первой последовательности
<i>sequence1</i>.
</div>
<div class=defun>
<!--l. 2181--><p class="noindent" ><i>[Функция]</i><a 
 id="dx96-197021"></a><a 
 id="x96-197022r389"></a><b> search</b>  <i>sequence1</i> <i>sequence2</i> &#x0026;key  <i>:from-end</i> <i>:test</i> <i>:test-not</i> <i>:key</i>
                                                                          

                                                                          
<i>:start1</i> <i>:start2</i> <i>:end1</i> <i>:end2</i>
<!--l. 2183--><p class="noindent" >Функция осуществляет поэлементный поиск последовательности <i>sequence1</i>
в последовательности <i>sequence1</i>. Если поиск не увенчался успехом,
результатом является значение <tt><a 
href="clmse30.html#x41-73002r18">nil</a></tt>. Иначе, результат является индексом
первого совпавшего элемента слева во второй последовательности
<i>sequence2</i>.
<!--l. 2190--><p class="indent" >   Если аргумент <tt>:from-end</tt> равен не-<tt><a 
href="clmse30.html#x41-73002r18">nil</a></tt>, поиск осуществляется справа, и
результат является индексом элемента слева в первой совпавшей
подпоследовательности справа.
<!--l. 2194--><p class="indent" >   Реализация может выбирать алгоритм поиска на своё усмотрение.
Количество проводимых сравнений не может быть указано точно. Например,
<tt><a 
href="#x96-197022r389">search</a></tt> при <tt>:from-end</tt> равном не-<tt><a 
href="clmse30.html#x41-73002r18">nil</a></tt> может фактически производить поиск
слева направо, но результатом будет всегда индекс самой правой совпавшей
последовательности. Поэтому пользователю желательно использовать
предикаты без побочных эффектов.
</div>
                                                                          

                                                                          
   <!--l. 2202--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse78.html" >Далее</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse76.html" >Назад</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse76.html#tailclmse76.html" >Назад-и-вниз</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse77.html" >В-начало</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch14.html#clmse77.html" >Вверх</a><tt>&#x003E;</tt></p></div>
<!--l. 2202--><p class="indent" >   <a 
 id="tailclmse77.html"></a>  </div> </div> 
</body></html> 

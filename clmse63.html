<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Арифметические операции</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,index=2,next,fn-in,charset=utf-8,sections+,minitoc<,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-04-12 16:57:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
<link rel="stylesheet" type="text/css" href="cltl2ed.css"></head><body 
>
<!--l. 4019--><p class="noindent" > <div id="main_container"> <div id="content"> <div id="toplinks"><tt>&#x003C;</tt><a 
href="clmse64.html" >Далее</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse62.html" >Назад</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse62.html#tailclmse62.html" >Назад-и-вниз</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse63.html">В-конец</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch12.html#clmse63.html" >Наверх</a><tt>&#x003E;</tt></div><h3 class="sectionHead"><span class="titlemark">12.4   </span> <a 
href="clm.html#QQ2-80-185" id="x80-17700012.4">Арифметические
операции</a></h3>
<!--l. 4021--><p class="noindent" >Каждая из функций в этом разделе в качестве аргументов принимает числа.
Применение какой-либо из них к нечисловому аргументу является ошибкой.
Каждая из них работает со всеми типами чисел, автоматически приводя
типы для различных аргументов, если не указано иное.
<div class=defun>
<!--l. 4026--><p class="noindent" ><i>[Функция]</i><a 
 id="dx80-177001"></a><a 
 id="x80-177002r181"></a><b> +</b>  &#x0026;rest  <i>numbers</i>
<!--l. 4028--><p class="noindent" >Данная функция возвращает сумму всех аргументов. Если аргументов не
было, результатом является <tt>0</tt>.
</div>
<div class=defun>
<!--l. 4033--><p class="noindent" ><i>[Функция]</i><a 
 id="dx80-177003"></a><a 
 id="x80-177004r182"></a><b> -</b>  <i>number</i> &#x0026;rest  <i>more-numbers</i>
<!--l. 4035--><p class="noindent" >Функция <tt><a 
href="clmse104.html#x129-237008r571">-</a></tt> при использовании с одним аргументом возвращает отрицательное
значение для этого аргумента.
<!--l. 4039--><p class="indent" >   Функция <tt><a 
href="clmse104.html#x129-237008r571">-</a></tt> при использовании с более чем одним аргументом вычитает из
первого аргумента все остальные и возвращает результат. Например, <tt>(- 3 4
5)</tt> <span class="math"> ⇒</span> <tt>-6</tt>.
</div>
<div class=defun>
<!--l. 4044--><p class="noindent" ><i>[Функция]</i><a 
 id="dx80-177005"></a><a 
 id="x80-177006r183"></a><b> *</b>  &#x0026;rest  <i>numbers</i>
<!--l. 4046--><p class="noindent" >Функция возвращает произведение всех аргументов. Если вызывается без
аргументов, тогда возвращает <tt>1</tt>.
</div>
<div class=defun>
<!--l. 4051--><p class="noindent" ><i>[Функция]</i><a 
 id="dx80-177007"></a><a 
 id="x80-177008r184"></a><b> /</b>  <i>number</i> &#x0026;rest  <i>more-numbers</i>
<!--l. 4053--><p class="noindent" >Функция <tt><a 
href="clmse104.html#x129-237016r575">/</a></tt> при использовании с более чем одним аргументом производит
деление первого аргумента на все остальные значения и возвращает
полученный результат.
<!--l. 4058--><p class="indent" >   Ноль может использоваться только для первого аргумента.
<!--l. 4060--><p class="indent" >   Для одного аргумента <tt><a 
href="clmse104.html#x129-237016r575">/</a></tt> возвращает обратное значение. В таком случае
ноль в первом аргументе недопустим.
<!--l. 4063--><p class="indent" >   Если математическое отношение двух целых чисел не является целым
                                                                          

                                                                          
числом, <tt><a 
href="clmse104.html#x129-237016r575">/</a></tt> вернёт дробный тип. Например: <div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(/ 12 4) <span class="math"> ⇒</span> 3
</td></tr></table>
<!--l. 4067--><p class="indent" >                                                         <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(/ 13 4) <span class="math"> ⇒</span> 13/4</td></tr></table>
<!--l. 4068--><p class="indent" >                                                            <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(/ -8) <span class="math"> ⇒</span> -1/8</td></tr></table>
<!--l. 4069--><p class="indent" >                                                         <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(/ 3 4 5) <span class="math"> ⇒</span> 3/20</td></tr></table>
<!--l. 4071--><p class="indent" >
</div>
</div>
<!--l. 4073--><p class="indent" >   Для целочисленного деления используйте одну из функций <tt><a 
href="clmse65.html#x82-183012r219">floor</a></tt>,
<tt><a 
href="clmse65.html#x82-183014r220">ceiling</a></tt>, <tt><a 
href="clmse65.html#x82-183016r221">truncate</a></tt> или <tt><a 
href="clmse65.html#x82-183018r222">round</a></tt>.
<!--l. 4077--><p class="indent" >   Если один из аргументов является числом с плавающей точкой, тогда
применяются правила обработки чисел с плавающей точкой.
</div>
<div class=defun>
<!--l. 4081--><p class="noindent" ><i>[Функция]</i><a 
 id="dx80-177009"></a><a 
 id="x80-177010r185"></a><b> 1+</b>  <i>number</i><br 
class="newline" /><i>[Функция]</i><a 
 id="dx80-177011"></a><a 
 id="x80-177012r186"></a><b> 1-</b>  <i>number</i>
<!--l. 4084--><p class="noindent" ><tt>(1+ <i>x</i>)</tt> является тем же самым, что <tt>(+ <i>x</i> 1)</tt>. <tt>(1- <i>x</i>)</tt> является тем же
самым, что <tt>(- <i>x</i> 1)</tt>. Следует отметить, что короткое имя может ввести в
заблуждение: <tt>(1- <i>x</i>)</tt> <i>не значит</i> то же, что и <span class="math">1 −<i>x</i></span>.
</div>
<div class=defmac>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"> <i>[Макрос]</i><b> incf </b><a 
 id="dx80-177013"></a><a 
 id="x80-177014r187"></a> place [delta]
</td></tr></table>
<!--l. 4092--><p class="indent" >                                             <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  <i>[Макрос]</i><b> decf </b><a 
 id="dx80-177015"></a><a 
 id="x80-177016r188"></a> place [delta]</td></tr></table>
<!--l. 4094--><p class="indent" >
</div>
                                                                          

                                                                          
<!--l. 4094--><p class="noindent" ><span class="paragraphHead"><a 
href="#x80-17800012.4" id="x80-17800012.4"></a></span>
   Значение обобщённой переменной <i>place</i> увеличивается (<tt><a 
href="#x80-177014r187">incf</a></tt>) или
уменьшается (<tt><a 
href="#x80-177016r188">decf</a></tt>) на значение формы <i>delta</i> и затем присваивается
переменной <i>place</i>. Результатом формы является присвоенное значение.
Форма <i>place</i> может быть любой формой подходящей для <tt><a 
href="clmse35.html#x47-89002r64">setf</a></tt>. Если
форма <i>delta</i> не указана, тогда число в <i>place</i> изменяется на <tt>1</tt>. Например:
<div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(setq n 0)
</td></tr></table>
<!--l. 4105--><p class="indent" >                                     <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:162;" 
class="tabbing">(incf n) <span class="math"> ⇒</span> 1          </td><td  
class="tabbing">and now n <span class="math"> ⇒</span> 1</td></tr></table>
<!--l. 4106--><p class="indent" >                                     <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:162;" 
class="tabbing">(decf n 3) <span class="math"> ⇒</span> -2      </td><td  
class="tabbing">and now n <span class="math"> ⇒</span> -2</td></tr></table>
<!--l. 4107--><p class="indent" >                                     <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:162;" 
class="tabbing">(decf n -5) <span class="math"> ⇒</span> 3      </td><td  
class="tabbing">and now n <span class="math"> ⇒</span> 3</td></tr></table>
<!--l. 4108--><p class="indent" >                                     <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:162;" 
class="tabbing">(decf n) <span class="math"> ⇒</span> 2         </td><td  
class="tabbing">and now n <span class="math"> ⇒</span> 2</td></tr></table>
<!--l. 4110--><p class="indent" >
</div>
</div>
<!--l. 4111--><p class="noindent" >Результат <tt>(incf <i>place</i> <i>delta</i>)</tt> примерно эквивалентен <div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(setf <i>place</i> (+ <i>place</i> <i>delta</i>))
</td></tr></table>
<!--l. 4114--><p class="indent" >
</div>
</div>
<!--l. 4115--><p class="noindent" >за исключением того, что в последнем случае <i>place</i> вычисляется дважды, тогда
как <tt><a 
href="#x80-177014r187">incf</a></tt> гарантирует, что вычисление <i>place</i> будет выполнено только один
раз. Более того, для некоторых форма <i>place</i> <tt><a 
href="#x80-177014r187">incf</a></tt> может быть эффективнее
чем <tt><a 
href="clmse35.html#x47-89002r64">setf</a></tt>.
</div>
<div class=defun>
<!--l. 4122--><p class="noindent" ><i>[Функция]</i><a 
 id="dx80-178001"></a><a 
 id="x80-178002r189"></a><b> conjugate</b>  <i>number</i>
<!--l. 4124--><p class="noindent" >Функция возвращает комплексное сопряжение с числа <i>number</i>. Сопряжением
некомплексного числа является само число. Для комплексного числа <tt>z</tt>,
<div class=lisp><div class=tabbing>
                                                                          

                                                                          
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(conjugate z) <span class="math"> ≡</span> (complex (realpart z) (- (imagpart z)))
</td></tr></table>
<!--l. 4130--><p class="indent" >
</div>
</div>
<!--l. 4131--><p class="noindent" >Например, <div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(conjugate #C(3/5 4/5)) <span class="math"> ⇒</span> #C(3/5 -4/5)
</td></tr></table>
<!--l. 4133--><p class="indent" >                      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(conjugate #C(0.0D0 -1.0D0)) <span class="math"> ⇒</span> #C(0.0D0 1.0D0)</td></tr></table>
<!--l. 4134--><p class="indent" >                                                    <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(conjugate 3.7) <span class="math"> ⇒</span> 3.7</td></tr></table>
<!--l. 4136--><p class="indent" >
</div>
</div>
</div>
<div class=defun>
<!--l. 4139--><p class="noindent" ><i>[Функция]</i><a 
 id="dx80-178003"></a><a 
 id="x80-178004r190"></a><b> gcd</b>  &#x0026;rest  <i>integers</i>
<!--l. 4141--><p class="noindent" >Функция возвращает наибольший общий делитель всех аргументов, которые
в свою очередь должны быть целыми числами. Результатом <tt><a 
href="#x80-178004r190">gcd</a></tt> всегда
является неотрицательное целое число. Если передан только один параметр,
то возвращается его абсолютное значение (модуль). Если ни один
параметр не был передан, <tt><a 
href="#x80-178004r190">gcd</a></tt> возвращает <tt>0</tt>. Для трёх и более аргументов,
<div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(gcd <i>a</i> <i>b</i> <i>c</i> ... <i>z</i>) <span class="math"> ≡</span> (gcd (gcd <i>a</i> <i>b</i>) <i>c</i> ... <i>z</i>)
</td></tr></table>
<!--l. 4151--><p class="indent" >
</div>
</div>
<!--l. 4153--><p class="indent" >   Несколько примеров использования <tt><a 
href="#x80-178004r190">gcd</a></tt>: <div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(gcd 91 -49) <span class="math"> ⇒</span> 7
</td></tr></table>
                                                                          

                                                                          
<!--l. 4155--><p class="indent" >                                                      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(gcd 63 -42 35) <span class="math"> ⇒</span> 7</td></tr></table>
<!--l. 4156--><p class="indent" >                                                             <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(gcd 5) <span class="math"> ⇒</span> 5</td></tr></table>
<!--l. 4157--><p class="indent" >                                                             <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(gcd -4) <span class="math"> ⇒</span> 4</td></tr></table>
<!--l. 4158--><p class="indent" >                                                               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(gcd) <span class="math"> ⇒</span> 0</td></tr></table>
<!--l. 4160--><p class="indent" >
</div>
</div>
</div>
<div class=defun>
<!--l. 4163--><p class="noindent" ><i>[Функция]</i><a 
 id="dx80-178005"></a><a 
 id="x80-178006r191"></a><b> lcm</b>  <i>integer</i> &#x0026;rest  <i>more-integers</i>
<!--l. 4165--><p class="noindent" >Функция возвращает наименьшее общее кратное для аргументов, которые в
свою очередь должны быть целыми числами. Результатом <tt><a 
href="#x80-178006r191">lcm</a></tt> всегда
является неотрицательное целое число. Для двух аргументов, не являющихся
нулями, <div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(lcm <i>a</i> <i>b</i>) <span class="math"> ≡</span> (/ (abs (* <i>a</i> <i>b</i>)) (gcd <i>a</i> <i>b</i>))
</td></tr></table>
<!--l. 4172--><p class="indent" >
</div>
</div>
<!--l. 4173--><p class="noindent" >Если один или оба аргумента является нулём. <div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(lcm <i>a</i> 0) <span class="math"> ≡</span> (lcm 0 <i>a</i>) <span class="math"> ≡</span> 0
</td></tr></table>
<!--l. 4176--><p class="indent" >
</div>
</div>
<!--l. 4178--><p class="indent" >   Для одного аргумента, <tt><a 
href="#x80-178006r191">lcm</a></tt> возвращает абсолютное значение этого
аргумента (модуль). Для трёх и более аргументов, <div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(lcm <i>a</i> <i>b</i> <i>c</i> ... <i>z</i>) <span class="math"> ≡</span> (lcm (lcm <i>a</i> <i>b</i>) <i>c</i> ... <i>z</i>)
</td></tr></table>
<!--l. 4183--><p class="indent" >
                                                                          

                                                                          
</div>
</div>
<!--l. 4185--><p class="indent" >   Примеры использования: <div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(lcm 14 35) <span class="math"> ⇒</span> 70
</td></tr></table>
<!--l. 4187--><p class="indent" >                                                           <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(lcm 0 5) <span class="math"> ⇒</span> 0</td></tr></table>
<!--l. 4188--><p class="indent" >                                                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(lcm 1 2 3 4 5 6) <span class="math"> ⇒</span> 60</td></tr></table>
<!--l. 4190--><p class="indent" >
</div>
</div>
<tt>
<!--l. 4196--><p class="indent" >   <a 
href="#x80-178006r191">lcm</a></tt>, вызванная без аргументов, возвращает <tt>1</tt>. <div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(lcm) <span class="math"> ⇒</span> 1
</td></tr></table>
<!--l. 4199--><p class="indent" >
</div>
</div>
</div>
                                                                          

                                                                          
<!--l. 4202--><p class="indent" >   <div id="bottomlinks"><tt>&#x003C;</tt><a 
href="clmse64.html" >Далее</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse62.html" >Назад</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse62.html#tailclmse62.html" >Назад-и-вниз</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse63.html" >В-начало</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch12.html#clmse63.html" >Наверх</a><tt>&#x003E;</tt></div><a 
 id="tailclmse63.html"></a>  </div> </div> 
</body></html> 

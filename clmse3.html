<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Numbers Числа</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,next,charset=utf-8,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-03-06 23:16:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
</head><body 
>
   <!--l. 413--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse4.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch2.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch2.html#tailclmch2.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse3.html">Tail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch2.html#clmse3.html" >Up</a><tt>&#x003E;</tt></p></div>
   <h3 class="sectionHead"><span class="titlemark">2.1   </span> <a 
 id="x10-210002.1"></a>Numbers Числа</h3>
<!--l. 415--><p class="noindent" >Several kinds of numbers are deﬁned in Common Lisp. They are divided into
<i>integers</i>; <i>ratios</i>; <i>ﬂoating-point numbers</i>, with names provided for up to four
diﬀerent ﬂoating-point representations; and <i>complex numbers</i>.
<!--l. 420--><p class="indent" >   В Common Lisp&#x2019;е определены некоторые виды чисел. Они подразделяются на
<i>целочисленные (integer)</i>; <i>дробные (ratios)</i>; <i>плавающей точкой (ﬂoating-point)</i>,
с четырьмя видами пердставления и <i>комплексные</i>.
<div class=newer>
                                                                          

                                                                          
<!--l. 426--><p class="indent" >   X3J13 voted in March 1989 <a 
 id="dx10-21001"></a>to add the type real.
<!--l. 428--><p class="indent" >   X3J13 voted in March 1989 <a 
 id="dx10-21002"></a>добавляет тип real.
<!--l. 430--><p class="indent" >   The number data type encompasses all kinds of numbers. For convenience,
there are names for some subclasses of numbers as well. Integers and ratios are of
type <a 
href="clmse71.html#x88-348002r252">rational</a>. Rational numbers and ﬂoating-point numbers are of type real. Real
numbers and complex numbers are of type number.
<!--l. 437--><p class="indent" >   Числовой тип данных захватывает все числовые типы. Также для
удобства предоставлены имены для некоторых числовых подтипов. Целые
числа и дроби принадлежат к <i>рациональному</i>. Рациональные числа и с
плавающей точкой к <i>действительному</i>. Действительные и комплексные к
<i>числовому</i> типу.
<!--l. 443--><p class="indent" >   Although the names of these types were chosen with the terminology of
mathematics in mind, the correspondences are not always exact. Integers and
ratios model the corresponding mathematical concepts directly. Numbers
of type <a 
href="clmse71.html#x88-347002r251">ﬂoat</a> may be used to approximate real numbers, both rational
and irrational. The real type includes all Common Lisp numbers that
represent mathematical real numbers, though there are mathematical real
numbers (irrational numbers) that do not have an exact Common Lisp
representation. Only real numbers may be ordered using the <a 
href="clmse68.html#x85-316006r212">&#x003C;</a>, <a 
href="clmse68.html#x85-316008r213">&#x003E;</a>, <a 
href="clmse68.html#x85-316010r214">&#x003C;=</a>, and <a 
href="clmse68.html#x85-316012r215">&#x003E;=</a>
functions.
<!--l. 456--><p class="indent" >   Несмотря на то, что эти типы выбирались из математической терминологии,
соответствие не всегда полное. Модель целочисленных (integers) и дробных
(ratios) типов полностью совпадает с математической. Числа с <i>плавающей
точкой (ﬂoat)</i> могут использоваться для аппроксимации действительных
(real) чисел: рациональных (rational) и иррациональных (irrational).
<i>Действительный (real)</i> тип включает все Common Lisp числе, что
отображают действительные (real) математические числа, однако для
математических действительных (real) чисел (иррациональных (irrational))
аналогии в Cоmmon Lisp&#x2019;е нет. Только <i>действительные (real)</i> числа могут
быть отсортированы с помощью функций <a 
href="clmse68.html#x85-316006r212">&#x003C;</a>, <a 
href="clmse68.html#x85-316008r213">&#x003E;</a>, <a 
href="clmse68.html#x85-316010r214">&#x003C;=</a> и <a 
href="clmse68.html#x85-316012r215">&#x003E;=</a>. (Ох жеш
FIXME).
<div class=incompatibility>
<!--l. 470--><p class="noindent" ><span class="paragraphHead"><a 
 id="x10-220002.1"></a></span>
   <b>Compatibility note:</b> The Fortran 77 standard deﬁnes the term <i>real datum</i> to
mean “a processor approximation to the value of a real number.” In practice the
                                                                          

                                                                          
Fortran <i>basic real</i> type is the ﬂoating-point data type that Common Lisp calls
single-ﬂoat. The Fortran <i>double precision</i> type is Common Lisp&#x2019;s double-ﬂoat.
The Pascal real data type is an “implementation-deﬁned subset of the real
numbers.” In practice this is usually a ﬂoating-point type, often what Common
Lisp calls double-ﬂoat.
<!--l. 481--><p class="indent" >   Примечание о совместимости: стандарт Fortran 77 определяет термин
<i>действительное число</i>, как «аппроксимация значения действительного
числа». На практике Fortran&#x2019;овский <i>базовый действительный</i> тип
соотносится с числом плавающей точкой, которое в Common Lisp зовется
<i>single-ﬂoat</i>. Fortran тип <i>с двойной точностью</i> является Common Lisp
типом <i>double-ﬂoat</i>. Pascal&#x2019;евский <i>действительный</i> тип данных является
«платформозависимым подмножеством действительных чисел». На практике
это обычно тип с плавающей точкой, то, что в Common Lisp&#x2019;е называется
<i>double-ﬂoat</i>.
<!--l. 491--><p class="indent" >   A translation of an algorithm written in Fortran or Pascal that uses real data
usually will use some appropriate precision of Common Lisp&#x2019;s <a 
href="clmse71.html#x88-347002r251">ﬂoat</a> type. Some
algorithms may gain accuracy or ﬂexibility by using Common Lisp&#x2019;s <a 
href="clmse71.html#x88-348002r252">rational</a> or
real type instead.
<!--l. 497--><p class="indent" >   Трансляция алгоритмов написанные на Фортране или Паскале, что
используют <i>действительные</i> числа, обычно соответствует необходимой
точности для Common Lisp&#x2019;овых типов <i>с плавающей точкой</i> (ﬂoat). Некоторые
алгоритмы могут получить выигрыш или гибкость с использованием
Common Lisp&#x2019;овых <i>дробных (rational)</i> или <i>действительных (real)</i>
типов.
<!--l. 503--><p class="noindent" ><span class="paragraphHead"><a 
 id="x10-230002.1"></a>
<!--l. 503--><p class="indent" >   </span>
   incompatibility
</div>
</div>
<!--l. 507--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.1.1   </span> <a 
 id="x10-240002.1.1"></a>Integers Целые числа</h4>
<a 
 id="dx10-24001"></a>
<!--l. 511--><p class="noindent" >The integer data type is intended to represent mathematical integers. Unlike most
programming languages, Common Lisp in principle imposes no limit on the
                                                                          

                                                                          
magnitude of an integer; storage is automatically allocated as necessary to
represent large integers.
<i>
<!--l. 516--><p class="indent" >   Целочисленный</i> тип даных предназначен для отображения математических
целых чисел. В отличие от большинства языков программирования, Common
Lisp принципиально не навязывает ограничений на величину целого числа;
место для хранения выделяется автоматически по мере необходимости для
отображения больших чисел.
<!--l. 523--><p class="indent" >   In every Common Lisp implementation there is a range of integers that are
represented more eﬃciently than others; each such integer is called a <i>ﬁxnum</i>,
and an integer that is not a ﬁxnum is called a <i>bignum</i>. Common Lisp is
designed to hide this distinction as much as possible; the distinction between
ﬁxnums and bignums is visible to the user in only a few places where the
eﬃciency of representation is important. Exactly which integers are ﬁxnums is
implementation-dependent; typically they will be those integers in the range  − 2<sup>n</sup>
to 2<sup>n</sup> − 1, inclusive, for some <i>n</i> not less than 15. See <a 
href="clmse75.html#x92-383002r321">most-positive-ﬁxnum</a> and
<a 
href="clmse75.html#x92-383004r322">most-negative-ﬁxnum</a>.
<!--l. 536--><p class="indent" >   В каждой реализации Common Lisp&#x2019;а есть интервал целых чисел, которые
хранятся более оптимально, чем другие; каждое такое число называется
<i>ﬁxnum</i>, и число не являющееся ﬁxnum называется <i>bignum</i>. Common Lisp
спроектирован так, чтобы скрыть различие так сильно, как это возможно;
различие между ﬁxnums и bignums видимо пользователю, только в тех
местах, где важна эффективность работы алгоритма. Какие числа
являются ﬁxnums зависит от реализации; обычно это числа в интервале от
 − 2<sup>n</sup> to 2<sup>n</sup> − 1, включительно, для некоторого n не меньше 15. См.
<a 
href="clmse75.html#x92-383002r321">most-positive-ﬁxnum</a> и <a 
href="clmse75.html#x92-383004r322">most-negative-ﬁxnum</a>.
<div class=new>
<!--l. 548--><p class="indent" >   X3J13 voted in January 1989 <a 
 id="dx10-24002"></a>to specify that ﬁxnum must be a supertype of
the type (signed-byte 16), and additionally that the value of <a 
href="clmse94.html#x116-529002r560">array-dimension-limit</a>
must be a ﬁxnum (implying that the implementor should choose the range of
ﬁxnums to be large enough to accommodate the largest size of array to be
supported).
<!--l. 556--><p class="indent" >   ﬁxnum должен быть супертипом для типа (signed-byte 16), и в дополнение
к этому, значения <a 
href="clmse94.html#x116-529002r560">array-dimension-limit</a> должно принадлежать ﬁxnum
(реализаторы должны выбрать интервал ﬁxnum, чтобы в него можно
было включить наибольший число поддерживаемых измерений для
массивов).
<div class=rationale>
                                                                          

                                                                          
<!--l. 563--><p class="noindent" ><span class="paragraphHead"><a 
 id="x10-250002.1.1"></a></span>
   <b>Rationale:</b> This speciﬁcation allows programmers to declare variables in
portable code to be of type ﬁxnum for eﬃciency. Fixnums are guaranteed to
encompass at least the set of 16-bit signed integers (compare this to the data
type short int in the C programming language). In addition, any valid
array index must be a ﬁxnum, and therefore variables used to hold array
indices (such as a <a 
href="clmse42.html#x54-192003r112">dotimes</a> variable) may be declared ﬁxnum in portable
code.
<!--l. 572--><p class="indent" >   Объяснение: Эта спецификация позволяет программистам объявлять
переменные в переносимом коде типа ﬁxnum для эффективности. Fixnums
гарантированно заключают в себе множество знаковых 16-битных чисел
чисел (это сравнимо с типом данных short int в языке программирования C).
В дополнение к всему, любой корректный индекс массива должен быть
ﬁxnum, и в таком случае переменные, которые хранят индексы массива
(например переменная в <a 
href="clmse42.html#x54-192003r112">dotimes</a>) могут быть объявлены как ﬁxnum в
переносимом коде.
<!--l. 581--><p class="noindent" ><span class="paragraphHead"><a 
 id="x10-260002.1.1"></a>
<!--l. 581--><p class="indent" >   </span>
   rationale
</div>
</div>
<!--l. 585--><p class="indent" >   Integers are ordinarily written in decimal notation, as a sequence of decimal
digits, optionally preceded by a sign and optionally followed by a decimal point.
For example:
<!--l. 590--><p class="indent" >   Целые числа обычно записываются в десятичном виде, как
последовательность десятичных цифр, опционально с предшевствующим
знаком и опционально с последующей точкой. Например: <div class=lisp> <div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:297;" 
class="tabbing">                              </td><td  
class="tabbing">0       ;Zero
</td></tr></table>
<!--l. 593--><p class="indent" >
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:297;" 
class="tabbing">                             </td><td  
class="tabbing">-0       ;This <i>always</i> means the same as 0</td></tr></table>
<!--l. 594--><p class="indent" >            <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:297;" 
class="tabbing">                            </td><td  
class="tabbing">+6       ;The ﬁrst perfect number</td></tr></table>
<!--l. 595--><p class="indent" >         <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:297;" 
class="tabbing">                             </td><td  
class="tabbing">28       ;The second perfect number</td></tr></table>
                                                                          

                                                                          
<!--l. 596--><p class="indent" >             <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:297;" 
class="tabbing">                          </td><td  
class="tabbing">1024.       ;Two to the tenth power</td></tr></table>
<!--l. 597--><p class="indent" >                                 <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:297;" 
class="tabbing">                             </td><td  
class="tabbing">-1       ;e<sup>πi</sup></td></tr></table>
<!--l. 598--><p class="indent" >   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:297;" 
class="tabbing"> </td><td  
class="tabbing">15511210043330985984000000.       ;25 factorial (25!), probably a bignum</td></tr></table>
<!--l. 600--><p class="indent" >
</div>
</div>
<div class=lisp>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:297;" 
class="tabbing">                              </td><td  
class="tabbing">0       ;Нуль
</td></tr></table>
<!--l. 604--><p class="indent" >
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:297;" 
class="tabbing">                             </td><td  
class="tabbing">-0       ;Это <i>всегда</i> значит то же, что и 0</td></tr></table>
<!--l. 605--><p class="indent" >        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:297;" 
class="tabbing">                            </td><td  
class="tabbing">+6       ;Первое совершенное число</td></tr></table>
<!--l. 606--><p class="indent" >        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:297;" 
class="tabbing">                             </td><td  
class="tabbing">28       ;Второе совершенное число</td></tr></table>
<!--l. 607--><p class="indent" >             <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:297;" 
class="tabbing">                          </td><td  
class="tabbing">1024.       ;Два в десятой степени</td></tr></table>
<!--l. 608--><p class="indent" >                                 <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:297;" 
class="tabbing">                             </td><td  
class="tabbing">-1       ;e<sup>πi</sup></td></tr></table>
<!--l. 609--><p class="indent" >   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:297;" 
class="tabbing"> </td><td  
class="tabbing">15511210043330985984000000.       ;факториал от 25 (25!), скорее все bignum</td></tr></table>
<!--l. 612--><p class="indent" >
</div>
</div>
<div class=incompatibility>
<!--l. 615--><p class="noindent" ><span class="paragraphHead"><a 
 id="x10-270002.1.1"></a></span>
   <b>Compatibility note:</b> MacLisp and Lisp Machine Lisp normally assume that
integers are written in octal (radix-8) notation unless a decimal point is present.
Interlisp assumes integers are written in decimal notation and uses a trailing Q to
indicate octal radix; however, a decimal point, even in trailing position, <i>always</i>
indicates a ﬂoating-point number. This is of course consistent with Fortran. Ada
does not permit trailing decimal points but instead requires them to be
embedded. In Common Lisp, integers written as described above are always
construed to be in decimal notation, whether or not the decimal point is
present; allowing the decimal point to be present permits compatibility with
MacLisp.
                                                                          

                                                                          
<!--l. 630--><p class="indent" >   Примечание о совместимости: точка в конце числа используется для
совместимости с MacLisp.
<!--l. 632--><p class="noindent" ><span class="paragraphHead"><a 
 id="x10-280002.1.1"></a>
<!--l. 632--><p class="indent" >   </span>
   incompatibility
</div>
<!--l. 637--><p class="indent" >   Integers may be notated in radices other than ten. The notation
<!--l. 640--><p class="indent" >   Целые числа могут быть представлены с основаниями отличнымии от
десяти. Синтаксис: <div class=lisp> <div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">#<i>nn</i>r<i>ddddd</i> or #<i>nn</i>R<i>ddddd</i>
</td></tr></table>
<!--l. 644--><p class="indent" >
</div>
</div>
<!--l. 645--><p class="noindent" >means the integer in radix-<i>nn</i> notation denoted by the digits <i>ddddd</i>. More precisely,
one may write #, a non-empty sequence of decimal digits representing an
unsigned decimal integer <i>n</i>, r (or R), an optional sign, and a sequence of radix-<i>n</i>
digits, to indicate an integer written in radix <i>n</i> (which must be between 2 and
36, inclusive). Only legal digits for the speciﬁed radix may be used; for
example, an octal number may contain only the digits 0 through 7. For
digits above 9, letters of the alphabet of either case may be used in order.
Binary, octal, and hexadecimal radices are useful enough to warrant the
special abbreviations #b for #2r, #o for #8r, and #x for #16r. For
example:
<!--l. 660--><p class="indent" >   означает, что целое число с основанием <i>nn</i> определенное с помощью цифр
и букв <i>ddddd</i>. Более точное описание: символ #, непустая последовательность
десятичных цифр представляющих десятичное число <i>n</i>, r (или R),
опционально знак + или -, и последовательность цифр для заданной системы
счисления (система счисления должна быть между 2 и 36, включительно).
Только корректные символы для заданной системы счисления могут
использоваться для задания числа; например для восьмеричного числа могут
использоваться только цифры от 0 до 7 включительно. Для систем
счисления больших десятичной, могут использоваться буквы алфавита в
любом регистре в алфавитном порядке. Двоичные, восьмеричные
                                                                          

                                                                          
и шестнадцатиричные основания можно использовать с помощью
следующих аббревиатур: #b для #2r, #o для #8r, #x для #16r. Например: <div class=lisp>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:148;" 
class="tabbing"></td><td  
class="tabbing">#2r11010101      ;Another way of writing 213 decimal
</td></tr></table>
<!--l. 666--><p class="indent" >                                                  <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:148;" 
class="tabbing"></td><td  
class="tabbing">#b11010101      ;Ditto</td></tr></table>
<!--l. 667--><p class="indent" >                                                  <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:148;" 
class="tabbing"></td><td  
class="tabbing">#b+11010101      ;Ditto</td></tr></table>
<!--l. 668--><p class="indent" >                                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:148;" 
class="tabbing">      </td><td  
class="tabbing">#o325       ;Ditto, in octal radix</td></tr></table>
<!--l. 669--><p class="indent" >                            <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:148;" 
class="tabbing">      </td><td  
class="tabbing">#xD5       ;Ditto, in hexadecimal radix</td></tr></table>
<!--l. 670--><p class="indent" >                                                  <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:148;" 
class="tabbing">  </td><td  
class="tabbing">#16r+D5       ;Ditto</td></tr></table>
<!--l. 671--><p class="indent" >                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:148;" 
class="tabbing">     </td><td  
class="tabbing">#o-300       ;Decimal -192, written in base 8</td></tr></table>
<!--l. 672--><p class="indent" >                                  <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:148;" 
class="tabbing">  </td><td  
class="tabbing">#3r-21010       ;Same thing in base 3</td></tr></table>
<!--l. 673--><p class="indent" >                                 <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:148;" 
class="tabbing">   </td><td  
class="tabbing">#25R-7H       ;Same thing in base 25</td></tr></table>
<!--l. 674--><p class="indent" >                       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:148;" 
class="tabbing"></td><td  
class="tabbing">#xACCEDED      ;181202413, in hexadecimal radix</td></tr></table>
<!--l. 676--><p class="indent" >
</div>
</div>
<div class=lisp>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:148;" 
class="tabbing"></td><td  
class="tabbing">#2r11010101      ;Другой способ определения числа 213
</td></tr></table>
<!--l. 681--><p class="indent" >                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:148;" 
class="tabbing"></td><td  
class="tabbing">#b11010101      ;то же самое</td></tr></table>
<!--l. 682--><p class="indent" >                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:148;" 
class="tabbing"></td><td  
class="tabbing">#b+11010101      ;то же самое</td></tr></table>
<!--l. 683--><p class="indent" >                <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:148;" 
class="tabbing">      </td><td  
class="tabbing">#o235       ;То же самое, в восьмеричной системе</td></tr></table>
<!--l. 684--><p class="indent" >          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:148;" 
class="tabbing">      </td><td  
class="tabbing">#xD5       ;То же самое, в шестнадцатиричной системе</td></tr></table>
<!--l. 685--><p class="indent" >                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:148;" 
class="tabbing">  </td><td  
class="tabbing">#16r+D5       ;То же самое</td></tr></table>
<!--l. 686--><p class="indent" >   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:148;" 
class="tabbing">     </td><td  
class="tabbing">#o-300       ;Десятичное число -192, записанное восьмеричным числом</td></tr></table>
<!--l. 687--><p class="indent" >          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:148;" 
class="tabbing">  </td><td  
class="tabbing">#3r-21010       ;То же самое, в троичное системе счисления</td></tr></table>
<!--l. 688--><p class="indent" >                         <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:148;" 
class="tabbing">   </td><td  
class="tabbing">#25R-7H       ;То же самое с основанием 25</td></tr></table>
<!--l. 689--><p class="indent" >            <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:148;" 
class="tabbing"></td><td  
class="tabbing">#xACCEDED      ;181202413, в шестнадцатиричной системе</td></tr></table>
<!--l. 691--><p class="indent" >
                                                                          

                                                                          
</div>
</div>
<!--l. 693--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.1.2   </span> <a 
 id="x10-290002.1.2"></a>Ratios Дробные числа</h4>
<a 
 id="dx10-29001"></a>
<a 
 id="dx10-29002"></a>
<!--l. 697--><p class="noindent" >A <i>ratio</i> is a number representing the mathematical ratio of two integers. Integers
and ratios collectively constitute the type <a 
href="clmse71.html#x88-348002r252">rational</a>. The canonical representation
of a rational number is as an integer if its value is integral, and otherwise as the
ratio of two integers, the <i>numerator</i> and <i>denominator</i>, whose greatest common
divisor is 1, and of which the denominator is positive (and in fact greater than 1,
or else the value would be integral). A ratio is notated with <a 
href="clmse111.html#x136-594002r633">/</a> as a separator, thus:
3/5. It is possible to notate ratios in non-canonical (unreduced) forms, such as
4/6, but the Lisp function prin1 always prints the canonical form for a
ratio.
<i>
<!--l. 711--><p class="indent" >   Дробное число</i> - это число отображающее математическое отношение
между двумя целыми числами. Целые и дробные числа вместе составляют
тип рациональных (rational) чисел. Образцовое отображение дробных чисел -
это целое число, если значение целое, в противном случае это отношение двух
целых чисел, <i>числителя</i> и <i>знаменателя</i>, наибольший общий делитель
которых единица, в котором знаменатель положителен (и фактически
больший чем единица, иначе дробь является целым числом). Дробь
записывается с помощью разделителя <a 
href="clmse111.html#x136-594002r633">/</a>, так: 3/5. Есть возможность
использовать нестандартную запись такую, как 4/6, но Lisp функция prin1
всегда выводит дробь в стандартной форме.
<!--l. 723--><p class="indent" >   If any computation produces a result that is a ratio of two integers such that
the denominator evenly divides the numerator, then the result is immediately
converted to the equivalent integer. This is called the rule of <i>rational
canonicalization</i>.
<!--l. 728--><p class="indent" >   Если какое-либо вычисление привело к результату, являющемуся дробью
двух целых чисел, где знаменатель делит числитель нацело, тогда результат
немедленно преобразуется в эквивалентное целое число. Это называется
правилом <i>канонизации дробей</i>.
<!--l. 733--><p class="indent" >   Rational numbers may be written as the possibly signed quotient of decimal
                                                                          

                                                                          
numerals: an optional sign followed by two non-empty sequences of digits
separated by a <a 
href="clmse111.html#x136-594002r633">/</a>. This syntax may be described as follows:
<!--l. 738--><p class="indent" >   Дробные числа могут быть записаны так: опционально знак + или -, за
ним следуют две непустые последовательности цифр разделенных с помощью
<a 
href="clmse111.html#x136-594002r633">/</a> . Такой синтаксис может быть описан так:
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"><i>ratio</i> ::=  [<i><i>sign</i></i>]  {<i><i>digit</i></i>}+  <a 
href="clmse111.html#x136-594002r633">/</a>  {<i><i>digit</i></i>}+
</td></tr></table>
<!--l. 744--><p class="indent" >
</div>
<!--l. 746--><p class="indent" >   The second sequence may not consist entirely of zeros. For example:
<!--l. 750--><p class="indent" >   Вторая последовательность не может состоять только из нулей.
Например: <div class=lisp> <div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">2/3                    ;This is in canonical form
</td></tr></table>
<!--l. 753--><p class="indent" >     <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">4/6                    ;A non-canonical form for the same number</td></tr></table>
<!--l. 754--><p class="indent" >                    <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">-17/23                 ;A not very interesting ratio</td></tr></table>
<!--l. 755--><p class="indent" >                                <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">-30517578125/32768     ;This is (−5∕2)<sup>15</sup></td></tr></table>
<!--l. 756--><p class="indent" >                <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">10/5                   ;The canonical form for this is 2</td></tr></table>
<!--l. 758--><p class="indent" >
</div>
</div>
<div class=lisp>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">2/3                 ;Это каноническая запись
</td></tr></table>
<!--l. 761--><p class="indent" >
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">4/6                 ;Это неканоническая запись предыдущего числа</td></tr></table>
<!--l. 762--><p class="indent" >                       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">-17/23              ;Не очень интересная дробь</td></tr></table>
<!--l. 763--><p class="indent" >                                     <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">-30517578125/32768  ;Это (−5∕12)<sup>15</sup></td></tr></table>
                                                                          

                                                                          
<!--l. 764--><p class="indent" >                  <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">10/5                ;Это каноническая запись для 2</td></tr></table>
<!--l. 766--><p class="indent" >
</div>
</div>
<!--l. 768--><p class="indent" >   To notate rational numbers in radices other than ten, one uses the
same radix speciﬁers (one of #<i>nn</i>R, #O, #B, or #X) as for integers. For
example:
<!--l. 773--><p class="indent" >   Для задания дробей в системе счисления отличной от десятичной,
необходимо использовать спецификатор основания (один из #<i>nn</i>R, #O, #B
или #X) как и для целых чисел. Например:
<div class=lisp>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">#o-101/75          ;Octal notation for -65/61
</td></tr></table>
<!--l. 778--><p class="indent" >                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">#3r120/21          ;Ternary notation for 15/7</td></tr></table>
<!--l. 779--><p class="indent" >                 <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">#Xbc/ad            ;Hexadecimal notation for 188/173</td></tr></table>
<!--l. 780--><p class="indent" >
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">#xFADED/FACADE     ;Hexadecimal notation for 1027565/16435934</td></tr></table>
<!--l. 782--><p class="indent" >
</div>
</div>
<div class=lisp>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">#o-101/75         ;Восьмеричная запись для -65/61
</td></tr></table>
<!--l. 785--><p class="indent" >                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">#3r120/21         ;Третичная запись для 15/7</td></tr></table>
<!--l. 786--><p class="indent" >          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">#Xbc/ad           ;Шестнадцатиричная запись для 188/173</td></tr></table>
<!--l. 787--><p class="indent" >   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">#xFADED/FACADE    ;Шестнадцатиричная запись для 1027565/16435934</td></tr></table>
<!--l. 789--><p class="indent" >
</div>
</div>
                                                                          

                                                                          
<!--l. 791--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.1.3   </span> <a 
 id="x10-300002.1.3"></a>Floating-Point Numbers Числа с плавающей точкой</h4>
<!--l. 793--><p class="noindent" >Common Lisp allows an implementation to provide one or more kinds of
ﬂoating-point number, which collectively make up the type <a 
href="clmse71.html#x88-347002r251">ﬂoat</a>. Now a
ﬂoating-point number is a (mathematical) rational number of the form <i>s</i> ⋅<i>f</i> ⋅<i>b</i><sup>e−p</sup>,
where <i>s</i> is  + 1 or  − 1, the <i>sign</i>; <i>b</i> is an integer greater than 1, the <i>base</i> or <i>radix</i> of
the representation; <i>p</i> is a positive integer, the <i>precision</i> (in base-<i>b</i> digits) of the
ﬂoating-point number; <i>f </i> is a positive integer between <i>b</i><sup>p−1</sup> and <i>b</i><sup>p</sup> − 1 (inclusive),
the <i>signiﬁcand</i>; and <i>e</i> is an integer, the <i>exponent</i>. The value of <i>p</i> and the range of
<i>e</i> depends on the implementation and on the type of ﬂoating-point number within
that implementation. In addition, there is a ﬂoating-point zero; depending on the
implementation, there may also be a “minus zero.” If there is no minus
zero, then 0.0 and -0.0 are both interpreted as simply a ﬂoating-point
zero.
<!--l. 815--><p class="indent" >   Common Lisp позволяет реализации предоставлять один и более типов
чисел с плавающе точкой, которые все вместе составляют тип <a 
href="clmse71.html#x88-347002r251">ﬂoat</a>. Число с
плавающей точкой является (математически) рациональным числом формы
<i>s</i> ⋅<i>f</i> ⋅<i>b</i><sup>e−p</sup>, где <i>s</i>  + 1 или  − 1, является <i>знаком</i>; <i>b</i> целое число большее 1,
является <i>основанием</i> для представления; <i>p</i> положительное целое, является
<i>точностью</i> (количество цифр по основанию <i>b</i>) числа с плавающей точкой; <i>f </i>
положительное целое между <i>b</i><sup>p−1</sup> и <i>b</i><sup>p</sup> − 1 (включительно), является
мантиссой; и <i>e</i> целое число, является экспонентой. Значение <i>p</i> и интервал <i>e</i>
зависит от реализации, также может быть «минус ноль». Если «минус ноль»
отсутствует, тогда 0.0 и -0.0 оба интепретируются, как ноль с плавающей
точкой.
<div class=implementation>
<!--l. 832--><p class="noindent" ><span class="paragraphHead"><a 
 id="x10-310002.1.3"></a></span>
   <b>Implementation note:</b> The form of the above description should not be
construed to require the internal representation to be in sign-magnitude form.
Two&#x2019;s-complement and other representations are also acceptable. Note that the
radix of the internal representation may be other than 2, as on the IBM 360 and
370, which use radix 16; see <a 
href="clmse71.html#x88-353006r268">ﬂoat-radix</a>.
<!--l. 839--><p class="noindent" ><span class="paragraphHead"><a 
 id="x10-320002.1.3"></a>
<!--l. 839--><p class="indent" >   </span>
                                                                          

                                                                          
   implementation
</div>
<!--l. 842--><p class="indent" >   Floating-point numbers may be provided in a variety of precisions
and sizes, depending on the implementation. High-quality ﬂoating-point
software tends to depend critically on the precise nature of the ﬂoating-point
arithmetic and so may not always be completely portable. As an aid in writing
programs that are moderately portable, however, certain deﬁnitions are made
here:
<!--l. 849--><p class="indent" >   Числа с плавающей точкой могут предоставляться с различными
точностями и размерами, в зависимости от реализации. Высококачественные
программы с вычислениями с плавающей точкой зависят от того, какая
точность предоставляется, и не всегда могут быть полностью перенесимы.
Для содействия по умеренной переносимости программ, сделаны следующие
определения:
      <ul class="itemize1">
      <li class="itemize">A <i>short</i> ﬂoating-point number (type short-ﬂoat) is of the representation
      of smallest ﬁxed precision provided by an implementation.
      </li>
      <li class="itemize"><i>Короткий</i> тип числа с плавающей точкой (тип short-ﬂoat) является
      представлением  числа  с  наименьшей  фиксированной  точностью,
      предоставляемого реализацией.
      </li>
      <li class="itemize">A <i>long</i> ﬂoating-point number (type long-ﬂoat) is of the representation
      of the largest ﬁxed precision provided by an implementation.
      </li>
      <li class="itemize"><i>Длинный</i> тип числа с плавающей точкой (тип long-ﬂoat) является
      представлением  числа  с  наибольшей  фиксированной  точностью,
      предоставляемого реализацией.
      </li>
      <li class="itemize">Intermediate between short and long formats are two others, arbitrarily
      called <i>single</i> and <i>double</i> (types single-ﬂoat and double-ﬂoat).
      </li>
      <li class="itemize">Промежуточными   форматами   между   коротким   и   длинным
      форматами является два других формата, называемых <i>одинарный</i>
                                                                          

                                                                          
      и <i>двойной</i> (типы single-ﬂoat и double-ﬂoat).</li></ul>
<!--l. 882--><p class="indent" >   The precise deﬁnition of these categories is implementation-dependent.
However, the rough intent is that short ﬂoating-point numbers be precise to at
least four decimal places (but also have a space- eﬃcient representation); single
ﬂoating-point numbers, to at least seven decimal places; and double ﬂoating-point
numbers, to at least fourteen decimal places. It is suggested that the precision
(measured in bits, computed as p log <sub>2</sub>b) and the exponent size (also measured in
bits, computed as the base-2 logarithm of 1 plus the maximum exponent value) be
at least as great as the values in table <a 
href="#x10-240011">2.1<!--tex4ht:ref: Floating-Format-Requirements-Table --></a>.
<!--l. 894--><p class="indent" >   Определение точности для этих категорий зависит от реализации. Однако,
примерная цель, что короткий тип с плавающий точкой должен содержать
точность, как минимум 4 позиции после запятой (и также должен иметь
эффективное представление в памяти); одинарный тип с плавающей точкой –
как минимум 7 знаков после запятой; двойной тип с плавающей точкой – как
минимум 14 знаков после запятой. Предполагается, что размер точности
(измеряется в битах и рассчитывается как p log <sub>2</sub>b) и экспоненты (измеряется
в битах и рассчитывается как логарифм с основанием 2 от (1 плюс
максимальное значение экспоненты) должен быть как минимум таким же
большим как значения из таблицы <a 
href="#x10-240022">2.2<!--tex4ht:ref: Floating-Format-Requirements-Table-ru --></a>.
   <div class="table">
                                                                          

                                                                          
<!--l. 904--><p class="indent" >   <a 
 id="x10-240011"></a><hr class="float"><div class="float" 
>
                                                                          

                                                                          
 <div class="caption" 
><span class="id">Table 2.1: </span><span  
class="content">Recommended Minimum Floating-Point Precision and Exponent
Size</span></div><!--tex4ht:label?: x10-320011 -->
<div class="tabular"><table width="100%"><tr><td align="left" >Format   </td><td align="left" >Minimum Precision   </td><td align="left" >Minimum Exponent Size</td>
</tr><tr><td align="left" >Short     </td><td align="left" >13 bits                    </td><td align="left" >5 bits                         </td></tr><tr><td align="left" >Single </td><td align="left" >24 bits </td><td align="left" >8 bits</td>
</tr><tr><td align="left" >Double   </td><td align="left" >50 bits                    </td><td align="left" >8 bits                         </td>
</tr><tr><td align="left" >Long      </td><td align="left" >50 bits                    </td><td align="left" >8 bits                         </td></tr></table></div>
                                                                          

                                                                          
   </div><hr class="endfloat" />
   </div>
   <div class="table">
                                                                          

                                                                          
<!--l. 916--><p class="indent" >   <a 
 id="x10-240022"></a><hr class="float"><div class="float" 
>
                                                                          

                                                                          
 <div class="caption" 
><span class="id">Table 2.2: </span><span  
class="content">Рекомендуемый размер для точности и экспоненты для типа
с плавающей точкой</span></div><!--tex4ht:label?: x10-320022 -->
<div class="tabular"><table width="100%"><tr><td align="left" >Формат    </td><td align="left" >Минимальная точность   </td><td align="left" >Минимальный размер экспоненты</td>
</tr><tr><td align="left" >Короткое  </td><td align="left" >13 бит                           </td><td align="left" >5 бит                                        </td>
</tr><tr><td align="left" >Одинарное</td><td align="left" >24 бит                           </td><td align="left" >8 бит                                        </td>
</tr><tr><td align="left" >Двойное    </td><td align="left" >50 бит                           </td><td align="left" >8 бит                                        </td>
</tr><tr><td align="left" >Длинное   </td><td align="left" >50 бит                           </td><td align="left" >8 бит                                        </td></tr></table></div>
                                                                          

                                                                          
   </div><hr class="endfloat" />
   </div>
<!--l. 928--><p class="indent" >   Floating-point numbers are written in either decimal fraction or computerized
scientiﬁc notation: an optional sign, then a non-empty sequence of digits
with an embedded decimal point, then an optional decimal exponent
speciﬁcation. If there is no exponent speciﬁer, then the decimal point is
required, and there must be digits after it. The exponent speciﬁer consists
of an exponent marker, an optional sign, and a non-empty sequence of
digits. For preciseness, here is a modiﬁed-BNF description of ﬂoating-point
notation.
<!--l. 940--><p class="indent" >   Числа с плавающей точкой записываются в двух формах десятичной
дробью и компьютеризированной научной записью: необязательный знак,
затем непустая последовательность цифр с встроенной точкой, затем
необязательная часть определения экспоненты. Если определения экспоненты
нет, тогда требуется точка, и после нее должны быть цифры. Определение
экспоненты составляется из маркера экспоненты, необязательного знака и
непустой последовательности цифр. Для ясности приведена БНФ для записи
чисел с плавающей точкой. <div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:201;" 
class="tabbing"><i>ﬂoating-point-number</i> ::= </td><td  
class="tabbing"> [<i><i>sign</i></i>]  {<i><i>digit</i></i>}*  decimal-point {<i><i>digit</i></i>}+  [<i><i>exponent</i></i>]
</td></tr></table>
<!--l. 951--><p class="indent" >   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:201;" 
class="tabbing">                                  </td><td  
class="tabbing">|  [<i>sign</i>]  {<i><i>digit</i></i>}+  [<i><i>decimal-point</i>  {<i><i>digit</i></i>}*</i>]  exponent</td></tr></table>
<!--l. 954--><p class="indent" >                                                             <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"><i>sign</i> ::= <a 
href="clmse111.html#x136-591002r626">+</a> | <a 
href="clmse111.html#x136-592002r629">-</a></td></tr></table>
<!--l. 955--><p class="indent" >                                                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"><i>decimal-point</i> ::= .</td></tr></table>
<!--l. 956--><p class="indent" >                                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"><i>digit</i> ::= 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9</td></tr></table>
<!--l. 958--><p class="indent" >                            <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"><i>exponent</i> ::= <i>exponent-marker</i> [<i><i>sign</i></i>]  {<i><i>digit</i></i>}+ </td></tr></table>
<!--l. 959--><p class="indent" >                       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"><i>exponent-marker</i> ::= e | s | <a 
href="clmse151.html#x184-936004r906">f</a> | d | l | E | S | F | D | L</td></tr></table>
<!--l. 963--><p class="indent" >
</div>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:257;" 
class="tabbing"><i>число-с-плавающей-точкой</i> ::= </td><td  
class="tabbing"> [<i><i>знак</i></i>]  {<i><i>цифра</i></i>}*  точка {<i><i>цифра</i></i>}+  [<i><i>экспонента</i></i>]
</td></tr></table>
<!--l. 967--><p class="indent" >   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:257;" 
class="tabbing">                                            </td><td  
class="tabbing">|  [<i>знак</i>]  {<i><i>цифра</i></i>}+  [<i><i>точка</i>  {<i><i>цифра</i></i>}*</i>]  экспонента</td></tr></table>
<!--l. 970--><p class="indent" >                                                            <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"><i>знак</i> ::= <a 
href="clmse111.html#x136-591002r626">+</a> | <a 
href="clmse111.html#x136-592002r629">-</a></td></tr></table>
<!--l. 971--><p class="indent" >                                                               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"><i>точка</i> ::= .</td></tr></table>
                                                                          

                                                                          
<!--l. 972--><p class="indent" >                                 <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"><i>цифра</i> ::= 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9</td></tr></table>
<!--l. 974--><p class="indent" >                  <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"><i>экспонента</i> ::= <i>маркер-экспоненты</i> [<i><i>знак</i></i>]  {<i><i>цифра</i></i>}+ </td></tr></table>
<!--l. 975--><p class="indent" >                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing"><i>маркер-экспоненты</i> ::= e | s | <a 
href="clmse151.html#x184-936004r906">f</a> | d | l | E | S | F | D | L</td></tr></table>
<!--l. 979--><p class="indent" >
</div>
<!--l. 980--><p class="noindent" >If no exponent speciﬁer is present, or if the exponent marker e (or E) is used, then
the precise format to be used is not speciﬁed. When such a representation is read
and converted to an internal ﬂoating-point data object, the format speciﬁed by
the variable *read-default-ﬂoat-format* is used; the initial value of this variable is
single-ﬂoat.
<!--l. 987--><p class="indent" >   Если определение экспоненты отсутствует или если используется маркер
экспоненты e (или E), тогда используемые формат точности не задан. Когда
такое представление считывается и конвертируется во внутренний формат
объекта числа с плавающей точкой, формат задается с помощью переменной
*read-default-ﬂoat-format*; первоначальное значение данной переменной
single-ﬂoat.
<!--l. 994--><p class="indent" >   The letters s, <a 
href="clmse151.html#x184-936004r906">f</a>, d, and l (or their respective uppercase equivalents) explicitly
specify the use of <i>short</i>, <i>single</i>, <i>double</i>, and <i>long</i> format, respectively.
<!--l. 998--><p class="indent" >   Буквы s, <a 
href="clmse151.html#x184-936004r906">f</a>, d и l (или их эквиваленты в верхнем регистре) явно
задают использование типа: <i>короткий</i>, <i>одинарный</i>, <i>двойной</i> и <i>длинный</i>,
соответственно.
<!--l. 1002--><p class="indent" >   Examples of ﬂoating-point numbers: <div class=lisp> <div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">0.0                         ;Floating-point zero in default format
</td></tr></table>
<!--l. 1004--><p class="indent" >
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">0E0                         ;Also ﬂoating-point zero in default format</td></tr></table>
<!--l. 1005--><p class="indent" >      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">-.0                         ;This may be a zero or a minus zero,</td></tr></table>
<!--l. 1006--><p class="indent" >       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">                            ; depending on the implementation</td></tr></table>
<!--l. 1007--><p class="indent" >   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">0.                          ;The <i>integer</i> zero, not a ﬂoating-point zero!</td></tr></table>
<!--l. 1008--><p class="indent" >      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">0.0s0                       ;A ﬂoating-point zero in <i>short</i> format</td></tr></table>
<!--l. 1009--><p class="indent" >
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">0s0                         ;Also a ﬂoating-point zero in <i>short</i> format</td></tr></table>
<!--l. 1010--><p class="indent" >       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">3.1415926535897932384d0     ;A <i>double</i>-format approximation to π</td></tr></table>
<!--l. 1011--><p class="indent" >    <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">6.02E+23                    ;Avogadro&#x2019;s number, in default format</td></tr></table>
<!--l. 1012--><p class="indent" >   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">602E+21                     ;Also Avogadro&#x2019;s number, in default format</td></tr></table>
                                                                          

                                                                          
<!--l. 1013--><p class="indent" >                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">3.010299957f-1              ; log <sub>10</sub>2, in <i>single</i> format</td></tr></table>
<!--l. 1014--><p class="indent" >          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">-0.000000001s9              ;e<sup>πi</sup> in <i>short</i> format, the hard way</td></tr></table>
<!--l. 1016--><p class="indent" >
</div>
</div>
<!--l. 1018--><p class="indent" >   Examples of ﬂoating-point numbers: <div class=lisp> <div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">0.0                         ;Ноль с плавающей точкой в формате по умолчанию
</td></tr></table>
<!--l. 1020--><p class="indent" >   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">0E0                         ;Также ноль с плавающей точкой в формате по умолчанию</td></tr></table>
<!--l. 1021--><p class="indent" >   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">-.0                         ;Это может быть нулем или минус нулем</td></tr></table>
<!--l. 1022--><p class="indent" >          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">                            ; в зависимости от реализации</td></tr></table>
<!--l. 1023--><p class="indent" >
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">0.                          ;<i>Целый</i> ноль, не с плавающей точкой!</td></tr></table>
<!--l. 1024--><p class="indent" >   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">0.0s0                       ;Ноль с плавающей точкой в <i>коротком</i> формате</td></tr></table>
<!--l. 1025--><p class="indent" >   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">0s0                         ;Также ноль с плавающей точкой в <i>коротком</i> формате</td></tr></table>
<!--l. 1026--><p class="indent" >   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">3.1415926535897932384d0     ;Аппроксиммация числе пи в <i>двойном</i> формате</td></tr></table>
<!--l. 1027--><p class="indent" >   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">6.02E+23                    ;Число Авогадро в формате по умолчанию</td></tr></table>
<!--l. 1028--><p class="indent" >   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">602E+21                     ;Также число Авогадро в формате по умолчанию</td></tr></table>
<!--l. 1029--><p class="indent" >            <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">3.010299957f-1              ; log <sub>10</sub>2, в <i>одинарном</i> формате</td></tr></table>
<!--l. 1030--><p class="indent" >                  <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">-0.000000001s9              ;e<sup>πi</sup> в коротком формате</td></tr></table>
<!--l. 1032--><p class="indent" >
</div>
</div>
<div class=new>
<i>
<!--l. 1035--><p class="indent" >   Notice of correction.</i> The ﬁrst edition unfortunately listed an incorrect value
(3.1010299957f-1) for the base-10 logarithm of 2.
</div>
<!--l. 1040--><p class="indent" >   The internal format used for an external representation depends only on the
exponent marker and not on the number of decimal digits in the external
representation.
<!--l. 1044--><p class="indent" >   Внутренний формат использует для внешнего представления в только от
маркера экспоненты и не учитывает количество знаков после запятой во
внешнем представлении.
                                                                          

                                                                          
<!--l. 1048--><p class="indent" >   While Common Lisp provides terminology and notation suﬃcient to
accommodate four distinct ﬂoating-point formats, not all implementations will
have the means to support that many distinct formats. An implementation is
therefore permitted to provide fewer than four distinct internal ﬂoating-point
formats, in which case at least one of them will be “shared” by more than one of
the external format names <i>short</i>, <i>single</i>, <i>double</i>, and <i>long</i> according to the
following rules:
<!--l. 1058--><p class="indent" >   Тогда как Common Lisp предоставляет терминологию и систему
обозначений для включения 4 различных типов чисел с плавающей точкой,
не все реализации будет иметь намерения для поддержки такого большого
количества типов. Реализация разрешается предоставлять меньшее, чем 4,
количество внутренних форматов чисел с плавающей точкой, в таком случае
как минимум один из этих типов будет «общим» для более одного внешнего
имени <i>короткого</i>, <i>одинарного</i>, <i>двойного</i>, and <i>длинного</i> в соответствии со
следующими правилами:
      <ul class="itemize1">
      <li class="itemize">If  one  internal  format  is  provided,  then  it  is  considered  to  be
      <i>single</i>,  but  serves  also  as  <i>short</i>,  <i>double</i>,  and  <i>long</i>.  The  data  types
      short-ﬂoat, single-ﬂoat, double-ﬂoat, and long-ﬂoat are considered to
      be identical. An expression such as (eql 1.0s0 1.0d0) will be true in
      such  an  implementation  because  the  two  numbers  1.0s0  and  1.0d0
      will  be  converted  into  the  same  internal  format  and  therefore  be
      considered to have the same data type, despite the diﬀering external
      syntax. Similarly, (typep 1.0L0 &#x2019;short-ﬂoat) will be true in such an
      implementation. For output purposes all ﬂoating-point numbers are
      assumed to be of <i>single</i> format and thus will print using the exponent
      letter E or F.
      </li>
      <li class="itemize">If two internal formats are provided, then either of two correspondences may
      be used, depending on which is the more appropriate:
           <ul class="itemize2">
           <li class="itemize">One format is <i>short</i>; the other is <i>single</i> and serves also as <i>double</i>
           and <i>long</i>. The data types single-ﬂoat, double-ﬂoat, and long-ﬂoat
           are  considered  to  be  identical,  but  short-ﬂoat  is  distinct.  An
           expression such as (eql 1.0s0 1.0d0) will be false, but (eql 1.0f0
           1.0d0) will be true. Similarly, (typep 1.0L0 &#x2019;short-ﬂoat) will be
                                                                          

                                                                          
           false,  but  (typep  1.0L0  &#x2019;single-ﬂoat)  will  be  true.  For  output
           purposes all ﬂoating-point numbers are assumed to be of <i>short</i> or
           <i>single</i> format.
           </li>
           <li class="itemize">One format is <i>single</i> and serves also as <i>short</i>; the other is <i>double</i>
           and serves also as <i>long</i>. The data types short-ﬂoat and single-ﬂoat
           are considered to be identical, and the data types double-ﬂoat and
           long-ﬂoat are considered to be identical. An expression such as
           (eql 1.0s0 1.0d0) will be false, as will (eql 1.0f0 1.0d0); but (eql
           1.0d0 1.0L0) will be true. Similarly, (typep 1.0L0 &#x2019;short-ﬂoat) will
           be false, but (typep 1.0L0 &#x2019;double-ﬂoat) will be true. For output
           purposes all ﬂoating-point numbers are assumed to be of <i>single</i> or
           <i>double</i> format.</li></ul>
      </li>
      <li class="itemize">If three internal formats are provided, then either of two correspondences
      may be used, depending on which is the more appropriate:
           <ul class="itemize2">
           <li class="itemize">One format is <i>short</i>; another format is <i>single</i>; and the third format
           is <i>double</i> and serves also as <i>long</i>. Similar constraints apply.
           </li>
           <li class="itemize">One format is <i>single</i> and serves also as <i>short</i>; another is <i>double</i>;
           and the third format is <i>long</i>.</li></ul>
      </li></ul>
<div class=implementation>
<!--l. 1129--><p class="noindent" ><span class="paragraphHead"><a 
 id="x10-330002.1.3"></a></span>
   <b>Implementation note:</b> It is recommended that an implementation provide
as many distinct ﬂoating-point formats as feasible, using table <a 
href="#x10-240011">2.1<!--tex4ht:ref: Floating-Format-Requirements-Table --></a> as a
guideline. Ideally, short-format ﬂoating-point numbers should have an
“immediate” representation that does not require heap allocation; single-format
ﬂoating-point numbers should approximate IEEE proposed standard single-format
ﬂoating-point numbers; and double-format ﬂoating-point numbers should
approximate IEEE proposed standard double-format ﬂoating-point numbers
<span class="cite">[<a 
href="clmli5.html#XIEEE-PROPOSED-FLOATING-POINT-STANDARD">23</a>, <a 
href="clmli5.html#XIEEE-FLOATING-POINT-IMPL-GUIDE">17</a>, <a 
href="clmli5.html#XIEEE-FLOATING-POINT-IMPL-GUIDE-ERRATA">16</a>]</span>.
                                                                          

                                                                          
<!--l. 1141--><p class="noindent" ><span class="paragraphHead"><a 
 id="x10-340002.1.3"></a>
<!--l. 1141--><p class="indent" >   </span>
   implementation
</div>
<!--l. 1145--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.1.4   </span> <a 
 id="x10-350002.1.4"></a>Complex Numbers Комплексные числа</h4>
<!--l. 1147--><p class="noindent" >Complex numbers (type <a 
href="clmse71.html#x88-354002r273">complex</a>) are represented in Cartesian form, with a real
part and an imaginary part, each of which is a non-complex number (integer,
ratio, or ﬂoating-point number). It should be emphasized that the parts of a
complex number are not necessarily ﬂoating-point numbers; in this, Common Lisp
is like PL/I and diﬀers from Fortran. However, both parts must be of the
same type: either both are rational, or both are of the same ﬂoating-point
format.
<!--l. 1156--><p class="indent" >   Комплексные числа (тип <a 
href="clmse71.html#x88-354002r273">complex</a>) представляются в алгебраической
форме, с действительной и мнимой частями, каждая из которых является
некомплексным числом (целым, дробным, или с плавающей точкой). Следует
отметить, что части комплексного числа не обязательно числа с плавающей
точкой; в это Common Lisp похож на PL/I и отличается от Fortran&#x2019;а. Однако
обе части должны быть одного типа: обе рациональные, или обе какого-либо
формата с плавающей точкой.
<!--l. 1164--><p class="indent" >   Complex numbers may be notated by writing the characters #C followed by a
list of the real and imaginary parts. If the two parts as notated are not of the
same type, then they are converted according to the rules of ﬂoating-point
contagion as described in chapter <a 
href="clmch12.html#x82-30800012">12<!--tex4ht:ref: NUMBER --></a>. (Indeed, #C(<i>a</i> <i>b</i>) is equivalent
to #,(complex <i>a</i> <i>b</i>); see the description of the function <a 
href="clmse71.html#x88-354002r273">complex</a>.) For
example:
<!--l. 1173--><p class="indent" >   Комплексные числа могут быть обозначены с помощью записи символа
#C с последующим списком действительной и мнимой частей. Если две
части, как было отмечено, не принадлежат одному типу, тогда они будут
преобразованы в соотвествии с правилами преобразования чисел с
плавающей точкой описанными в главе <a 
href="clmch12.html#x82-30800012">12<!--tex4ht:ref: NUMBER --></a>. <div class=lisp> <div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">#C(3.0s1 2.0s-1)     ;Real and imaginary parts are short format
</td></tr></table>
<!--l. 1179--><p class="indent" >                               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">#C(5 -3)             ;A Gaussian integer</td></tr></table>
                                                                          

                                                                          
<!--l. 1180--><p class="indent" >
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">#C(5/3 7.0)          ;Will be converted internally to #C(1.66666 7.0)</td></tr></table>
<!--l. 1181--><p class="indent" >                    <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">#C(0 1)              ;The imaginary unit, that is, <i>i</i></td></tr></table>
<!--l. 1183--><p class="indent" >
</div>
</div>
<div class=lisp>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">#C(3.0s1 2.0s-1)     ;Действительная и мнимая части в коротком формате
</td></tr></table>
<!--l. 1186--><p class="indent" >                                    <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">#C(5 -3)             ;Целое Гаусса</td></tr></table>
<!--l. 1187--><p class="indent" >         <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">#C(5/3 7.0)          ;Будет преобразовано в #C(1.66666 7.0)</td></tr></table>
<!--l. 1188--><p class="indent" >                             <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">#C(0 1)              ;Мнимая единица, <i>i</i></td></tr></table>
<!--l. 1190--><p class="indent" >
</div>
</div>
<!--l. 1192--><p class="indent" >   The type of a speciﬁc complex number is indicated by a list of the
word <a 
href="clmse71.html#x88-354002r273">complex</a> and the type of the components; for example, a specialized
representation for complex numbers with short ﬂoating-point parts would be of
type (complex short-ﬂoat). The type <a 
href="clmse71.html#x88-354002r273">complex</a> encompasses all complex
representations.
<!--l. 1198--><p class="indent" >   Тип заданного комплексного числа определяется с помощью списка:
слова <a 
href="clmse71.html#x88-354002r273">complex</a> и типа компонентов; например, специализированное
представление для комплексных чисел с частями принадлежащими
типу короткое с плавающей точкой, будет выглядеть так (complex
short-ﬂoat). Тип <a 
href="clmse71.html#x88-354002r273">complex</a> включает все представления комплексных
типов.
<!--l. 1204--><p class="indent" >   A complex number of type (complex rational), that is, one whose components
are rational, can never have a zero imaginary part. If the result of a computation
would be a complex rational with a zero imaginary part, the result is
immediately converted to a non-complex rational number by taking the real
part. This is called the rule of <i>complex canonicalization</i>. This rule does
not apply to ﬂoating-point complex numbers; #C(5.0 0.0) and 5.0 are
diﬀerent.
                                                                          

                                                                          
<!--l. 1213--><p class="indent" >   Комплексное число типа (complex rational), в котором части принадлежат
дробному типу, никогда не может содержать нулевую мнимую часть. Если
в результате вычислений получится комплексное число с нулевой
мнимой частью, то данное число будет автоматически сконвертировано в
некомплексное дробное число, равное действительной часть исходного числа.
Это называется правилом канонизации комплексного числа. Данное правило
не применяется для комплексных чисел с плавающими точками; #C(5.0 0.0)
и 5.0 различные числа.
                                                                          

                                                                          
   <!--l. 1223--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse4.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch2.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch2.html#tailclmch2.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse3.html" >Front</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch2.html#clmse3.html" >Up</a><tt>&#x003E;</tt></p></div>
<!--l. 1223--><p class="indent" >   <a 
 id="tailclmse3.html"></a>  
</body></html> 

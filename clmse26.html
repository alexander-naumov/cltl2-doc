<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Определение типа объекта</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,next,charset=utf-8,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-03-14 15:35:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
</head><body 
>
   <!--l. 1798--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse27.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse25.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse25.html#tailclmse25.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse26.html">Tail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch4.html#clmse26.html" >Up</a><tt>&#x003E;</tt></p></div>
   <h3 class="sectionHead"><span class="titlemark">4.9   </span> <a 
 id="x35-540004.9"></a>Определение типа объекта</h3>
<!--l. 1800--><p class="noindent" >Следующие функции могут быть использованы для получения спецификатора,
обозначающего тип заданного объекта.
<div class=defun>
<!--l. 1803--><p class="noindent" ><i>[Function]</i><a 
 id="dx35-54001"></a><a 
 id="x35-54002r8"></a><b> type-of</b>  <i>object</i>
<!--l. 1805--><p class="noindent" >
<div class=new>
      <ul class="itemize1">
      <li class="itemize">Пусть <i>x</i> является объектом, и (typep <i>x</i> <i>тип</i>) вычисляется в true, и
      <i>тип</i> один из:
      <div class="flushleft" 
>
<!--l. 1813--><p class="noindent" >
 <!--tex4ht:inline--><div class="tabular"><table width="100%"><tr><td align="left" >array            </td><td align="left" >ﬂoat          </td><td align="left" >package          </td><td align="left" >sequence   </td>
</tr><tr><td align="left" >bit-vector      </td><td align="left" >function     </td><td align="left" >pathname        </td><td align="left" >short-ﬂoat </td>
</tr><tr><td align="left" >character       </td><td align="left" >hash-table  </td><td align="left" >random-state  </td><td align="left" >single-ﬂoat</td>
</tr><tr><td align="left" >complex        </td><td align="left" >integer       </td><td align="left" >ratio              </td><td align="left" >stream     </td>
</tr><tr><td align="left" >condition       </td><td align="left" >long-ﬂoat  </td><td align="left" >rational          </td><td align="left" >string       </td>
</tr><tr><td align="left" >cons             </td><td align="left" >null           </td><td align="left" >readtable        </td><td align="left" >symbol     </td>
</tr><tr><td align="left" >double-ﬂoat  </td><td align="left" >number      </td><td align="left" >restart            </td><td align="left" >vector      </td></tr></table>
</div></div>
      </li>
      <li class="itemize">Для любого объекта <i>x</i>, (subtypep (type-of <i>x</i>) (class-of <i>x</i>)) должно вернуть
      значения <a 
href="clmse31.html#x42-74004r19">t</a> и <a 
href="clmse31.html#x42-74004r19">t</a>.
      </li>
      <li class="itemize">Для каждого объекта <i>x</i>, (typep <i>x</i> (type-of <i>x</i>)) должно быть true. (Это
      означает, что <a 
href="#x35-54002r8">type-of</a> никогда не может вернуть <a 
href="clmse31.html#x42-74002r18">nil</a>, так как нет
      объектов принадлежащий типу <a 
href="clmse31.html#x42-74002r18">nil</a>.)
                                                                          

                                                                          
      </li>
      <li class="itemize"><a 
href="#x35-54002r8">type-of</a> никогда не возвращает <a 
href="clmse31.html#x42-74004r19">t</a> и никогда не использует
      спецификаторы типа satisﬁes, <a 
href="clmse34.html#x45-79004r49">and</a>, <a 
href="clmse34.html#x45-80002r50">or</a>, <a 
href="clmse34.html#x45-79002r48">not</a> или <a 
href="clmse43.html#x55-131002r105">values</a> в качестве
      результата.
      </li>
      <li class="itemize">Для объектов CLOS метакласса structure-class или standard-class, <a 
href="#x35-54002r8">type-of</a>
      возвращает имя класса, получаемое с помощью <a 
href="clmse148.html#x181-416018r880">class-of</a>, если оно
      имеется, в противном случае возвращается сам класс. В частности, для
      любого объекта созданного с помощью <a 
href="clmse101.html#x125-230002r585">defstruct</a> функции-конструктора,
      и <a 
href="clmse101.html#x125-230002r585">defstruct</a> имело имя <i>name</i> и не имело опции :type, <a 
href="#x35-54002r8">type-of</a> вернёт
      <i>name</i>.</li></ul>
<!--l. 1850--><p class="indent" >   В качестве примера, (type-of &#x0022;acetylcholinesterase&#x0022;) может вернуть <a 
href="clmse99.html#x122-227022r584">string</a>
или simple-string или (simple-string  20), но не array или simple-vector. Другой
пример, (type-of 1729) может вернуть integer или ﬁxnum или (signed-byte 16)
или (integer 1729 1729) или (integer 1685 1750) или даже (mod 1730), но не
<a 
href="clmse68.html#x85-187004r220">rational</a> или number, потому что <div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(typep (+ (expt 9 3) (expt 10 3)) &#x2019;integer)
</td></tr></table>
<!--l. 1858--><p class="indent" >
</div>
</div>
<!--l. 1859--><p class="noindent" >является true, integer содержится в списке упомянутом выше, и <div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(subtypep (type-of (+ (expt 1 3) (expt 12 3))) &#x2019;integer)
</td></tr></table>
<!--l. 1862--><p class="indent" >
</div>
</div>
<!--l. 1863--><p class="noindent" >будет false, если <a 
href="#x35-54002r8">type-of</a> вернёт <a 
href="clmse68.html#x85-187004r220">rational</a> или number.
</div>
</div>
                                                                          

                                                                          
   <!--l. 1868--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse27.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse25.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse25.html#tailclmse25.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse26.html" >Front</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch4.html#clmse26.html" >Up</a><tt>&#x003E;</tt></p></div>
<!--l. 1868--><p class="indent" >   <a 
 id="tailclmse26.html"></a>  
</body></html> 

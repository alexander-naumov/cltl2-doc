<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Array Access</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,next,charset=utf-8,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-02-20 00:42:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
</head><body 
>
   <!--l. 312--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse96.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse94.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse94.html#tailclmse94.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse95.html">Tail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch17.html#clmse95.html" >Up</a><tt>&#x003E;</tt></p></div>
   <h3 class="sectionHead"><span class="titlemark">17.2   </span> <a 
 id="x117-15900017.2"></a>Array Access</h3>
<!--l. 314--><p class="noindent" >The function <i>aref </i> is normally used for accessing an element of an array. Other
access functions, such as <i>svref </i>, <i>char</i>, and <i>bit</i>, may be more eﬃcient in specialized
circumstances.
<div class=defun>
<!--l. 319--><p class="noindent" > <i>[Function]</i>   <b>aref</b> <a 
 id="dx117-159001"></a><a 
 id="x117-159002r562"></a>   <i>array</i>  <b>&#x0026;rest</b>  subscripts
<!--l. 321--><p class="noindent" >This accesses and returns the element of array speciﬁed by the subscripts.
The number of subscripts must equal the rank of the array, and each
subscript must be a non-negative integer less than the corresponding array
dimension.
<i>
<!--l. 327--><p class="indent" >   aref </i> is unusual among the functions that operate on arrays in that it
completely ignores ﬁll pointers. <i>aref </i> can access without error any array element,
whether active or not. The generic sequence function <i>elt</i>, however, observes the
ﬁll pointer; accessing an element beyond the ﬁll pointer with <i>elt</i> is an
error.
<div class=new>
<!--l. 334--><p class="indent" >   Note that this remark, predating the design of the Common Lisp Object
System, uses the term “generic” in a generic sense and not necessarily in the
technical sense used by CLOS (see chapter <a 
href="clmch2.html#x9-150002">2<!--tex4ht:ref: DTYPES --></a>).
</div>
<i>
<!--l. 340--><p class="indent" >   setf </i> may be used with <i>aref </i> to destructively replace an array element with a
new value.
<!--l. 343--><p class="indent" >   Under some circumstances it is desirable to write code that will extract an
element from an array <i>a</i> given a list <i>z</i> of the indices, in such a way that the
code works regardless of the rank of the array. This is easy using <i>apply</i>: <div class=lisp>
<div class=tabbing>
                                                                          

                                                                          
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(apply #&#x2019;aref a z)
</td></tr></table>
<!--l. 349--><p class="indent" >
</div>
</div>
<!--l. 350--><p class="noindent" >(The length of the list must of course equal the rank of the array.) This construction
may be used with <i>setf </i> to alter the element so selected to some new value <i>w</i>: <div class=lisp>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(setf (apply #&#x2019;aref a z) w)
</td></tr></table>
<!--l. 355--><p class="indent" >
</div>
</div>
</div>
<div class=defun>
<!--l. 358--><p class="noindent" > <i>[Function]</i>   <b>svref</b> <a 
 id="dx117-159003"></a><a 
 id="x117-159004r563"></a>   <i>simple-vector</i>  <i>index</i>
<!--l. 360--><p class="noindent" >The ﬁrst argument must be a simple general vector, that is, an object of type
<i>simple-vector</i>. The element of the simple-vector speciﬁed by the integer index is
returned.
<!--l. 366--><p class="indent" >   The index must be non-negative and less than the length of the vector.
<i>
<!--l. 369--><p class="indent" >   setf </i> may be used with <i>svref </i> to destructively replace a simple-vector element
with a new value.
<i>
<!--l. 372--><p class="indent" >   svref </i> is identical to <i>aref </i> except that it requires its ﬁrst argument to be a
simple vector. In some implementations of Common Lisp, <i>svref </i> may be
faster than <i>aref </i> in situations where it is applicable. See also <i>schar</i> and
<i>sbit</i>.
</div>
                                                                          

                                                                          
   <!--l. 378--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse96.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse94.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse94.html#tailclmse94.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse95.html" >Front</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch17.html#clmse95.html" >Up</a><tt>&#x003E;</tt></p></div>
<!--l. 378--><p class="indent" >   <a 
 id="tailclmse95.html"></a>  
</body></html> 

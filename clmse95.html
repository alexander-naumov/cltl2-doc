<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Array Access</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,next,charset=utf-8,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-03-09 12:51:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
</head><body 
>
   <!--l. 315--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse96.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse94.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse94.html#tailclmse94.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse95.html">Tail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch17.html#clmse95.html" >Up</a><tt>&#x003E;</tt></p></div>
   <h3 class="sectionHead"><span class="titlemark">17.2   </span> <a 
 id="x117-23900017.2"></a>Array Access</h3>
<!--l. 317--><p class="noindent" >The function <a 
href="#x117-239002r563">aref</a> is normally used for accessing an element of an array. Other
access functions, such as <a 
href="#x117-239004r564">svref</a>, <a 
href="clmse100.html#x123-245002r593">char</a>, and <a 
href="clmse97.html#x119-241002r574">bit</a>, may be more eﬃcient in specialized
circumstances.
<div class=defun>
<!--l. 322--><p class="noindent" ><i>[Function]</i><a 
 id="dx117-239001"></a><a 
 id="x117-239002r563"></a><b> aref</b>  <i>array</i> &#x0026;rest  <i>subscripts</i>
<!--l. 324--><p class="noindent" >This accesses and returns the element of array speciﬁed by the subscripts.
The number of subscripts must equal the rank of the array, and each
subscript must be a non-negative integer less than the corresponding array
dimension.
<!--l. 330--><p class="indent" >   <a 
href="#x117-239002r563">aref</a> is unusual among the functions that operate on arrays in that it
completely ignores ﬁll pointers. <a 
href="#x117-239002r563">aref</a> can access without error any array element,
whether active or not. The generic sequence function <a 
href="clmse81.html#x100-218002r399">elt</a>, however, observes the
ﬁll pointer; accessing an element beyond the ﬁll pointer with <a 
href="clmse81.html#x100-218002r399">elt</a> is an
error.
<div class=new>
<!--l. 337--><p class="indent" >   Note that this remark, predating the design of the Common Lisp Object
System, uses the term “generic” in a generic sense and not necessarily in the
technical sense used by CLOS (see chapter <a 
href="clmch2.html#x9-170002">2<!--tex4ht:ref: DTYPES --></a>).
</div>
<!--l. 343--><p class="indent" >   <a 
href="clmse36.html#x48-93002r66">setf</a> may be used with <a 
href="#x117-239002r563">aref</a> to destructively replace an array element with a
new value.
<!--l. 346--><p class="indent" >   Under some circumstances it is desirable to write code that will extract an
element from an array a given a list z of the indices, in such a way that the
code works regardless of the rank of the array. This is easy using <a 
href="clmse37.html#x49-101002r77">apply</a>: <div class=lisp>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(apply #&#x2019;aref a z)
</td></tr></table>
<!--l. 352--><p class="indent" >
                                                                          

                                                                          
</div>
</div>
<!--l. 353--><p class="noindent" >(The length of the list must of course equal the rank of the array.) This construction
may be used with <a 
href="clmse36.html#x48-93002r66">setf</a> to alter the element so selected to some new value w: <div class=lisp>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(setf (apply #&#x2019;aref a z) w)
</td></tr></table>
<!--l. 358--><p class="indent" >
</div>
</div>
</div>
<div class=defun>
<!--l. 361--><p class="noindent" ><i>[Function]</i><a 
 id="dx117-239003"></a><a 
 id="x117-239004r564"></a><b> svref</b>  <i>simple-vector</i> <i>index</i>
<!--l. 363--><p class="noindent" >The ﬁrst argument must be a simple general vector, that is, an object of type
simple-vector. The element of the simple-vector speciﬁed by the integer index is
returned.
<!--l. 369--><p class="indent" >   The index must be non-negative and less than the length of the vector.
<!--l. 372--><p class="indent" >   <a 
href="clmse36.html#x48-93002r66">setf</a> may be used with <a 
href="#x117-239004r564">svref</a> to destructively replace a simple-vector element
with a new value.
<!--l. 375--><p class="indent" >   <a 
href="#x117-239004r564">svref</a> is identical to <a 
href="#x117-239002r563">aref</a> except that it requires its ﬁrst argument to be a
simple vector. In some implementations of Common Lisp, <a 
href="#x117-239004r564">svref</a> may be
faster than <a 
href="#x117-239002r563">aref</a> in situations where it is applicable. See also <a 
href="clmse100.html#x123-245004r594">schar</a> and
<a 
href="clmse97.html#x119-241004r575">sbit</a>.
</div>
                                                                          

                                                                          
   <!--l. 381--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse96.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse94.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse94.html#tailclmse94.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse95.html" >Front</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch17.html#clmse95.html" >Up</a><tt>&#x003E;</tt></p></div>
<!--l. 381--><p class="indent" >   <a 
 id="tailclmse95.html"></a>  
</body></html> 

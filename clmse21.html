<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Комбинированные спецификаторы типов</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,next,charset=utf-8,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-03-13 16:31:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
</head><body 
>
   <!--l. 1352--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse22.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse20.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse20.html#tailclmse20.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse21.html">Tail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch4.html#clmse21.html" >Up</a><tt>&#x003E;</tt></p></div>
   <h3 class="sectionHead"><span class="titlemark">4.4   </span> <a 
 id="x30-480004.4"></a>Комбинированные спецификаторы типов</h3>
<!--l. 1354--><p class="noindent" >Следущие списки специфкаторы типов, определяют новый тип в терминах
других типов или объектов.
<div class=flushdesc>
<!--l. 1358--><p class="indent" >
      <ul><li><b>
(member <i>object1</i> <i>object2</i> ...) </b></li>
      <!--l. 1360--><p class="noindent" >Такая   запись   обозначает   тип,   как   множество   содержащее
      определенный набор объектов. Объект принадлежит данному типу
      тогда  и  только  тогда,  когда  он  равен  <a 
href="clmse33.html#x44-78004r45">eql</a>  одному  из  заданных
      объектов. FIXME.</ul>
</div>
<div class=newer>
<div class=flushdesc>
<!--l. 1367--><p class="indent" >
      <ul><li><b>
(eql <i>object</i>) </b></li>
      <!--l. 1369--><p class="noindent" >Такой  специализатор  может  быть  использован  для  определения
      CLOS методов. Смотрите раздел <a 
href="clmse147.html#x180-38300028.1.6">28.1.6<!--tex4ht:ref: Introduction-to-Methods-SECTION --></a> и <a 
href="clmse148.html#x181-420042r906">ﬁnd-method</a>. Он задает
      множество из одного объекта. Объект принадлежит такому типу
      тогда и только тогда, когда он <a 
href="clmse33.html#x44-78004r45">eql</a> для первого <i>объекта</i>. Несмотря
      на то, что (eql <i>объект</i>) обозначает то же, что и (member <i>объект</i>),
      только  (eql  <i>объект</i>)  может  быть  использован  для  определения
      CLOS метода.</ul>
</div>
</div>
<div class=flushdesc>
<!--l. 1380--><p class="indent" >
                                                                          

                                                                          
      <ul><li><b>
(not <i>type</i>) </b></li>
      <!--l. 1382--><p class="noindent" >Такая   запись   задает   тип   множества   объектов,   которые   <i>не</i>
      являются типом type.
      <li><b>
(and <i>type1</i> <i>type2</i> ...) </b></li>
      <!--l. 1386--><p class="noindent" >Такая запись задает пересечение указанных типов.
      <!--l. 1388--><p class="noindent" >Когда <a 
href="clmse32.html#x43-76002r20">typep</a> обрабатывает спецификатор типа <a 
href="clmse34.html#x45-79004r49">and</a>, она производит
      проверку на принадлежность к каждому подтипу слева направо и
      моментально останавливает проверку, в случае первого случившегося
      отрицательного результата. Таким образом, спецификатор <a 
href="clmse34.html#x45-79004r49">and</a> ведет
      себя подобно форме <a 
href="clmse34.html#x45-79004r49">and</a>. Цель такого сходства — позволить
      спецификатору типа satisﬁes зависеть от фильтрации предыдущим
      спецификатором типа. Например, предположим, что есть функция
      primep, что принимает целое и возвращает <a 
href="clmse31.html#x42-74004r19">t</a>, если оно простое. Также
      предположим, что является ошибочным передавать любой объект, не
      являющийся целым, в primep. Тогда спецификатор будет выглядеть
      так: <div class=lisp><div class=tabbing>
      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">(and integer (satisﬁes primep))
</td></tr></table>
      <!--l. 1399--><p class="noindent" >
</div>
</div>
      <!--l. 1400--><p class="noindent" >никогда не вызовет ошибку, так как функция primep никогда не будет
      вызвана с объектом, который не удовлетворяет предыдущему типу
      integer.
      <li><b>
(or <i>type1</i> <i>type2</i> ...) </b></li>
      <!--l. 1405--><p class="noindent" >Такая запись обозначает объединение типов. Например, тип <a 
href="clmse84.html#x104-206038r461">list</a>
      совпадает с (or null cons). Также, значение, возвращаемое функцией
      <a 
href="clmse81.html#x100-202009r401">position</a> всегда принадлежит типу (or null (integer 0 *)) (или <a 
href="clmse31.html#x42-74002r18">nil</a> или
      неотрицательное число).
                                                                          

                                                                          
      <!--l. 1409--><p class="noindent" >Также как и для <a 
href="clmse34.html#x45-79004r49">and</a>, когда <a 
href="clmse32.html#x43-76002r20">typep</a> обрабатывает спецификатор типа <a 
href="clmse34.html#x45-80002r50">or</a>,
      она поочередно проверяет каждый подтип объедиения слева направо
      и завершает обработку, как только принадлежность подтипу
      установлена.</ul>
</div>
                                                                          

                                                                          
   <!--l. 1414--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse22.html" >Next</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse20.html" >Prev</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse20.html#tailclmse20.html" >PrevTail</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse21.html" >Front</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch4.html#clmse21.html" >Up</a><tt>&#x003E;</tt></p></div>
<!--l. 1414--><p class="indent" >   <a 
 id="tailclmse21.html"></a>  
</body></html> 

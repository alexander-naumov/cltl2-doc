<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Комбинированные спецификаторы типов</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,next,charset=utf-8,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-03-19 00:40:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
</head><body 
>
   <!--l. 1351--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse22.html" >Далее</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse20.html" >Назад</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse20.html#tailclmse20.html" >Назад-и-вниз</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse21.html">В-конец</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch4.html#clmse21.html" >Вверх</a><tt>&#x003E;</tt></p></div>
   <h3 class="sectionHead"><span class="titlemark">4.4   </span> <a 
 id="x30-480004.4"></a>Комбинированные спецификаторы типов</h3>
<!--l. 1353--><p class="noindent" >Следующие списки спецификаторы типов, определяют новый тип в терминах
других типов или объектов.
<div class=flushdesc>
<!--l. 1357--><p class="indent" >
      <ul><li><b>
(member <i>object1</i> <i>object2</i> ...) </b></li>
      <!--l. 1359--><p class="noindent" >Такая   запись   обозначает   тип,   как   множество   содержащее
      определённый набор объектов. Объект принадлежит данному типу
      тогда  и  только  тогда,  когда  он  равен  <a 
href="clmse33.html#x44-78004r45">eql</a>  одному  из  заданных
      объектов. FIXME.</ul>
</div>
<div class=newer>
<div class=flushdesc>
<!--l. 1366--><p class="indent" >
      <ul><li><b>
(eql <i>object</i>) </b></li>
      <!--l. 1368--><p class="noindent" >Такой  специализатор  может  быть  использован  для  определения
      CLOS методов. Смотрите раздел <a 
href="clmse145.html#x178-38000028.1.6">28.1.6<!--tex4ht:ref: Introduction-to-Methods-SECTION --></a> и <a 
href="clmse146.html#x179-417042r901">ﬁnd-method</a>. Он задаёт
      множество из одного объекта. Объект принадлежит такому типу
      тогда и только тогда, когда он <a 
href="clmse33.html#x44-78004r45">eql</a> для первого <i>объекта</i>. Несмотря
      на то, что (eql <i>объект</i>) обозначает то же, что и (member <i>объект</i>),
      только  (eql  <i>объект</i>)  может  быть  использован  для  определения
      CLOS метода.</ul>
</div>
</div>
<div class=flushdesc>
<!--l. 1379--><p class="indent" >
                                                                          

                                                                          
      <ul><li><b>
(not <i>type</i>) </b></li>
      <!--l. 1381--><p class="noindent" >Такая   запись   задаёт   тип   множества   объектов,   которые   <i>не</i>
      являются типом type.
      <li><b>
(and <i>type1</i> <i>type2</i> ...) </b></li>
      <!--l. 1385--><p class="noindent" >Такая запись задаёт пересечение указанных типов.
      <!--l. 1387--><p class="noindent" >Когда <a 
href="clmse32.html#x43-76002r20">typep</a> обрабатывает спецификатор типа <a 
href="clmse34.html#x45-79004r49">and</a>, она производит
      проверку на принадлежность к каждому подтипу слева направо и
      моментально останавливает проверку, в случае первого случившегося
      отрицательного результата. Таким образом, спецификатор <a 
href="clmse34.html#x45-79004r49">and</a> ведает
      себя подобно форме <a 
href="clmse34.html#x45-79004r49">and</a>. Цель такого сходства — позволить
      спецификатору типа satisﬁes зависеть от фильтрации предыдущим
      спецификатором типа. Например, предположим, что есть функция
      primep, что принимает целое и возвращает <a 
href="clmse31.html#x42-74004r19">t</a>, если оно простое. Также
      предположим, что является ошибочным передавать любой объект, не
      являющийся целым, в primep. Тогда спецификатор будет выглядеть
      так: <div class=lisp><div class=tabbing>
      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:44;" 
class="tabbing"></td><td  
class="tabbing">(and integer (satisﬁes primep))
</td></tr></table>
      <!--l. 1398--><p class="noindent" >
</div>
</div>
      <!--l. 1399--><p class="noindent" >никогда не вызовет ошибку, так как функция primep никогда не будет
      вызвана с объектом, который не удовлетворяет предыдущему типу
      integer.
      <li><b>
(or <i>type1</i> <i>type2</i> ...) </b></li>
      <!--l. 1404--><p class="noindent" >Такая запись обозначает объединение типов. Например, тип <a 
href="clmse82.html#x102-203038r456">list</a>
      совпадает с (or null cons). Также, значение, возвращаемое функцией
      <a 
href="clmse79.html#x98-199009r396">position</a> всегда принадлежит типу (or null (integer 0 *)) (или <a 
href="clmse31.html#x42-74002r18">nil</a> или
      неотрицательное число).
                                                                          

                                                                          
      <!--l. 1408--><p class="noindent" >Также как и для <a 
href="clmse34.html#x45-79004r49">and</a>, когда <a 
href="clmse32.html#x43-76002r20">typep</a> обрабатывает спецификатор типа <a 
href="clmse34.html#x45-80002r50">or</a>,
      она поочерёдно проверяет каждый подтип объединения слева направо
      и завершает обработку, как только принадлежность подтипу
      установлена.</ul>
</div>
                                                                          

                                                                          
   <!--l. 1413--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse22.html" >Далее</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse20.html" >Назад</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse20.html#tailclmse20.html" >Назад-и-вниз</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse21.html" >В-начало</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch4.html#clmse21.html" >Вверх</a><tt>&#x003E;</tt></p></div>
<!--l. 1413--><p class="indent" >   <a 
 id="tailclmse21.html"></a>  
</body></html> 

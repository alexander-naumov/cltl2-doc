<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Использование списков как множеств</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,index=2,next,fn-in,charset=utf-8,sections+,minitoc<,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-04-20 14:55:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
<link rel="stylesheet" type="text/css" href="../cltl2ed.css"></head><body 
>
<!--l. 2138--><p class="noindent" > <div id="main_container"> <div id="content"> <div id="toplinks"><tt>&#x003C;</tt><a 
href="clmse88.html" >Далее</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse86.html" >Назад</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse86.html#tailclmse86.html" >Назад-и-вниз</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse87.html">В-конец</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="list.html#clmse87.html" >Наверх</a><tt>&#x003E;</tt>&lt;<a href="../index.html">Main Page</a>&gt;</div><h3 class="sectionHead"><span class="titlemark">15.5   </span> <a 
href="clm.html#QQ2-107-1330" id="x107-130000015.5">Использование
списков как множеств</a></h3>
<!--l. 2140--><p class="noindent" >Common Lisp содержит функции, которые позволяют обрабатывать
списки элементов как <i>множества</i>. Сюда входят функции добавления,
удаления и поиска элементов в списке, основанного на различных
критериях. Кроме того, включены функции объединения, пересечения и
разности.
<!--l. 2146--><p class="indent" >   Правила наименования данных функций и их именованных параметров в
основном следуют правилам именования функций для последовательностей.
Смотрите главу <a 
href="kseque.html#x96-115800014">14<!--tex4ht:ref: KSEQUE --></a>.
<div class="defun">
<!--l. 2150--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx107-1300001"></a><a 
 id="x107-1300002r487"></a> <b>member</b>  <i>item</i> <i>list</i> <b>&#x0026;key</b>  <i>:test</i> <i>:test-not</i> <i>:key</i><br />
<i>
[Функция]</i><a 
 id="dx107-1300003"></a><a 
 id="x107-1300004r488"></a> <b>member-if</b>  <i>predicate</i> <i>list</i> <b>&#x0026;key</b>  <i>:key</i><br />
<i>
[Функция]</i><a 
 id="dx107-1300005"></a><a 
 id="x107-1300006r489"></a> <b>member-if-not</b>  <i>predicate</i> <i>list</i> <b>&#x0026;key</b>  <i>:key</i>
</div>
<!--l. 2155--><p class="indent" >   Функция осуществляет поиск элемента, удовлетворяющего условию, в
списке <i>list</i>. Если элемент не найдёт, возвращается <tt><a 
href="symbols.html#x185-2605609r609">nil</a></tt>. Иначе возвращается
часть списка, начинающаяся с искомого элемента. Поиск осуществляется
только в верхнем уровне списка. Эти функции могут использоваться в
качестве предикатов.
<!--l. 2162--><p class="indent" >   Например: <div class="lisp"><div class="tabbing">
(member &#x2019;snerd &#x2019;(a b c d)) <span class="math"> ⇒</span> <tt><a 
href="symbols.html#x185-2605609r609">nil</a></tt>
   <br>           (member-if #&#x2019;numberp &#x2019;(a #\Space 5/3 foo)) <span class="math"> ⇒</span> (5/3 foo)<br>
(member &#x2019;a &#x2019;(g (a y) c a d e a f)) <span class="math"> ⇒</span> (a d e a f)<br>
<!--l. 2167--><p class="noindent" ></div>
                                                                          

                                                                          
<!--l. 2167--><p class="noindent" ><span class="paragraphHead"><a 
href="#x107-130100015.5" id="x107-130100015.5"></a></span>
<!--l. 2167--><p class="noindent" ><span class="paragraphHead"><a 
href="#x107-130200015.5" id="x107-130200015.5"></a></span>
</div>
<!--l. 2168--><p class="indent" >   Следует отметить, что в последнем примере значение, возвращённое
<tt><a 
href="symbols.html#x185-2605570r570">member</a></tt>, равно <tt><a 
href="symbols.html#x185-2605337r337">eq</a></tt> части списка, которая начинается на <tt>a</tt>. Если <tt><a 
href="symbols.html#x185-2605570r570">member</a></tt>
вернула не <tt><a 
href="symbols.html#x185-2605609r609">nil</a></tt> значение, то для изменения полученного элемента списка
можно использовать <tt><a 
href="symbols.html#x185-2605759r759">rplaca</a></tt>.
<!--l. 2173--><p class="indent" >   Смотрите также <tt><a 
href="symbols.html#x185-2605368r368">find</a></tt> и <tt><a 
href="symbols.html#x185-2605671r671">position</a></tt>.
<div class="new">
<!--l. 2176--><p class="indent" >   X3J13 voted in January 1989 <a 
 id="dx107-1302001"></a>to restrict user side eﬀects; see section <a 
href="clmse43.html#x55-6500007.9">7.9<!--tex4ht:ref: STRUCTURE-TRAVERSAL-SECTION --></a>.
</div>
</div>
<div class="defun">
<!--l. 2182--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx107-1302002"></a><a 
 id="x107-1302003r490"></a> <b>tailp</b>  <i>sublist</i> <i>list</i>
</div>
<tt>
<!--l. 2185--><p class="indent" >   <a 
href="symbols.html#x185-2605873r873">tailp</a></tt> истинен тогда и только тогда, когда существует такое целое число
<i>n</i>, что выполняется <div class="lisp"><div class="tabbing">
(eql <i>sublist</i> (nthcdr <i>n</i> <i>list</i>))
   <br>
<!--l. 2189--><p class="noindent" ></div>
<!--l. 2189--><p class="noindent" ><span class="paragraphHead"><a 
href="#x107-130300015.5" id="x107-130300015.5"></a></span>
<!--l. 2189--><p class="noindent" ><span class="paragraphHead"><a 
href="#x107-130400015.5" id="x107-130400015.5"></a></span>
</div>
<i>
                                                                          

                                                                          
<!--l. 2190--><p class="indent" >   list</i> может быть списком с точкой (подразумевается, что реализации могут
использовать <tt><a 
href="symbols.html#x185-2605113r113">atom</a></tt> и не могут <tt><a 
href="symbols.html#x185-2605333r333">endp</a></tt> для проверки конца списка <i>list</i>).
FIXME
</div>
<div class="defun">
<!--l. 2195--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx107-1304001"></a><a 
 id="x107-1304002r491"></a> <b>adjoin</b>  <i>item</i> <i>list</i> <b>&#x0026;key</b>  <i>:test</i> <i>:test-not</i> <i>:key</i>
</div>
<tt>
<!--l. 2198--><p class="indent" >   <a 
href="symbols.html#x185-2605072r72">adjoin</a></tt> используется для добавления элементов во множество, если этого
элемента во множестве ещё не было. Условие равенства по-умолчанию <tt><a 
href="symbols.html#x185-2605338r338">eql</a></tt>.
<div class="lisp"><div class="tabbing">
(adjoin <i>item</i> <i>list</i>) <span class="math"> ≡</span> (if (member <i>item</i> <i>list</i>) <i>list</i> (cons <i>item</i> <i>list</i>))
   <br>
<!--l. 2202--><p class="noindent" ></div>
<!--l. 2202--><p class="noindent" ><span class="paragraphHead"><a 
href="#x107-130500015.5" id="x107-130500015.5"></a></span>
<!--l. 2202--><p class="noindent" ><span class="paragraphHead"><a 
href="#x107-130600015.5" id="x107-130600015.5"></a></span>
</div>
<!--l. 2203--><p class="indent" >   Условие равенства может быть любым предикатом. <i>item</i> добавляется в
список тогда и только тогда, когда в списке не было ни одного элемента,
«удовлетворяющего условию».
<tt>
<!--l. 2207--><p class="indent" >   <a 
href="symbols.html#x185-2605072r72">adjoin</a></tt> отклоняется от обычных правил, описанных в главе <a 
href="kseque.html#x96-115800014">14<!--tex4ht:ref: KSEQUE --></a> в части
обработки параметров <i>item</i> и <tt>:key</tt>. Если указана <tt>:key</tt> функция, то она
применяется к параметру <i>item</i>, также как и к каждому элементу
списка. Обоснование в том, что если <i>item</i> ещё не был в списке и если он
там появится, то применение функции <tt>:key</tt> к нему как элементу
списка не будет корректным, если этого не было при его добавлении.
<div class="lisp"><div class="tabbing">
                                                                          

                                                                          
(adjoin <i>item</i> <i>list</i> :key <i>fn</i>)
   <br>       <span class="math"> ≡</span> (if (member (funcall <i>fn</i> <i>item</i>) <i>list</i> :key <i>fn</i>) <i>list</i> (cons <i>item</i> <i>list</i>))<br>
<!--l. 2217--><p class="noindent" ></div>
<!--l. 2217--><p class="noindent" ><span class="paragraphHead"><a 
href="#x107-130700015.5" id="x107-130700015.5"></a></span>
<!--l. 2217--><p class="noindent" ><span class="paragraphHead"><a 
href="#x107-130800015.5" id="x107-130800015.5"></a></span>
</div>
<!--l. 2219--><p class="indent" >   Смотрите также <tt><a 
href="symbols.html#x185-2605706r706">pushnew</a></tt>.
<div class="new">
<!--l. 2222--><p class="indent" >   X3J13 voted in January 1989 <a 
 id="dx107-1308001"></a>to restrict user side eﬀects; see section <a 
href="clmse43.html#x55-6500007.9">7.9<!--tex4ht:ref: STRUCTURE-TRAVERSAL-SECTION --></a>.
</div>
</div>
<div class="defun">
<!--l. 2228--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx107-1308002"></a><a 
 id="x107-1308003r492"></a> <b>union</b>  <i>list1</i> <i>list2</i> <b>&#x0026;key</b>  <i>:test</i> <i>:test-not</i> <i>:key</i><br />
<i>
[Функция]</i><a 
 id="dx107-1308004"></a><a 
 id="x107-1308005r493"></a> <b>nunion</b>  <i>list1</i> <i>list2</i> <b>&#x0026;key</b>  <i>:test</i> <i>:test-not</i> <i>:key</i>
</div>
<tt>
<!--l. 2232--><p class="indent" >   <a 
href="symbols.html#x185-2605901r901">union</a></tt> принимает два списка и возвращает новый список, содержащий всё,
что является элементами списков <i>list1</i> и <i>list2</i>. Если в списках есть
дубликаты, то в итоговом будет только один экземпляр. Например:
<div class="lisp"><div class="tabbing">
(union &#x2019;(a b c) &#x2019;(f a d))
   <br>                        <span class="math"> ⇒</span> (a b c f d) или (b c f a d) или (d f a b c) или ...<br>
<br>                              (union &#x2019;((x 5) (y 6)) &#x2019;((z 2) (x 4)) :key #&#x2019;car)<br>
   <span class="math"> ⇒</span> ((x 5) (y 6) (z 2)) или ((x 4) (y 6) (z 2)) или ...<br>
<!--l. 2242--><p class="noindent" ></div>
                                                                          

                                                                          
<!--l. 2242--><p class="noindent" ><span class="paragraphHead"><a 
href="#x107-130900015.5" id="x107-130900015.5"></a></span>
<!--l. 2242--><p class="noindent" ><span class="paragraphHead"><a 
href="#x107-131000015.5" id="x107-131000015.5"></a></span>
</div>
<!--l. 2244--><p class="indent" >   Порядок элементов в итоговом списке не обязательно совпадает с
порядком соответствующих элементов в списках. Итоговый список может
иметь общие ячейки с или быть равным <tt><a 
href="symbols.html#x185-2605337r337">eq</a></tt> переданным аргументам.
<!--l. 2249--><p class="indent" >   Функция <tt>:test</tt> может быть любым предикатом, и операция объединения
может быть описана следующим образом. Для всех возможных упорядоченных
пар, состоящих из одного элемента из списка <i>list1</i> и одного элемента из
списка <i>list2</i>, предикат устанавливает «равны» ли они. Для каждой пары
равных элементов, как минимум один из двух элементов будет помещён в
результат. Кроме того, любой элемент, которые не был равен ни одному
другому элементу, также будет помещён в результат. Это описание
может быть полезным при использовании хитрых функций проверки
равенства.
<!--l. 2258--><p class="indent" >   Аргумент <tt>:test-not</tt> может быть полезен, когда функция проверки
равенства является логическим отрицанием проверки равенства. Хороший
пример такой функции это <tt><a 
href="symbols.html#x185-2605581r581">mismatch</a></tt>, которая логически инвертирована так,
что если аргументы не равны, то может быть получена возможная полезная
информация. Эта дополнительная «полезная информация» отбрасывается в
следующем примере. <tt><a 
href="symbols.html#x185-2605581r581">mismatch</a></tt> используется только как предикат.
<div class="lisp"><div class="tabbing">
(union &#x2019;(#(a b) #(5 0 6) #(f 3))
   <br>                                                           &#x2019;(#(5 0 6) (a b) #(g h))<br>
       :test-not<br>                                            #&#x2019;mismatch)<br>
   <span class="math"> ⇒</span> (#(a b) #(5 0 6) #(f 3) #(g h))     ;Возможный результат<br>
   <span class="math"> ⇒</span> ((a b) #(f 3) #(5 0 6) #(g h))      ;Другой возможный результат<br>
<!--l. 2271--><p class="noindent" ></div>
<!--l. 2271--><p class="noindent" ><span class="paragraphHead"><a 
href="#x107-131100015.5" id="x107-131100015.5"></a></span>
                                                                          

                                                                          
<!--l. 2271--><p class="noindent" ><span class="paragraphHead"><a 
href="#x107-131200015.5" id="x107-131200015.5"></a></span>
</div>
<!--l. 2272--><p class="indent" >   Использование <tt><tt>:test-not</tt> #&#x2019;mismatch</tt> отличается от использования <tt><tt>:test</tt>
#&#x2019;equalp</tt>, например, потому что <tt><a 
href="symbols.html#x185-2605581r581">mismatch</a></tt> определяет что <tt>#(a b)</tt>
и <tt>(a b)</tt> одинаковы, тогда как <tt><a 
href="symbols.html#x185-2605340r340">equalp</a></tt> определяет эти выражения
разными.
<tt>
<!--l. 2277--><p class="indent" >   <a 
href="symbols.html#x185-2605638r638">nunion</a></tt> является деструктивной версией <tt><a 
href="symbols.html#x185-2605901r901">union</a></tt>. Она выполняет ту же
операцию, но может разрушить аргументы, возможно при использовании их
ячеек для построения результата.
<div class="new">
<!--l. 2282--><p class="indent" >   X3J13 voted in January 1989 <a 
 id="dx107-1312001"></a>to restrict user side eﬀects; see section <a 
href="clmse43.html#x55-6500007.9">7.9<!--tex4ht:ref: STRUCTURE-TRAVERSAL-SECTION --></a>.
</div>
<div class="newer">
<!--l. 2288--><p class="indent" >   X3J13 voted in March 1989 <a 
 id="dx107-1312002"></a>to clarify the permissible side eﬀects of certain
operations; <tt><a 
href="symbols.html#x185-2605638r638">nunion</a></tt> is permitted to perform a <tt><a 
href="symbols.html#x185-2605778r778">setf</a></tt> on any part, <i>car</i> or <i>cdr</i>, of the
top-level list structure of any of the argument lists.
</div>
</div>
<div class="defun">
<!--l. 2296--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx107-1312003"></a><a 
 id="x107-1312004r494"></a> <b>intersection</b>  <i>list1</i> <i>list2</i> <b>&#x0026;key</b>  <i>:test</i> <i>:test-not</i> <i>:key</i><br />
<i>
[Функция]</i><a 
 id="dx107-1312005"></a><a 
 id="x107-1312006r495"></a> <b>nintersection</b>  <i>list1</i> <i>list2</i> <b>&#x0026;key</b>  <i>:test</i> <i>:test-not</i> <i>:key</i>
</div>
<tt>
<!--l. 2300--><p class="indent" >   <a 
href="symbols.html#x185-2605453r453">intersection</a></tt> принимает два списка и возвращает новый список
содержащий все элементы, которые есть и в первом и во втором списках
одновременно. Например: <div class="lisp"><div class="tabbing">
(intersection &#x2019;(a b c) &#x2019;(f a d)) <span class="math"> ⇒</span> (a)
   <br>
<!--l. 2305--><p class="noindent" ></div>
<!--l. 2305--><p class="noindent" ><span class="paragraphHead"><a 
href="#x107-131300015.5" id="x107-131300015.5"></a></span>
                                                                          

                                                                          
<!--l. 2305--><p class="noindent" ><span class="paragraphHead"><a 
href="#x107-131400015.5" id="x107-131400015.5"></a></span>
</div>
<!--l. 2307--><p class="indent" >   Порядок элементов в итоговом списке не обязательно совпадает с
порядком соответствующих элементов в списках. Итоговый список может
иметь общие ячейки с или быть равным <tt><a 
href="symbols.html#x185-2605337r337">eq</a></tt> переданным аргументам.
<!--l. 2312--><p class="indent" >   Функция <tt>:test</tt> может быть любым предикатом, и операция пересечения
может быть описана следующим образом. Для всех возможных упорядоченных
пар, состоящих из одного элемента из списка <i>list1</i> и одного элемента из
списка <i>list2</i>, предикат устанавливает «равны» ли они. Для каждой пары
равных элементов, только один из двух элементов будет помещён в
результат. Больше никаких элементов в итоговом списке не будет. Это
описание может быть полезным при использовании хитрых функций
проверки равенства.
<tt>
<!--l. 2320--><p class="indent" >   <a 
href="symbols.html#x185-2605610r610">nintersection</a></tt> является является деструктивной версией <tt><a 
href="symbols.html#x185-2605453r453">intersection</a></tt>.
Она выполняет ту же операцию, но может разрушить аргумент <i>list1</i>,
возможно при использовании их ячеек для построения результата. (Аргумент
<i>list2</i> не разрушается.)
<div class="new">
<!--l. 2326--><p class="indent" >   X3J13 voted in January 1989 <a 
 id="dx107-1314001"></a>to restrict user side eﬀects; see section <a 
href="clmse43.html#x55-6500007.9">7.9<!--tex4ht:ref: STRUCTURE-TRAVERSAL-SECTION --></a>.
</div>
<div class="newer">
<!--l. 2332--><p class="indent" >   X3J13 voted in March 1989 <a 
 id="dx107-1314002"></a>to clarify the permissible side eﬀects of
certain operations; <tt><a 
href="symbols.html#x185-2605610r610">nintersection</a></tt> is permitted to perform a <tt><a 
href="symbols.html#x185-2605778r778">setf</a></tt> on any
part, <i>car</i> or <i>cdr</i>, of the top-level list structure of any of the argument
lists.
</div>
</div>
<div class="defun">
<!--l. 2340--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx107-1314003"></a><a 
 id="x107-1314004r496"></a> <b>set-diﬀerence</b>  <i>list1</i> <i>list2</i> <b>&#x0026;key</b>  <i>:test</i> <i>:test-not</i> <i>:key</i><br />
<i>
[Функция]</i><a 
 id="dx107-1314005"></a><a 
 id="x107-1314006r497"></a> <b>nset-diﬀerence</b>  <i>list1</i> <i>list2</i> <b>&#x0026;key</b>  <i>:test</i> <i>:test-not</i> <i>:key</i>
</div>
<tt>
<!--l. 2344--><p class="indent" >   <a 
href="symbols.html#x185-2605772r772">set-difference</a></tt> возвращает список элементов списка <i>list1</i>, которые не
встречаются в списке <i>list2</i>. Данная операция не разрушает аргументы.
                                                                          

                                                                          
<!--l. 2347--><p class="indent" >   Порядок элементов в итоговом списке не обязательно совпадает с
порядком соответствующих элементов в списке <i>list1</i>. Итоговый список может
иметь общие ячейки, или быть равным <tt><a 
href="symbols.html#x185-2605337r337">eq</a></tt> аргументу <i>list1</i>.
<i>
<!--l. 2352--><p class="indent" >   :test</i> может быть любым предикатом, и операция разности множеств может
быть описана следующим образом. Для всех возможных упорядоченных пар,
состоящих из элементов первого и второго списков, используется предикат
для установки их «равенства». Элемент из списка <i>list1</i> помещается в
результат, тогда и только тогда, когда он не равен ни одному элементу
списка. Это позволяет делать очень интересные приложения. Например,
можно удалить из списка строк все строки, содержащие некоторый список
символов: <i>list2</i>. <div class="lisp"><div class="tabbing">
;; Удалить все имена специй содержащие буквы &#x0022;c&#x0022; или &#x0022;w&#x0022;.
   <br>                           (set-diﬀerence &#x2019;(&#x0022;strawberry&#x0022; &#x0022;chocolate&#x0022; &#x0022;banana&#x0022;<br>
                  &#x0022;lemon&#x0022; &#x0022;pistachio&#x0022; &#x0022;rhubarb&#x0022;)<br>
                &#x2019;(#\c #\w)<br>                                     :test<br>
                #&#x2019;(lambda (s c) (ﬁnd c s)))<br>
   <span class="math"> ⇒</span> (&#x0022;banana&#x0022; &#x0022;rhubarb&#x0022; &#x0022;lemon&#x0022;)     ;Возможен другой порядок элементов<br>
<!--l. 2369--><p class="noindent" ></div>
<!--l. 2369--><p class="noindent" ><span class="paragraphHead"><a 
href="#x107-131500015.5" id="x107-131500015.5"></a></span>
<!--l. 2369--><p class="noindent" ><span class="paragraphHead"><a 
href="#x107-131600015.5" id="x107-131600015.5"></a></span>
</div>
<tt>
<!--l. 2371--><p class="indent" >   <a 
href="symbols.html#x185-2605620r620">nset-difference</a></tt> является деструктивной версией <tt><a 
href="symbols.html#x185-2605772r772">set-difference</a></tt>.
Данная операция может разрушить <i>list1</i>.
<div class="new">
<!--l. 2375--><p class="indent" >   X3J13 voted in January 1989 <a 
 id="dx107-1316001"></a>to restrict user side eﬀects; see section <a 
href="clmse43.html#x55-6500007.9">7.9<!--tex4ht:ref: STRUCTURE-TRAVERSAL-SECTION --></a>.
</div>
</div>
<div class="defun">
                                                                          

                                                                          
<!--l. 2381--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx107-1316002"></a><a 
 id="x107-1316003r498"></a> <b>set-exclusive-or</b>  <i>list1</i> <i>list2</i> <b>&#x0026;key</b>  <i>:test</i> <i>:test-not</i> <i>:key</i><br />
<i>
[Функция]</i><a 
 id="dx107-1316004"></a><a 
 id="x107-1316005r499"></a> <b>nset-exclusive-or</b>  <i>list1</i> <i>list2</i> <b>&#x0026;key</b>  <i>:test</i> <i>:test-not</i> <i>:key</i>
</div>
<tt>
<!--l. 2385--><p class="indent" >   <a 
href="symbols.html#x185-2605774r774">set-exclusive-or</a></tt> возвращает список элементов, которые встречаются
только в списке <i>list1</i> и только в списке <i>list2</i>. Данная операция не разрушает
аргументы.
<!--l. 2389--><p class="indent" >   Порядок элементов в итоговом списке не обязательно совпадает с
порядком соответствующих элементов в списке <i>list1</i>. Итоговый список может
иметь общие ячейки, или быть равным <tt><a 
href="symbols.html#x185-2605337r337">eq</a></tt> аргументу <i>list1</i>.
<!--l. 2394--><p class="indent" >   Функция проверки равенства элементов может быть любым предикатом,
и операцию <tt><a 
href="symbols.html#x185-2605774r774">set-exclusive-or</a></tt> можно описать следующим образом. Для всех
возможных упорядоченных пар, содержащих один элемент из списка <i>list1</i> и
один элемент из списка <i>list2</i>, функция используется для проверки
«равенства». Результат содержит точно те элементы списков <i>list1</i> и <i>list2</i>,
которые были только в различающихся парах.
<tt>
<!--l. 2401--><p class="indent" >   <a 
href="symbols.html#x185-2605621r621">nset-exclusive-or</a></tt> является деструктивной версией <tt><a 
href="symbols.html#x185-2605774r774">set-exclusive-or</a></tt>.
Данная операция может разрушить аргументы.
<div class="new">
<!--l. 2405--><p class="indent" >   X3J13 voted in January 1989 <a 
 id="dx107-1316006"></a>to restrict user side eﬀects; see section <a 
href="clmse43.html#x55-6500007.9">7.9<!--tex4ht:ref: STRUCTURE-TRAVERSAL-SECTION --></a>.
</div>
<div class="newer">
<!--l. 2411--><p class="indent" >   X3J13 voted in March 1989 <a 
 id="dx107-1316007"></a>to clarify the permissible side eﬀects of certain
operations; <tt><a 
href="symbols.html#x185-2605621r621">nset-exclusive-or</a></tt> is permitted to perform a <tt><a 
href="symbols.html#x185-2605778r778">setf</a></tt> on any
part, <i>car</i> or <i>cdr</i>, of the top-level list structure of any of the argument
lists.
</div>
</div>
<div class="defun">
<!--l. 2419--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx107-1316008"></a><a 
 id="x107-1316009r500"></a> <b>subsetp</b>  <i>list1</i> <i>list2</i> <b>&#x0026;key</b>  <i>:test</i> <i>:test-not</i> <i>:key</i>
</div>
<tt>
<!--l. 2422--><p class="indent" >   <a 
href="symbols.html#x185-2605850r850">subsetp</a></tt> является предикатом, который истинен, если каждый элемент
списка <i>list1</i> встречается в («равен» некоторому элементу в) списке <i>list2</i>,
                                                                          

                                                                          
иначе ложен.
<div class="new">
<!--l. 2427--><p class="indent" >   X3J13 voted in January 1989 <a 
 id="dx107-1316010"></a>to restrict user side eﬀects; see section <a 
href="clmse43.html#x55-6500007.9">7.9<!--tex4ht:ref: STRUCTURE-TRAVERSAL-SECTION --></a>.
</div>
</div>
                                                                          

                                                                          
<!--l. 2433--><p class="indent" >   <div id="bottomlinks"><tt>&#x003C;</tt><a 
href="clmse88.html" >Далее</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse86.html" >Назад</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse86.html#tailclmse86.html" >Назад-и-вниз</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse87.html" >В-начало</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="list.html#clmse87.html" >Наверх</a><tt>&#x003E;</tt></div><a 
 id="tailclmse87.html"></a>   </div> </div> 
</body></html> 

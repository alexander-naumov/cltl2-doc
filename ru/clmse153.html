<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Predeﬁned Condition Types</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,next,fn-in,charset=utf-8,sections+,minitoc<,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-05-22 08:40:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
<link rel="stylesheet" type="text/css" href="../cltl2ed.css"></head><body 
>
   <div id="toplinks"> &lt;<a href="../index.html">Главная</a>&gt; &lt;<a href="symbols.html">Символы</a>&gt; <br />&#x003C;<a 
href="amop.html" >Далее</a>&#x003E;&#x003C;<a 
href="clmse152.html" >Назад</a>&#x003E;&#x003C;<a 
href="clmse152.html#tailclmse152.html" >Назад-и-вниз</a>&#x003E;&#x003C;<a 
href="#tailclmse153.html">В-конец</a>&#x003E;&#x003C;<a 
href="clmch29.html#clmse153.html" >Наверх</a>&#x003E;</div><h3 class="sectionHead"><span class="titlemark">29.9
</span> <a 
href="clm.html#QQ2-187-401" id="x187-36000029.9">Predeﬁned Condition Types</a></h3>
<!--l. 3543--><p class="noindent" >[The proposal for the Common Lisp Condition System introduced a new notation
for documenting types, treating them in the same syntactic manner as functions
and variables. This notation is used in this section but is not reﬂected throughout
the entire book.—GLS]
<!--l. 3550--><p class="indent" >   X3J13 voted in March 1989 <a 
 id="dx187-360001"></a>to integrate the Condition System and the Object
System. All condition types are CLOS classes and all condition objects are
ordinary CLOS objects.
<div class="defun">
<div class="defunheader">
<em>
<!--l. 3555--><p class="noindent" >[Type]</em><a 
 id="dx187-360002"></a> <b>restart</b>
</div>
<!--l. 3557--><p class="indent" >   This is the data type used to represent a restart.
<hr></div>
   <div class="table">
                                                                          

                                                                          
<!--l. 3560--><p class="indent" >   <a 
 id="x187-3600031"></a><hr class="float"><div class="float" 
>
                                                                          

                                                                          
 <div class="caption" 
><span class="id">Таблица 29.1: </span><span  
class="content">Condition Type Hierarchy</span></div><!--tex4ht:label?: x187-3600031 -->
<div class="lisp">
<tt>
<div class="tabbing">
condition
<br>                    simple-condition<br>                    serious-condition<br>
        error<br>                                              simple-error<br>
            arithmetic-error<br>                          division-by-zero<br>
                ﬂoating-point-overﬂow<br>
                ﬂoating-point-underﬂow<br>                           ...<br>
            cell-error<br>                                unbound-variable<br>
                undeﬁned-function<br>                                ...<br>
            control-error<br>                                     ﬁle-error<br>
            package-error<br>                               program-error<br>
            stream-error<br>                                    end-of-ﬁle<br>
                ...<br>                                          type-error<br>
                simple-type-error<br>                                  ...<br>
            ...<br>                                        storage-condition<br>
        ...<br>                                                      warning<br>
        simple-warning<br>                                               ...<br>
    ...<br>
</div>
</tt>
</div>
                                                                          

                                                                          
   </div><hr class="endfloat" />
   </div>
<!--l. 3599--><p class="indent" >   The Common Lisp condition type hierarchy is illustrated in table <a 
href="#x187-3600031">29.1<!--tex4ht:ref: CONDITION-HIERARCHY-TABLE --></a>.
<!--l. 3601--><p class="indent" >   The types that are not leaves in the hierarchy (that is, <b>condition</b>, <b>warning</b>,
<b>storage-condition</b>, <b>error</b>, <b>arithmetic-error</b>, <b>control-error</b>, and so on) are
provided primarily for type inclusion purposes. Normally they would not be
directly instantiated.
<!--l. 3607--><p class="indent" >   Implementations are permitted to support non-portable synonyms for these
types, as well as to introduce other types that are above, below, or between the
types shown in this tree as long as the indicated subtype relationships are not
violated.
<!--l. 3612--><p class="indent" >   The types <b>simple-condition</b>, <b>serious-condition</b>, and <b>warning</b> are pairwise
disjoint. The type <b>error</b> is also disjoint from types <b>simple-condition</b> and
<b>warning</b>.
<div class="defun">
<div class="defunheader">
<em>
<!--l. 3617--><p class="noindent" >[Type]</em><a 
 id="dx187-360004"></a> <b>condition</b>
</div>
<!--l. 3619--><p class="indent" >   All types of conditions, whether error or non-error, must inherit from this
type.
<hr></div>
<div class="defun">
<div class="defunheader">
<em>
<!--l. 3624--><p class="noindent" >[Type]</em><a 
 id="dx187-360005"></a> <b>warning</b>
</div>
<!--l. 3626--><p class="indent" >   All types of warnings should inherit from this type. This is a subtype of
<b>condition</b>.
<hr></div>
<div class="defun">
<div class="defunheader">
<em>
                                                                          

                                                                          
<!--l. 3631--><p class="noindent" >[Type]</em><a 
 id="dx187-360006"></a> <b>serious-condition</b>
</div>
<!--l. 3633--><p class="indent" >   All serious conditions (conditions serious enough to require interactive
intervention if not handled) should inherit from this type. This is a subtype of
<b>condition</b>.
<!--l. 3637--><p class="indent" >   This condition type is provided primarily for terminological convenience. In
fact, signaling a condition that inherits from <b>serious-condition</b> does not force
entry into the debugger. Rather, it is conventional to use <b>error</b> (or something
built on <b>error</b>) to signal conditions that are of this type, and to use <b>signal</b> to
signal conditions that are not of this type.
<hr></div>
<div class="defun">
<div class="defunheader">
<em>
<!--l. 3646--><p class="noindent" >[Type]</em><a 
 id="dx187-360007"></a> <b>error</b>
</div>
<!--l. 3648--><p class="indent" >   All types of error conditions inherit from this condition. This is a subtype of
<b>serious-condition</b>.
<hr></div>
<!--l. 3653--><p class="indent" >   The default condition type for <b>signal</b> and <b>warn</b> is <b>simple-condition</b>. The
default condition type for <b>error</b> and <b>cerror</b> is <b>simple-error</b>.
<div class="defun">
<div class="defunheader">
<em>
<!--l. 3657--><p class="noindent" >[Type]</em><a 
 id="dx187-360008"></a> <b>simple-condition</b>
</div>
<!--l. 3659--><p class="indent" >   Conditions signaled by <b>signal</b> when given a format string as a ﬁrst argument
are of this type. This is a subtype of <b>condition</b>. The initialization keywords
<b>:format-string</b> and <b>:format-arguments</b> are supported to initialize the
slots, which can be accessed using <b>simple-condition-format-control</b>
and <b>simple-condition-format-arguments</b>. If <b>:format-arguments</b> is
not supplied to <b>make-condition</b>, the format-arguments slot defaults to
<b>nil</b>.
<hr></div>
                                                                          

                                                                          
<div class="defun">
<div class="defunheader">
<em>
<!--l. 3669--><p class="noindent" >[Type]</em><a 
 id="dx187-360009"></a> <b>simple-warning</b>
</div>
<!--l. 3671--><p class="indent" >   Conditions signaled by <b>warn</b> when given a format string as a ﬁrst argument
are of this type. This is a subtype of <b>warning</b>. The initialization keywords
<b>:format-string</b> and <b>:format-arguments</b> are supported to initialize the
slots, which can be accessed using <b>simple-condition-format-control</b>
and <b>simple-condition-format-arguments</b>. If <b>:format-arguments</b> is
not supplied to <b>make-condition</b>, the format-arguments slot defaults to
<b>nil</b>.
<!--l. 3679--><p class="indent" >   In implementations supporting multiple inheritance, this type will also be a
subtype of <b>simple-condition</b>.
<hr></div>
<div class="defun">
<div class="defunheader">
<em>
<!--l. 3684--><p class="noindent" >[Type]</em><a 
 id="dx187-360010"></a> <b>simple-error</b>
</div>
<!--l. 3686--><p class="indent" >   Conditions signaled by <b>error</b> and <b>cerror</b> when given a format string as a ﬁrst
argument are of this type. This is a subtype of <b>error</b>. The initialization keywords
<b>:format-string</b> and <b>:format-arguments</b> are supported to initialize the
slots, which can be accessed using <b>simple-condition-format-control</b>
and <b>simple-condition-format-arguments</b>. If <b>:format-arguments</b> is
not supplied to <b>make-condition</b>, the format-arguments slot defaults to
<b>nil</b>.
<!--l. 3694--><p class="indent" >   In implementations supporting multiple inheritance, this type will also be a
subtype of <b>simple-condition</b>.
<hr></div>
<div class="defun">
<div class="defunheader">
<em>
                                                                          

                                                                          
<!--l. 3699--><p class="noindent" >[Function]</em><a 
 id="dx187-360011"></a> <b>simple-condition-format-control</b> <i>condition</i>
</div>
<!--l. 3701--><p class="indent" >   Accesses the format-string slot of a given <em>condition</em>, which must be of type
<b>simple-condition</b>, <b>simple-warning</b>, <b>simple-error</b>, or <b>simple-type-error</b>.
<hr></div>
<div class="defun">
<div class="defunheader">
<em>
<!--l. 3707--><p class="noindent" >[Function]</em><a 
 id="dx187-360012"></a> <b>simple-condition-format-arguments</b> <i>condition</i>
</div>
<!--l. 3709--><p class="indent" >   Accesses the format-arguments slot of a given <em>condition</em>, which must
be of type <b>simple-condition</b>, <b>simple-warning</b>, <b>simple-error</b>, or
<b>simple-type-error</b>.
<hr></div>
<div class="defun">
<div class="defunheader">
<em>
<!--l. 3716--><p class="noindent" >[Type]</em><a 
 id="dx187-360013"></a> <b>storage-condition</b>
</div>
<!--l. 3718--><p class="indent" >   Conditions that relate to storage overﬂow should inherit from this type. This is
a subtype of <b>serious-condition</b>.
<hr></div>
<div class="defun">
<div class="defunheader">
<em>
<!--l. 3724--><p class="noindent" >[Type]</em><a 
 id="dx187-360014"></a> <b>type-error</b>
</div>
<!--l. 3726--><p class="indent" >   Errors in the transfer of data in a program should inherit from this type. This
is a subtype of <b>error</b>. For example, conditions to be signaled by <b>check-type</b>
should inherit from this type. The initialization keywords <b>:datum</b> and
<b>:expected-type</b> are supported to initialize the slots, which can be accessed using
<b>type-error-datum</b> and <b>type-error-expected-type</b>.
<hr></div>
                                                                          

                                                                          
<div class="defun">
<div class="defunheader">
<em>
<!--l. 3735--><p class="noindent" >[Function]</em><a 
 id="dx187-360015"></a> <b>type-error-datum</b> <i>condition</i>
</div>
<!--l. 3737--><p class="indent" >   Accesses the datum slot of a given <em>condition</em>, which must be of type
<b>type-error</b>.
<hr></div>
<div class="defun">
<div class="defunheader">
<em>
<!--l. 3742--><p class="noindent" >[Function]</em><a 
 id="dx187-360016"></a> <b>type-error-expected-type</b> <i>condition</i>
</div>
<!--l. 3744--><p class="indent" >   Accesses the expected-type slot of a given <em>condition</em>, which must be of type
<b>type-error</b>. Users of <b>type-error</b> conditions are expected to ﬁll this slot with an
object that is a valid Common Lisp type speciﬁer.
<hr></div>
<div class="defun">
<div class="defunheader">
<em>
<!--l. 3750--><p class="noindent" >[Type]</em><a 
 id="dx187-360017"></a> <b>simple-type-error</b>
</div>
<!--l. 3752--><p class="indent" >   Conditions signaled by facilities similar to <b>check-type</b> may want to use this
type. The initialization keywords <b>:format-string</b> and <b>:format-arguments</b>
are supported to initialize the slots, which can be accessed using
<b>simple-condition-format-control</b> and <b>simple-condition-format-arguments</b>. If
<b>:format-arguments</b> is not supplied to <b>make-condition</b>, the format-arguments
slot defaults to <b>nil</b>.
<!--l. 3761--><p class="indent" >   In implementations supporting multiple inheritance, this type will also be a
subtype of <b>simple-condition</b>.
<hr></div>
<div class="defun">
                                                                          

                                                                          
<div class="defunheader">
<em>
<!--l. 3766--><p class="noindent" >[Type]</em><a 
 id="dx187-360018"></a> <b>program-error</b>
</div>
<!--l. 3768--><p class="indent" >   Errors relating to incorrect program syntax that are statically detectable
should inherit from this type (regardless of whether they are in fact statically
detected). This is a subtype of <b>error</b>. This is <em>not</em> a subtype of <b>control-error</b>.
<hr></div>
<div class="defun">
<div class="defunheader">
<em>
<!--l. 3775--><p class="noindent" >[Type]</em><a 
 id="dx187-360019"></a> <b>control-error</b>
</div>
<!--l. 3777--><p class="indent" >   Errors in the dynamic transfer of control in a program should inherit from this
type. This is a subtype of <b>error</b>. This is <em>not</em> a subtype of <b>program-error</b>.
<!--l. 3781--><p class="indent" >   The errors that result from giving <b>throw</b> a tag that is not active or from
giving <b>go</b> or <b>return-from</b> a tag that is no longer dynamically available are
control errors.
<!--l. 3785--><p class="indent" >   On the other hand, the errors that result from naming a <b>go</b> tag or
<b>return-from</b> tag that is not lexically apparent are not control errors. They are
program errors. See <b>program-error</b>.
<hr></div>
<div class="defun">
<div class="defunheader">
<em>
<!--l. 3792--><p class="noindent" >[Type]</em><a 
 id="dx187-360020"></a> <b>package-error</b>
</div>
<!--l. 3794--><p class="indent" >   Errors that occur during operations on packages should inherit from this type.
This is a subtype of <b>error</b>. The initialization keyword <b>:package</b> is supported to
initialize the slot, which can be accessed using <b>package-error-package</b>.
<hr></div>
<div class="defun">
<div class="defunheader">
                                                                          

                                                                          
<em>
<!--l. 3801--><p class="noindent" >[Function]</em><a 
 id="dx187-360021"></a> <b>package-error-package</b> <i>condition</i>
</div>
<!--l. 3803--><p class="indent" >   Accesses the package (or package name) that was being modiﬁed or
manipulated in a <em>condition</em> of type <b>package-error</b>.
<hr></div>
<div class="defun">
<div class="defunheader">
<em>
<!--l. 3809--><p class="noindent" >[Type]</em><a 
 id="dx187-360022"></a> <b>stream-error</b>
</div>
<!--l. 3811--><p class="indent" >   Errors that occur during input from, output to, or closing a stream should
inherit from this type. This is a subtype of <b>error</b>. The initialization keyword
<b>:stream</b> is supported to initialize the slot, which can be accessed using
<b>stream-error-stream</b>.
<hr></div>
<div class="defun">
<div class="defunheader">
<em>
<!--l. 3818--><p class="noindent" >[Function]</em><a 
 id="dx187-360023"></a> <b>stream-error-stream</b> <i>condition</i>
</div>
<!--l. 3820--><p class="indent" >   Accesses the oﬀending stream of a <em>condition</em> of type <b>stream-error</b>.
<hr></div>
<div class="defun">
<div class="defunheader">
<em>
<!--l. 3824--><p class="noindent" >[Type]</em><a 
 id="dx187-360024"></a> <b>end-of-ﬁle</b>
</div>
<!--l. 3826--><p class="indent" >   The error that results when a read operation is done on a stream that has no
more tokens or characters should inherit from this type. This is a subtype of
<b>stream-error</b>.
<hr></div>
                                                                          

                                                                          
<div class="defun">
<div class="defunheader">
<em>
<!--l. 3832--><p class="noindent" >[Type]</em><a 
 id="dx187-360025"></a> <b>ﬁle-error</b>
</div>
<!--l. 3834--><p class="indent" >   Errors that occur during an attempt to open a ﬁle, or during some low-level
transaction with a ﬁle system, should inherit from this type. This is a subtype of
<b>error</b>. The initialization keyword <b>:pathname</b> is supported to initialize the slot,
which can be accessed using <b>ﬁle-error-pathname</b>.
<hr></div>
<div class="defun">
<div class="defunheader">
<em>
<!--l. 3841--><p class="noindent" >[Function]</em><a 
 id="dx187-360026"></a> <b>ﬁle-error-pathname</b> <i>condition</i>
</div>
<!--l. 3843--><p class="indent" >   Accesses the oﬀending pathname of a <em>condition</em> of type <b>ﬁle-error</b>.
<hr></div>
<div class="defun">
<div class="defunheader">
<em>
<!--l. 3847--><p class="noindent" >[Type]</em><a 
 id="dx187-360027"></a> <b>cell-error</b>
</div>
<!--l. 3849--><p class="indent" >   Errors that occur while accessing a location should inherit from this type. This
is a subtype of <b>error</b>. The initialization keyword <b>:name</b> is supported to initialize
the slot, which can be accessed using <b>cell-error-name</b>.
<hr></div>
<div class="defun">
<div class="defunheader">
<em>
                                                                          

                                                                          
<!--l. 3855--><p class="noindent" >[Function]</em><a 
 id="dx187-360028"></a> <b>cell-error-name</b> <i>condition</i>
</div>
<!--l. 3857--><p class="indent" >   Accesses the oﬀending cell name of a <em>condition</em> of type <b>cell-error</b>.
<hr></div>
<div class="defun">
<div class="defunheader">
<em>
<!--l. 3861--><p class="noindent" >[Type]</em><a 
 id="dx187-360029"></a> <b>unbound-variable</b>
</div>
<!--l. 3863--><p class="indent" >   The error that results from trying to access the value of an unbound variable
should inherit from this type. This is a subtype of <b>cell-error</b>.
<hr></div>
<div class="defun">
<div class="defunheader">
<em>
<!--l. 3868--><p class="noindent" >[Type]</em><a 
 id="dx187-360030"></a> <b>undeﬁned-function</b>
</div>
<!--l. 3870--><p class="indent" >   The error that results from trying to access the value of an undeﬁned function
should inherit from this type. This is a subtype of <b>cell-error</b>.
<hr></div>__________________________________________________________________________<!--l. 3875--><p class="noindent" ><b>
Примечание:</b> [Note: This remark was written well before the vote by X3J13 in
June 1988 <a 
 id="dx187-360031"></a>to add the Common Lisp Object System to the forthcoming draft
standard (see chapter <a 
href="clos.html#x174-25000027">27<!--tex4ht:ref: CLOS --></a>) and the vote to integrate the Condition System and
the Object System. I have retained the remark here for reasons of historical
interest.—GLS]
<!--l. 3882--><p class="indent" >     Some readers may wonder why <b>undeﬁned-function</b> is not deﬁned to inherit from
some condition such as <b>control-error</b>. The answer is that any such arrangement would
require the presence of multiple inheritance—a luxury we do not currently have (without
resorting to <b>deftype</b>, which we are currently avoiding). When the Common Lisp Object
System comes into being, we might want to consider issues like this. Multiple
inheritance makes a lot of things in a condition system much more ﬂexible to deal
with._____________________________________________________________________________________________________
<div class="defun">
<div class="defunheader">
                                                                          

                                                                          
<em>
<!--l. 3896--><p class="noindent" >[Type]</em><a 
 id="dx187-360032"></a> <b>arithmetic-error</b>
</div>
<!--l. 3898--><p class="indent" >   Errors that occur while doing arithmetic type operations should inherit from
this type. This is a subtype of <b>error</b>. The initialization keywords <b>:operation</b> and
<b>:operands</b> are supported to initialize the slots, which can be accessed using
<b>arithmetic-error-operation</b> and <b>arithmetic-error-operands</b>.
<hr></div>
<div class="defun">
<div class="defunheader">
<em>
<!--l. 3905--><p class="noindent" >[Function]</em><a 
 id="dx187-360033"></a> <b>arithmetic-error-operation</b> <i>condition</i>
</div>
<!--l. 3907--><p class="indent" >   Accesses the oﬀending operation of a condition of type <b>arithmetic-error</b>.
<hr></div>
<div class="defun">
<div class="defunheader">
<em>
<!--l. 3911--><p class="noindent" >[Function]</em><a 
 id="dx187-360034"></a> <b>arithmetic-error-operands</b> <i>condition</i>
</div>
<!--l. 3913--><p class="indent" >   Accesses a list of the oﬀending operands in a condition of type
<b>arithmetic-error</b>.
<hr></div>
<div class="defun">
<div class="defunheader">
<em>
<!--l. 3918--><p class="noindent" >[Type]</em><a 
 id="dx187-360035"></a> <b>division-by-zero</b>
</div>
<!--l. 3920--><p class="indent" >   Errors that occur because of division by zero should inherit from this type.
This is a subtype of <b>arithmetic-error</b>.
<hr></div>
<div class="defun">
                                                                          

                                                                          
<div class="defunheader">
<em>
<!--l. 3925--><p class="noindent" >[Type]</em><a 
 id="dx187-360036"></a> <b>ﬂoating-point-overﬂow</b>
</div>
<!--l. 3927--><p class="indent" >   Errors that occur because of ﬂoating-point overﬂow should inherit from this
type. This is a subtype of <b>arithmetic-error</b>.
<hr></div>
<div class="defun">
<div class="defunheader">
<em>
<!--l. 3932--><p class="noindent" >[Type]</em><a 
 id="dx187-360037"></a> <b>ﬂoating-point-underﬂow</b>
</div>
<!--l. 3934--><p class="indent" >   Errors that occur because of ﬂoating-point underﬂow should inherit from this
type. This is a subtype of <b>arithmetic-error</b>.
<hr></div>
                                                                          

                                                                          
                                                                          

                                                                          
                                                                          

                                                                          
                                                                          

                                                                          
<!--l. 3--><p class="indent" >   <div id="bottomlinks">&#x003C;<a 
href="amop.html" >Далее</a>&#x003E;&#x003C;<a 
href="clmse152.html" >Назад</a>&#x003E;&#x003C;<a 
href="clmse152.html#tailclmse152.html" >Назад-и-вниз</a>&#x003E;&#x003C;<a 
href="clmse153.html" >В-начало</a>&#x003E;&#x003C;<a 
href="clmch29.html#clmse153.html" >Наверх</a>&#x003E;<br> &lt;<a href="../index.html">Главная</a>&gt; &lt;<a href="symbols.html">Символы</a>&gt;</div><a 
 id="tailclmse153.html"></a>
 
</body></html> 

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Списки</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,index=2,next,fn-in,charset=utf-8,sections+,minitoc<,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-04-20 14:55:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
<link rel="stylesheet" type="text/css" href="../cltl2ed.css"></head><body 
>
<!--l. 1463--><p class="noindent" > <div id="main_container"> <div id="content"> <div id="toplinks"><tt>&#x003C;</tt><a 
href="clmse85.html" >Далее</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse83.html" >Назад</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse83.html#tailclmse83.html" >Назад-и-вниз</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse84.html">В-конец</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="list.html#clmse84.html" >Наверх</a><tt>&#x003E;</tt>&lt;<a href="../index.html">Main Page</a>&gt;</div><h3 class="sectionHead"><span class="titlemark">15.2   </span> <a 
href="clm.html#QQ2-104-1260" id="x104-123000015.2">Списки</a></h3>
<!--l. 1465--><p class="noindent" >Следующие функции выполняет различные операции над списками.
<!--l. 1467--><p class="indent" >   Список является одним из первых Lisp&#x2019;овых типов данных. Имя «Lisp»
расшифровывается как «LISt Processing».
<div class="defun">
<!--l. 1471--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx104-1230001"></a><a 
 id="x104-1230002r445"></a> <b>endp</b>  <i>object</i>
</div>
<!--l. 1474--><p class="indent" >   Предикат <tt><a 
href="symbols.html#x185-2605333r333">endp</a></tt> используется для проверки конца списка. Возвращает
ложь для cons-ячеек, истину для <tt><a 
href="symbols.html#x185-2605609r609">nil</a></tt>, и генерирует ошибку для всех
остальных объектов других типов._______________________________________<div class="implementation">
<!--l. 1479--><p class="noindent" ><b>Заметка для реализации:</b> Implementations are encouraged to signal an error,
especially in the interpreter, for a non-list argument. The <tt><a 
href="symbols.html#x185-2605333r333">endp</a></tt> function is deﬁned so as
to allow compiled code to perform simply an atom check or a null check if speed is more
important than safety.
</div>___________________________________________________________________________________________________________
</div>
<div class="defun">
<!--l. 1489--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx104-1230003"></a><a 
 id="x104-1230004r446"></a> <b>list-length</b>  <i>list</i>
</div>
<tt>
<!--l. 1492--><p class="indent" >    <a 
href="symbols.html#x185-2605495r495">list-length</a></tt> возвращает длину списка <i>list</i>. <tt><a 
href="symbols.html#x185-2605495r495">list-length</a></tt> отличается от
<tt><a 
href="symbols.html#x185-2605487r487">length</a></tt> при использовании с циклическим списком. В таком случае <tt><a 
href="symbols.html#x185-2605487r487">length</a></tt>
может не вернуть управление, тогда как <tt><a 
href="symbols.html#x185-2605495r495">list-length</a></tt> вернёт <tt><a 
href="symbols.html#x185-2605609r609">nil</a></tt>. Например:
<div class="lisp"><div class="tabbing">
(list-length &#x2019;()) <span class="math"> ⇒</span> 0
     <br>          (list-length &#x2019;(a b c d)) <span class="math"> ⇒</span> 4<br>          (list-length &#x2019;(a (b c) d)) <span class="math"> ⇒</span> 3<br>
(let ((x (list &#x2019;a b c)))<br>                                               (rplacd (last x) x)<br>
  (list-length x)) <span class="math"> ⇒</span> <tt><a 
href="symbols.html#x185-2605609r609">nil</a></tt><br>
                                                                          

                                                                          
<!--l. 1504--><p class="noindent" ></div>
<!--l. 1504--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-123100015.2" id="x104-123100015.2"></a></span>
<!--l. 1504--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-123200015.2" id="x104-123200015.2"></a></span>
</div>
<tt>
<!--l. 1505--><p class="indent" >   <a 
href="symbols.html#x185-2605495r495">list-length</a></tt> может быть реализован так: <div class="lisp"><div class="tabbing">
(defun list-length (x)
   <br>                                       (do ((n 0 (+ n 2))            ;Счётчик<br>
       (fast x (cddr fast))     ;Быстрый указатель: на две позиции вперёд<br>
       (slow x (cdr slow)))     ;Медленный указатель: на одну позицию<br>
      (nil)<br>    ;; Если быстрый указатель дошёл до конца, вернуть длину.<br>
    (when (endp fast) (return n))<br>    (when (endp (cdr fast)) (return (+ n 1)))<br>
    ;; If fast pointer eventually equals slow pointer,<br>
    ;; then we must be stuck in a circular list.<br>
    ;; (A deeper property is the converse: if we are<br>
    ;; stuck in a circular list, then eventually the<br>
    ;; fast pointer will equal the slow pointer.<br>
    ;; That fact justiﬁes this implementation.)<br>
    (when (and (eq fast slow) (&#x003E; n 0)) (return nil))))<br>
<!--l. 1522--><p class="noindent" ></div>
<!--l. 1522--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-123300015.2" id="x104-123300015.2"></a></span>
<!--l. 1522--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-123400015.2" id="x104-123400015.2"></a></span>
</div>
<!--l. 1523--><p class="indent" >   Смотрите <tt><a 
href="symbols.html#x185-2605487r487">length</a></tt>, которая возвращает длину любой последовательности.
</div>
<div class="defun">
                                                                          

                                                                          
<!--l. 1526--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx104-1234001"></a><a 
 id="x104-1234002r447"></a> <b>nth</b>  <i>n</i> <i>list</i>
</div>
<tt>
<!--l. 1529--><p class="indent" >   (nth <i>n</i> <i>list</i>)</tt> возвращает <i>n</i>-нный элемент списка <i>list</i>. <i>car</i> элемент
списка принимается за «нулевой» элемент. Аргумент <i>n</i> должен быть
неотрицательным целым числом. Если длина списка не больше чем <i>n</i>, тогда
результат (), или другими словами <tt><a 
href="symbols.html#x185-2605609r609">nil</a></tt>. (Это согласовывается с концепцией
того, что <i>car</i> и <i>cdr</i> от () являются ().) Например: <div class="lisp"><div class="tabbing">
(nth 0 &#x2019;(foo bar gack)) <span class="math"> ⇒</span> foo
   <br>                                                       (nth 1 &#x2019;(foo bar gack)) <span class="math"> ⇒</span> bar<br>
(nth 3 &#x2019;(foo bar gack)) <span class="math"> ⇒</span> ()<br>
<!--l. 1541--><p class="noindent" ></div>
<!--l. 1541--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-123500015.2" id="x104-123500015.2"></a></span>
<!--l. 1541--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-123600015.2" id="x104-123600015.2"></a></span>
</div>
<tt>
<!--l. 1543--><p class="indent" >   <a 
href="symbols.html#x185-2605632r632">nth</a></tt> может быть использован в связке с <tt><a 
href="symbols.html#x185-2605778r778">setf</a></tt> для изменения элемента
списка. В этом случае, аргумент <i>n</i> должен быть меньше чем длина списка
<i>list</i>.
<!--l. 1547--><p class="indent" >   Следует отметить, что порядок аргументов в <tt><a 
href="symbols.html#x185-2605632r632">nth</a></tt> обратный в отличие от
большинства других функций селекторов для последовательностей, таких ка
<tt><a 
href="symbols.html#x185-2605329r329">elt</a></tt>.
</div>
<div class="defun">
<!--l. 1552--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx104-1236001"></a><a 
 id="x104-1236002r448"></a> <b>ﬁrst</b>  <i>list</i><br />
<i>
[Функция]</i><a 
 id="dx104-1236003"></a><a 
 id="x104-1236004r449"></a> <b>second</b>  <i>list</i><br />
<i>
[Функция]</i><a 
 id="dx104-1236005"></a><a 
 id="x104-1236006r450"></a> <b>third</b>  <i>list</i><br />
<i>
                                                                          

                                                                          
[Функция]</i><a 
 id="dx104-1236007"></a><a 
 id="x104-1236008r451"></a> <b>fourth</b>  <i>list</i><br />
<i>
[Функция]</i><a 
 id="dx104-1236009"></a><a 
 id="x104-1236010r452"></a> <b>ﬁfth</b>  <i>list</i><br />
<i>
[Функция]</i><a 
 id="dx104-1236011"></a><a 
 id="x104-1236012r453"></a> <b>sixth</b>  <i>list</i><br />
<i>
[Функция]</i><a 
 id="dx104-1236013"></a><a 
 id="x104-1236014r454"></a> <b>seventh</b>  <i>list</i><br />
<i>
[Функция]</i><a 
 id="dx104-1236015"></a><a 
 id="x104-1236016r455"></a> <b>eighth</b>  <i>list</i><br />
<i>
[Функция]</i><a 
 id="dx104-1236017"></a><a 
 id="x104-1236018r456"></a> <b>ninth</b>  <i>list</i><br />
<i>
[Функция]</i><a 
 id="dx104-1236019"></a><a 
 id="x104-1236020r457"></a> <b>tenth</b>  <i>list</i>
</div>
<!--l. 1564--><p class="indent" >   Иногда эти функции удобно использовать для доступа к определёнными
элементам списка. <tt><a 
href="symbols.html#x185-2605378r378">first</a></tt> то же, что и <tt><a 
href="symbols.html#x185-2605171r171">car</a></tt>, <tt><a 
href="symbols.html#x185-2605769r769">second</a></tt> то же, что и <tt><a 
href="symbols.html#x185-2605167r167">cadr</a></tt>, <tt><a 
href="symbols.html#x185-2605880r880">third</a></tt> то
же, что и <tt><a 
href="symbols.html#x185-2605166r166">caddr</a></tt>, и так далее. Следует отметить, что нумерация начинается с
единицы (ﬁrst) в отличие от нумерации, которая начинается с нуля и
используется в <tt><a 
href="symbols.html#x185-2605632r632">nth</a></tt>. <div class="lisp"><div class="tabbing">
(ﬁfth x) <span class="math"> ≡</span> (nth 4 x)
   <br>
<!--l. 1572--><p class="noindent" ></div>
<!--l. 1572--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-123700015.2" id="x104-123700015.2"></a></span>
<!--l. 1572--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-123800015.2" id="x104-123800015.2"></a></span>
</div>
<!--l. 1574--><p class="indent" >   Каждая из этих функций может быть использована в связке <tt><a 
href="symbols.html#x185-2605778r778">setf</a></tt> для
изменения элемента массива.
</div>
<div class="defun">
<!--l. 1578--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx104-1238001"></a><a 
 id="x104-1238002r458"></a> <b>rest</b>  <i>list</i>
                                                                          

                                                                          
</div>
<tt>
<!--l. 1581--><p class="indent" >   <a 
href="symbols.html#x185-2605746r746">rest</a></tt> означает то же, что и <tt><a 
href="symbols.html#x185-2605189r189">cdr</a></tt>, но мнемонически согласуется с <tt><a 
href="symbols.html#x185-2605378r378">first</a></tt>.
<tt><a 
href="symbols.html#x185-2605746r746">rest</a></tt> может использоваться в связке с <tt><a 
href="symbols.html#x185-2605778r778">setf</a></tt> для изменения элементов
массива.
</div>
<div class="defun">
<!--l. 1587--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx104-1238003"></a><a 
 id="x104-1238004r459"></a> <b>nthcdr</b>  <i>n</i> <i>list</i>
</div>
<tt>
<!--l. 1590--><p class="indent" >   (nthcdr <i>n</i> <i>list</i>)</tt> выполняет для списка <i>lisp</i> операцию <tt><a 
href="symbols.html#x185-2605189r189">cdr</a></tt> <i>n</i> раз, и
возвращает результат. Например: <div class="lisp"><div class="tabbing">
(nthcdr 0 &#x2019;(a b c)) <span class="math"> ⇒</span> (a b c)
   <br>                                                             (nthcdr 2 &#x2019;(a b c)) <span class="math"> ⇒</span> (c)<br>
(nthcdr 4 &#x2019;(a b c)) <span class="math"> ⇒</span> ()<br>
<!--l. 1597--><p class="noindent" ></div>
<!--l. 1597--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-123900015.2" id="x104-123900015.2"></a></span>
<!--l. 1597--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-124000015.2" id="x104-124000015.2"></a></span>
</div>
<!--l. 1598--><p class="indent" >   Другими словами, она возвращает <i>n</i>-нную <i>cdr</i> часть списка.
<div class="lisp">
<!--l. 1600--><p class="indent" >   <div class="tabbing">
(car (nthcdr n x)) <span class="math"> ≡</span> (nth n x)
   <br>
<!--l. 1602--><p class="noindent" ></div>
                                                                          

                                                                          
<!--l. 1602--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-124100015.2" id="x104-124100015.2"></a></span>
<!--l. 1602--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-124200015.2" id="x104-124200015.2"></a></span>
</div>
<!--l. 1603--><p class="indent" >   Аргумент <i>n</i> должен быть неотрицательным целым числом.
</div>
<div class="defun">
<!--l. 1606--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx104-1242001"></a><a 
 id="x104-1242002r460"></a> <b>last</b>  <i>list</i> <b>&#x0026;optional</b>  (<i>n</i> 1)
</div>
<tt>
<!--l. 1609--><p class="indent" >   <a 
href="symbols.html#x185-2605466r466">last</a></tt> возвращает последние <i>n</i> cons-ячеек списка <i>lisp</i>. Список <i>list</i>
может быть списком с точкой. Передача зацикленного списка является
ошибкой.
<!--l. 1613--><p class="indent" >   Аргумент <i>n</i> должен быть неотрицательным целым числом. Если <i>n</i> равен
нулю, тогда возвращается последний атом списка <i>list</i>. Если <i>n</i> не меньше чем
количество cons-ячеек, то возвращается весь список.
<!--l. 1618--><p class="indent" >   Например: <div class="lisp"><div class="tabbing">
(setq x &#x2019;(a b c d))
   <br>                       (last x) <span class="math"> ⇒</span> (d)<br>                       (rplacd (last x) &#x2019;(e f))<br>
x <span class="math"> ⇒</span> &#x2019;(a b c d e f)<br>                                    (last x 3) <span class="math"> ⇒</span> (d e f)<br>
(last &#x2019;()) <span class="math"> ⇒</span> ()<br>                                (last &#x2019;(a b c . d)) <span class="math"> ⇒</span> (c . d)<br>
(last &#x2019;(a b c . d) 0) <span class="math"> ⇒</span> d<br>                  (last &#x2019;(a b c . d) 2) <span class="math"> ⇒</span> (b c . d)<br>
(last &#x2019;(a b c . d) 1729) <span class="math"> ⇒</span> (a b c . d)<br>
<!--l. 1630--><p class="noindent" ></div>
<!--l. 1630--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-124300015.2" id="x104-124300015.2"></a></span>
<!--l. 1630--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-124400015.2" id="x104-124400015.2"></a></span>
</div>
</div>
                                                                          

                                                                          
<div class="defun">
<!--l. 1633--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx104-1244001"></a><a 
 id="x104-1244002r461"></a> <b>list</b>  <b>&#x0026;rest</b>  <i>args</i>
</div>
<tt>
<!--l. 1636--><p class="indent" >   <a 
href="symbols.html#x185-2605492r492">list</a></tt> создаёт и возвращает список, составленный из аргументов.
Например: <div class="lisp"><div class="tabbing">
(list 3 4 &#x2019;a (car &#x2019;(b . c)) (+ 6 -2)) <span class="math"> ⇒</span> (3 4 a b 4)
   <br>
<!--l. 1640--><p class="noindent" ></div>
<!--l. 1640--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-124500015.2" id="x104-124500015.2"></a></span>
<!--l. 1640--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-124600015.2" id="x104-124600015.2"></a></span>
</div>
<div class="lisp">
<!--l. 1642--><p class="indent" >   <div class="tabbing">
(list) <span class="math"> ⇒</span> ()
   <br>                                (list (list &#x2019;a &#x2019;b) (list &#x2019;c &#x2019;d &#x2019;e)) <span class="math"> ⇒</span> ((a b) (c d e))<br>
<!--l. 1645--><p class="noindent" ></div>
<!--l. 1645--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-124700015.2" id="x104-124700015.2"></a></span>
                                                                          

                                                                          
<!--l. 1645--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-124800015.2" id="x104-124800015.2"></a></span>
</div>
</div>
<div class="defun">
<!--l. 1648--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx104-1248001"></a><a 
 id="x104-1248002r462"></a> <b>list*</b>  <i>arg</i> <b>&#x0026;rest</b>  <i>others</i>
</div>
<tt>
<!--l. 1651--><p class="indent" >   <a 
href="symbols.html#x185-2605493r493">list*</a></tt> похожа на <tt><a 
href="symbols.html#x185-2605492r492">list</a></tt> за исключением того, что последняя <i>cons</i>-ячейка
создаваемого списка будет «с точкой». Последний аргумент используется как
последний элемент списка, а именно в последней cons-ячейки в <i>cdr</i> элементе.
Данный аргумент необязательно должен быть атомом, и если он не атом, то в
результате список будет иметь большую длину чем количество аргументов.
Например: <div class="lisp"><div class="tabbing">
(list* &#x2019;a &#x2019;b &#x2019;c &#x2019;d) <span class="math"> ⇒</span> (a b c . d)
   <br>
<!--l. 1660--><p class="noindent" ></div>
<!--l. 1660--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-124900015.2" id="x104-124900015.2"></a></span>
<!--l. 1660--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-125000015.2" id="x104-125000015.2"></a></span>
</div>
<!--l. 1661--><p class="indent" >   Это то же, что и <div class="lisp"><div class="tabbing">
(cons &#x2019;a (cons &#x2019;b (cons &#x2019;c &#x2019;d)))
   <br>
<!--l. 1664--><p class="noindent" ></div>
<!--l. 1664--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-125100015.2" id="x104-125100015.2"></a></span>
                                                                          

                                                                          
<!--l. 1664--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-125200015.2" id="x104-125200015.2"></a></span>
</div>
<!--l. 1665--><p class="indent" >   А также: <div class="lisp"><div class="tabbing">
(list* &#x2019;a &#x2019;b &#x2019;c &#x2019;(d e f)) <span class="math"> ⇒</span> (a b c d e f)
   <br>                                                                             (list* x) <span class="math"> ≡</span> x<br>
<!--l. 1669--><p class="noindent" ></div>
<!--l. 1669--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-125300015.2" id="x104-125300015.2"></a></span>
<!--l. 1669--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-125400015.2" id="x104-125400015.2"></a></span>
</div>
</div>
<div class="defun">
<!--l. 1672--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx104-1254001"></a><a 
 id="x104-1254002r463"></a> <b>make-list</b>  <i>size</i> <b>&#x0026;key</b>  <i>:initial-element</i>
</div>
<!--l. 1675--><p class="indent" >   Функция создаёт и возвращает список содержащий количество <i>size</i>
элементов, каждый из которых будет инициализирован значением аргумента
<tt>:initial-element</tt> (который по-умолчанию <tt><a 
href="symbols.html#x185-2605609r609">nil</a></tt>). <i>size</i> должен быть
неотрицательным целым числом. Например: <div class="lisp"><div class="tabbing">
(make-list 5) <span class="math"> ⇒</span> (<tt><a 
href="symbols.html#x185-2605609r609">nil</a></tt> <tt><a 
href="symbols.html#x185-2605609r609">nil</a></tt> <tt><a 
href="symbols.html#x185-2605609r609">nil</a></tt> <tt><a 
href="symbols.html#x185-2605609r609">nil</a></tt> <tt><a 
href="symbols.html#x185-2605609r609">nil</a></tt>)
   <br>                      (make-list 3 <tt>:initial-element</tt> &#x2019;rah) <span class="math"> ⇒</span> (rah rah rah)<br>
<!--l. 1683--><p class="noindent" ></div>
<!--l. 1683--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-125500015.2" id="x104-125500015.2"></a></span>
                                                                          

                                                                          
<!--l. 1683--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-125600015.2" id="x104-125600015.2"></a></span>
</div>
</div>
<div class="defun">
<!--l. 1686--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx104-1256001"></a><a 
 id="x104-1256002r464"></a> <b>append</b>  <b>&#x0026;rest</b>  <i>lists</i>
</div>
<!--l. 1689--><p class="indent" >   Функция возвращает список содержащий все элементы указанных в
аргументах списков. Аргументы не разрушаются. Например: <div class="lisp"><div class="tabbing">
(append &#x2019;(a b c) &#x2019;(d e f) &#x2019;() &#x2019;(g)) <span class="math"> ⇒</span> (a b c d e f g)
   <br>
<!--l. 1694--><p class="noindent" ></div>
<!--l. 1694--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-125700015.2" id="x104-125700015.2"></a></span>
<!--l. 1694--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-125800015.2" id="x104-125800015.2"></a></span>
</div>
<!--l. 1695--><p class="indent" >   Следует отметить, что <tt><a 
href="symbols.html#x185-2605079r79">append</a></tt> копирует верхний уровень всех переданных
списков <i>за исключением</i> последнего. Функция <tt><a 
href="symbols.html#x185-2605243r243">concatenate</a></tt> выполняет
похожую операцию, но всегда копирует все аргументы. Смотрите также
<tt><a 
href="symbols.html#x185-2605605r605">nconc</a></tt>, которая похожа на <tt><a 
href="symbols.html#x185-2605079r79">append</a></tt>, но разрушает все аргументы кроме
последнего.
<!--l. 1701--><p class="indent" >   Последний аргумент может быть любым Lisp объектом, и в этом случае
этот объект становится последним элементов итогового списка. Например,
<tt>(append &#x2019;(a b c) &#x2019;d)</tt> <span class="math"> ⇒</span> <tt>(a b c . d)</tt>.
<tt>
<!--l. 1705--><p class="indent" >   (append <i>x</i> &#x2019;())</tt> может быть использовано для копирования списка <i>x</i>,
однако для этого больше подходит функция <tt><a 
href="symbols.html#x185-2605255r255">copy-list</a></tt>.
</div>
<div class="defun">
<!--l. 1709--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx104-1258001"></a><a 
 id="x104-1258002r465"></a> <b>copy-list</b>  <i>list</i>
                                                                          

                                                                          
</div>
<!--l. 1712--><p class="indent" >   Функция возвращает список, который равен <tt><a 
href="symbols.html#x185-2605339r339">equal</a></tt> и в то же время не
равен <tt><a 
href="symbols.html#x185-2605337r337">eq</a></tt> списку <i>list</i>, Копируется только верхний уровень списка, то есть
<tt><a 
href="symbols.html#x185-2605255r255">copy-list</a></tt> копирует только в направлении <i>cdr</i> элементов, но не в
направлении <i>car</i> элементов. Если список «с точкой», то есть <tt>(cdr (last
<i>list</i>))</tt> является не-<tt><a 
href="symbols.html#x185-2605609r609">nil</a></tt> атомом, тогда итоговый список также будет «с
точкой». Смотрите также <tt><a 
href="symbols.html#x185-2605258r258">copy-seq</a></tt> и <tt><a 
href="symbols.html#x185-2605260r260">copy-tree</a></tt>.
</div>
<div class="defun">
<!--l. 1722--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx104-1258003"></a><a 
 id="x104-1258004r466"></a> <b>copy-alist</b>  <i>list</i>
</div>
<tt>
<!--l. 1725--><p class="indent" >   <a 
href="symbols.html#x185-2605254r254">copy-alist</a></tt> копирует ассоциативные списки. При этом, также
как и в <tt><a 
href="symbols.html#x185-2605255r255">copy-list</a></tt>, копируется только верхний уровень списка <i>lisp</i>.
Кроме того, каждый элемент списка <i>list</i>, являющийся в свою очередь
cons-ячейкой, заменяется новой cons-ячейкой с теми же <i>car</i> и <i>cons</i>
элементами.
</div>
<div class="defun">
<!--l. 1732--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx104-1258005"></a><a 
 id="x104-1258006r467"></a> <b>copy-tree</b>  <i>object</i>
</div>
<tt>
<!--l. 1735--><p class="indent" >   <a 
href="symbols.html#x185-2605260r260">copy-tree</a></tt> копирует древовидно организованные cons-ячейки. Аргумент
<i>object</i> может быть любым Lisp&#x2019;овым объектом. Если он не является
cons-ячейкой, то ничего не произойдёт и данный объект будет возвращён в
качестве результата. В противном случае будет возвращена новая
cons-ячейка, в которой <i>car</i> и <i>cons</i> элементы будут результатами рекурсивных
вызовов <tt><a 
href="symbols.html#x185-2605260r260">copy-tree</a></tt>. Другими словами, все cons-ячейки будут рекурсивно
скопированы, и рекурсия будет останавливаться только на атомах.
</div>
<div class="defun">
<!--l. 1744--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx104-1258007"></a><a 
 id="x104-1258008r468"></a> <b>revappend</b>  <i>x</i> <i>y</i>
                                                                          

                                                                          
</div>
<tt>
<!--l. 1747--><p class="indent" >   (revappend <i>x</i> <i>y</i>)</tt> похожа на <tt>(append (reverse <i>x</i>) <i>y</i>)</tt> за исключением
того, что она потенциально более производительна. Аргументы <i>x</i> и <i>y</i> должны
быть списками. Аргумент <i>x</i> копируется (не разрушается) в отличие от
<tt><a 
href="symbols.html#x185-2605618r618">nreconc</a></tt>, которая разрушает первый аргумент.
</div>
<div class="defun">
<!--l. 1754--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx104-1258009"></a><a 
 id="x104-1258010r469"></a> <b>nconc</b>  <b>&#x0026;rest</b>  <i>lists</i>
</div>
<!--l. 1757--><p class="indent" >   В качестве аргументов <tt><a 
href="symbols.html#x185-2605605r605">nconc</a></tt> принимает списки. Функция соединяет
списки и возвращает результат. При этом аргументы изменяются, а не
копируются. (В сравнении с <tt><a 
href="symbols.html#x185-2605079r79">append</a></tt>, которая копирует аргументы, а не
разрушает их.) Например: <div class="lisp"><div class="tabbing">
(setq x &#x2019;(a b c))
   <br>                   (setq y &#x2019;(d e f))<br>                   (nconc x y) <span class="math"> ⇒</span> (a b c d e f)<br>
x <span class="math"> ⇒</span> (a b c d e f)<br>
<!--l. 1766--><p class="noindent" ></div>
<!--l. 1766--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-125900015.2" id="x104-125900015.2"></a></span>
<!--l. 1766--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-126000015.2" id="x104-126000015.2"></a></span>
</div>
<!--l. 1767--><p class="indent" >   Следует отметить, что в примере, значение <tt>x</tt> отличается от первоначального,
так как последняя cons-ячейка была изменена с помощью <tt><a 
href="symbols.html#x185-2605760r760">rplacd</a></tt> значением
<tt>y</tt>. Если сейчас выполнить <tt>(nconc x y)</tt> ещё раз, тогда часть списка
зациклится: <tt>(a b c d e f d e f d e f ...)</tt>, и так до бесконечности. Если
<tt><a 
href="symbols.html#x185-2605027r27">*print-circle*</a></tt> не равен <tt><a 
href="symbols.html#x185-2605609r609">nil</a></tt>, тогда вывод списка будет таким: <tt>(a b c .
#1=(d e f . #1#))</tt>.
<!--l. 1775--><p class="indent" >   Вызов <tt><a 
href="symbols.html#x185-2605605r605">nconc</a></tt>, совпадающий с наиболее близким шаблоном выражения в
левой части приводит к эквивалентным побочным действиям, как в правой
части таблицы.
                                                                          

                                                                          
<div class="flushleft" 
>
<!--l. 1778--><p class="noindent" >
 <!--tex4ht:inline--><div class="tabular"><table width="100%" class="tabular"><tr><td align="left" ><tt>(nconc)</tt>            </td><td align="left" ><tt>nil     ;</tt>Нет побочных эффектов</td>
</tr><tr><td align="left" ><tt>(nconc nil . <i>r</i>)    </tt></td><td align="left" ><tt>(nconc . <i>r</i>)</tt>                   </td>
</tr><tr><td align="left" ><tt>(nconc <i>x</i>)</tt>          </td><td align="left" ><i>x</i>                                           </td>
</tr><tr><td align="left" ><tt>(nconc <i>x</i> <i>y</i>)</tt>        </td><td align="left" ><tt>(let ((p <i>x</i>) (q <i>y</i>))</tt>            </td>
</tr><tr><td align="left" >                   </td><td align="left" ><tt>  (rplacd (last p) q)</tt>          </td>
</tr><tr><td align="left" >                   </td><td align="left" ><tt>  p)</tt>                           </td>
</tr><tr><td align="left" ><tt>(nconc <i>x</i> <i>y</i> . <i>r</i>)</tt>   </td><td align="left" ><tt>(nconc (nconc <i>x</i> <i>y</i>) . <i>r</i>)</tt>      </td></tr></table>
</div></div>
</div>
                                                                          

                                                                          
<div class="defun">
<!--l. 1794--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx104-1260001"></a><a 
 id="x104-1260002r470"></a> <b>nreconc</b>  <i>x</i> <i>y</i>
</div>
<tt>
<!--l. 1797--><p class="indent" >   (nreconc <i>x</i> <i>y</i>)</tt> похожа на <tt>(nconc (nreverse <i>x</i>) <i>y</i>)</tt> за исключением
того, что она потенциально эффективнее. Оба аргумента должны быть
списками. Аргумент <i>x</i> разрушается. Сравните с <tt><a 
href="symbols.html#x185-2605753r753">revappend</a></tt>.
<div class="lisp">
<!--l. 1803--><p class="indent" >   <div class="tabbing">
(setq planets &#x2019;(jupiter mars earth venus mercury))
   <br>                            (setq more-planets &#x2019;(saturn uranus pluto neptune))<br>
(nreconc more-planets planets)<br>
       <span class="math"> ⇒</span> (neptune pluto uranus saturn jupiter mars earth venus mercury)<br>
  теперь значение <tt>more-planets</tt> точно не определено<br>
<!--l. 1809--><p class="noindent" ></div>
<!--l. 1809--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-126100015.2" id="x104-126100015.2"></a></span>
<!--l. 1809--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-126200015.2" id="x104-126200015.2"></a></span>
</div>
<!--l. 1811--><p class="indent" >   Поведение <tt>(nreconc <i>x</i> <i>y</i>)</tt> совпадает с поведением <tt>(nconc (nreverse
<i>x</i>) <i>y</i>)</tt> в части побочных эффектов.
</div>
<div class="defmac">
<div class="defmacheader">
<!--l. 1816--><p class="indent" >   <div class="tabbing">
 <i>[Макрос]</i> <b>push</b> <a 
 id="dx104-1262001"></a><a 
 id="x104-1262002r471"></a> item place
   <br>
                                                                          

                                                                          
<!--l. 1817--><p class="noindent" ></div>
<!--l. 1817--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-126300015.2" id="x104-126300015.2"></a></span>
</div>
<!--l. 1818--><p class="indent" >   Форма <i>place</i> должна быть именем обобщённое переменной, содержащей
список. <i>item</i> может указывать на любой Lisp&#x2019;овый объект. <i>item</i> вставляется в
начало списка и данный список возвращается в качестве результата. Форма
<i>place</i> может быть любой формой, которая подходит для <tt><a 
href="symbols.html#x185-2605778r778">setf</a></tt>. Если
рассматривать список как стек, тогда <tt><a 
href="symbols.html#x185-2605705r705">push</a></tt> добавляет элемент на вершину
стека. Например: <div class="lisp"><div class="tabbing">
(setq x &#x2019;(a (b c) d))
   <br>                   (push 5 (cadr x)) <span class="math"> ⇒</span> (5 b c) и теперь x <span class="math"> ⇒</span> (a (5 b c) d)<br>
<!--l. 1829--><p class="noindent" ></div>
<!--l. 1829--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-126400015.2" id="x104-126400015.2"></a></span>
<!--l. 1829--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-126500015.2" id="x104-126500015.2"></a></span>
</div>
<!--l. 1830--><p class="indent" >   Действие от <div class="lisp"><div class="tabbing">
(push <i>item</i> <i>place</i>)
   <br>
<!--l. 1833--><p class="noindent" ></div>
<!--l. 1833--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-126600015.2" id="x104-126600015.2"></a></span>
                                                                          

                                                                          
<!--l. 1833--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-126700015.2" id="x104-126700015.2"></a></span>
</div>
<!--l. 1834--><p class="indent" >   эквивалентно действию <div class="lisp"><div class="tabbing">
(setf <i>place</i> (cons <i>item</i> <i>place</i>))
   <br>
<!--l. 1837--><p class="noindent" ></div>
<!--l. 1837--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-126800015.2" id="x104-126800015.2"></a></span>
<!--l. 1837--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-126900015.2" id="x104-126900015.2"></a></span>
</div>
<!--l. 1838--><p class="indent" >   за исключением того, что <tt><a 
href="symbols.html#x185-2605705r705">push</a></tt> выполняет форму <i>place</i> только один раз, а
не три. Более того, в для некоторых форм <i>place</i> <tt><a 
href="symbols.html#x185-2605705r705">push</a></tt> может быть
эффективнее чем версия с <tt><a 
href="symbols.html#x185-2605778r778">setf</a></tt>.
<!--l. 1843--><p class="indent" >   Следует отметить, что <i>item</i> вычисляется прежде чем вычисляется
<i>place</i>.
</div>
<div class="defmac">
<div class="defmacheader">
<!--l. 1848--><p class="indent" >   <div class="tabbing">
 <i>[Макрос]</i> <b>pushnew</b> <a 
 id="dx104-1269001"></a><a 
 id="x104-1269002r472"></a> item place &#x0026;key :test :test-not :key
   <br>
<!--l. 1849--><p class="noindent" ></div>
<!--l. 1849--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-127000015.2" id="x104-127000015.2"></a></span>
</div>
<!--l. 1850--><p class="indent" >   Форма <i>place</i> должна быть именем обобщённое переменной, содержащей
список. <i>item</i> может указывать на любой Lisp&#x2019;овый объект. Если <i>item</i> не
содержится в списке (этот факт устанавливается с помощью предиката
переданного в <tt>:test</tt>, который по-умолчанию <tt><a 
href="symbols.html#x185-2605338r338">eql</a></tt>), тогда <i>item</i> вставляется в
начало списка и данный список возвращается в качестве результата. В
                                                                          

                                                                          
противном случае возвращается исходный список. Форма <i>place</i> может быть
любой формой, которая подходит для <tt><a 
href="symbols.html#x185-2605778r778">setf</a></tt>. Если рассматривать список как
множество, тогда <tt><a 
href="symbols.html#x185-2605706r706">pushnew</a></tt> добавляет элемент в множество. Смотрите
<tt><a 
href="symbols.html#x185-2605072r72">adjoin</a></tt>.
<!--l. 1860--><p class="indent" >   Именованные параметры <tt><a 
href="symbols.html#x185-2605706r706">pushnew</a></tt> имеют тот же смысл, что и в функциях
для последовательностей. Смотрите главу <a 
href="kseque.html#x96-115800014">14<!--tex4ht:ref: KSEQUE --></a>. По сути, данные аргументы
идентичны аргументам <tt><a 
href="symbols.html#x185-2605072r72">adjoin</a></tt>.
<tt>
<!--l. 1864--><p class="indent" >   <a 
href="symbols.html#x185-2605706r706">pushnew</a></tt> возвращает модифицированное содержимое переменной <i>place</i>.
Например: <div class="lisp"><div class="tabbing">
(setq x &#x2019;(a (b c) d))
   <br>              (pushnew 5 (cadr x)) <span class="math"> ⇒</span> (5 b c) и теперь x <span class="math"> ⇒</span> (a (5 b c) d)<br>
(pushnew &#x2019;b (cadr x)) <span class="math"> ⇒</span> (5 b c) и <tt>x</tt> не меняется<br>
<!--l. 1870--><p class="noindent" ></div>
<!--l. 1870--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-127100015.2" id="x104-127100015.2"></a></span>
<!--l. 1870--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-127200015.2" id="x104-127200015.2"></a></span>
</div>
<!--l. 1871--><p class="indent" >   Действие от <div class="lisp"><div class="tabbing">
(pushnew <i>item</i> <i>place</i> <tt>:test</tt> <i>p</i>)
   <br>
<!--l. 1874--><p class="noindent" ></div>
<!--l. 1874--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-127300015.2" id="x104-127300015.2"></a></span>
                                                                          

                                                                          
<!--l. 1874--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-127400015.2" id="x104-127400015.2"></a></span>
</div>
<!--l. 1875--><p class="indent" >   эквивалентно действию <div class="lisp"><div class="tabbing">
(setf <i>place</i> (adjoin <i>item</i> <i>place</i> <tt>:test</tt> <i>p</i>))
   <br>
<!--l. 1878--><p class="noindent" ></div>
<!--l. 1878--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-127500015.2" id="x104-127500015.2"></a></span>
<!--l. 1878--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-127600015.2" id="x104-127600015.2"></a></span>
</div>
<!--l. 1879--><p class="indent" >   за исключением того, что <tt><a 
href="symbols.html#x185-2605706r706">pushnew</a></tt> выполняет форму <i>place</i> только один
раз, а не три. Более того, в для некоторых форм <i>place</i> <tt><a 
href="symbols.html#x185-2605706r706">pushnew</a></tt> может быть
эффективнее чем версия с <tt><a 
href="symbols.html#x185-2605778r778">setf</a></tt>.
<!--l. 1884--><p class="indent" >   Следует отметить, что <i>item</i> вычисляется прежде чем вычисляется
<i>place</i>.
</div>
<div class="defmac">
<div class="defmacheader">
<!--l. 1889--><p class="indent" >   <div class="tabbing">
 <i>[Макрос]</i> <b>pop</b> <a 
 id="dx104-1276001"></a><a 
 id="x104-1276002r473"></a> place
   <br>
<!--l. 1890--><p class="noindent" ></div>
<!--l. 1890--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-127700015.2" id="x104-127700015.2"></a></span>
</div>
<!--l. 1891--><p class="indent" >   Форма <i>place</i> должна быть именем обобщённое переменной, содержащей
список. Результатом <tt><a 
href="symbols.html#x185-2605670r670">pop</a></tt> является результат <tt><a 
href="symbols.html#x185-2605171r171">car</a></tt> функции для переданного
списка, и побочным эффектом является то, что в обобщённую переменную
сохраняется результат <tt><a 
href="symbols.html#x185-2605189r189">cdr</a></tt> для списка. Форма <i>place</i> может быть любой
формой, которая подходит для <tt><a 
href="symbols.html#x185-2605778r778">setf</a></tt>. Если рассматривать исходный список
                                                                          

                                                                          
как стек, то <tt><a 
href="symbols.html#x185-2605670r670">pop</a></tt> достаёт элемент из вершины стека и возвращает его.
Например: <div class="lisp"><div class="tabbing">
(setq stack &#x2019;(a b c))
   <br>                                        (pop stack) <span class="math"> ⇒</span> a and now stack <span class="math"> ⇒</span> (b c)<br>
<!--l. 1902--><p class="noindent" ></div>
<!--l. 1902--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-127800015.2" id="x104-127800015.2"></a></span>
<!--l. 1902--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-127900015.2" id="x104-127900015.2"></a></span>
</div>
<!--l. 1903--><p class="indent" >   Действия от <tt>(pop <i>place</i>)</tt> эквивалентно <div class="lisp"><div class="tabbing">
(prog1 (car <i>place</i>) (setf <i>place</i> (cdr <i>place</i>)))
   <br>
<!--l. 1906--><p class="noindent" ></div>
<!--l. 1906--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-128000015.2" id="x104-128000015.2"></a></span>
<!--l. 1906--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-128100015.2" id="x104-128100015.2"></a></span>
</div>
<!--l. 1907--><p class="indent" >   за исключением того, что <tt><a 
href="symbols.html#x185-2605670r670">pop</a></tt> выполняет форму <i>place</i> только один раз, а
не три. Более того, в для некоторых форм <i>place</i> <tt><a 
href="symbols.html#x185-2605670r670">pop</a></tt> может быть эффективнее
чем версия с <tt><a 
href="symbols.html#x185-2605778r778">setf</a></tt>.
</div>
<div class="defun">
<!--l. 1913--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx104-1281001"></a><a 
 id="x104-1281002r474"></a> <b>butlast</b>  <i>list</i> <b>&#x0026;optional</b>  <i>n</i>
</div>
<!--l. 1916--><p class="indent" >   Функция создаёт и возвращает список с такими же элементами кроме <i>n</i>
                                                                          

                                                                          
последних, что и в списке <i>list</i>. <i>n</i> по-умолчанию равно 1. Аргумент не
разрушается. Если длина списка <i>list</i> меньше чем <i>n</i>, тогда возвращается ().
Например: <div class="lisp"><div class="tabbing">
(butlast &#x2019;(a b c d)) <span class="math"> ⇒</span> (a b c)
   <br>            (butlast &#x2019;((a b) (c d))) <span class="math"> ⇒</span> ((a b))<br>            (butlast &#x2019;(a)) <span class="math"> ⇒</span> ()<br>
(butlast nil) <span class="math"> ⇒</span> ()<br>
<!--l. 1927--><p class="noindent" ></div>
<!--l. 1927--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-128200015.2" id="x104-128200015.2"></a></span>
<!--l. 1927--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-128300015.2" id="x104-128300015.2"></a></span>
</div>
<!--l. 1928--><p class="indent" >   Имя функции образовано от фразы «all elements but the last» («все
элементы кроме последних»).
</div>
<div class="defun">
<!--l. 1932--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx104-1283001"></a><a 
 id="x104-1283002r475"></a> <b>nbutlast</b>  <i>list</i> <b>&#x0026;optional</b>  <i>n</i>
</div>
<!--l. 1935--><p class="indent" >   Это деструктивная версия <tt><a 
href="symbols.html#x185-2605150r150">butlast</a></tt>. Данная функция изменяет
<i>cdr</i> элемент cons-ячейки на <tt><a 
href="symbols.html#x185-2605609r609">nil</a></tt>. Искомая cons-ячейка находится на
позиции <i>n</i>+1 с конца списка. Если длина списка <i>list</i> меньше чем <i>n</i>, тогда
возвращается (), и аргумент не модифицируется. (Таким образом можно
написать <tt>(setq a (nbutlast a))</tt>, а не <tt>(nbutlast a)</tt>.) Например:
<div class="lisp"><div class="tabbing">
(setq foo &#x2019;(a b c d))
   <br>                                                              (nbutlast foo) <span class="math"> ⇒</span> (a b c)<br>
foo <span class="math"> ⇒</span> (a b c)<br>                                       (nbutlast &#x2019;(a)) <span class="math"> ⇒</span> ()<br>
(nbutlast &#x2019;<tt><a 
href="symbols.html#x185-2605609r609">nil</a></tt>) <span class="math"> ⇒</span> ()<br>
<!--l. 1947--><p class="noindent" ></div>
                                                                          

                                                                          
<!--l. 1947--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-128400015.2" id="x104-128400015.2"></a></span>
<!--l. 1947--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-128500015.2" id="x104-128500015.2"></a></span>
</div>
</div>
<div class="defun">
<!--l. 1950--><p class="noindent" ><div class="defunheader"> <i>[Функция]</i><a 
 id="dx104-1285001"></a><a 
 id="x104-1285002r476"></a> <b>ldiﬀ</b>  <i>list</i> <i>sublist</i>
</div>
<!--l. 1953--><p class="indent" >   Аргумент <i>list</i> должен быть списком, и <i>sublist</i> должен быть подсписком
<i>list</i>. <tt><a 
href="symbols.html#x185-2605470r470">ldiff</a></tt> (означает «list diﬀerence») возвращает новый список, элементы
которого содержат все элементы списка <i>list</i> до подсписка <i>sublist</i>. Если <i>sublist</i>
не является частью <i>list</i> (или в частности равен <tt><a 
href="symbols.html#x185-2605609r609">nil</a></tt>), тогда возвращается
копия всего списка <i>list</i>. Аргумент <i>list</i> не разрушается. Например:
<div class="lisp"><div class="tabbing">
(setq x &#x2019;(a b c d e))
   <br>                                                           (setq y (cdddr x)) <span class="math"> ⇒</span> (d e)<br>
(ldiﬀ x y) <span class="math"> ⇒</span> (a b c)<br>
но (ldiﬀ &#x2019;(a b c d) &#x2019;(c d)) <span class="math"> ⇒</span> (a b c d)
   <br>
<!--l. 1966--><p class="noindent" ></div>
<!--l. 1966--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-128600015.2" id="x104-128600015.2"></a></span>
<!--l. 1966--><p class="noindent" ><span class="paragraphHead"><a 
href="#x104-128700015.2" id="x104-128700015.2"></a></span>
</div>
<!--l. 1967--><p class="indent" >   так как подсписок не равен <tt><a 
href="symbols.html#x185-2605337r337">eq</a></tt> ни одной части списка.
</div>
                                                                          

                                                                          
<!--l. 1970--><p class="indent" >   <div id="bottomlinks"><tt>&#x003C;</tt><a 
href="clmse85.html" >Далее</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse83.html" >Назад</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse83.html#tailclmse83.html" >Назад-и-вниз</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse84.html" >В-начало</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="list.html#clmse84.html" >Наверх</a><tt>&#x003E;</tt></div><a 
 id="tailclmse84.html"></a>   </div> </div> 
</body></html> 

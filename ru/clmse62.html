<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Системные пакеты</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,index=2,next,fn-in,charset=utf-8,sections+,minitoc<,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-04-20 14:55:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
<link rel="stylesheet" type="text/css" href="../cltl2ed.css"></head><body 
>
<!--l. 2098--><p class="noindent" > <div id="main_container"> <div id="content"> <div id="toplinks"><tt>&#x003C;</tt><a 
href="clmse63.html" >Далее</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse61.html" >Назад</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse61.html#tailclmse61.html" >Назад-и-вниз</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse62.html">В-конец</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="xpack.html#clmse62.html" >Наверх</a><tt>&#x003E;</tt>&lt;<a href="../index.html">Main Page</a>&gt;</div><h3 class="sectionHead"><span class="titlemark">11.6   </span> <a 
href="clm.html#QQ2-78-914" id="x78-90500011.6">Системные
пакеты</a></h3>
<div class="flushdesc">
      <ul><li><b>
<tt>common-lisp</tt> </b></li>Пакет с именем <tt>common-lisp</tt> содержит базовые элементы
      системы  ANSI  Common  Lisp.  Его  внешние  символы  включают
      все  видимые  пользователю  функции  и  глобальные  переменные,
      которые представлены в ANSI Common Lisp системе, такие как <tt><a 
href="symbols.html#x185-2605171r171">car</a></tt>,
      <tt><a 
href="symbols.html#x185-2605189r189">cdr</a></tt> и <tt><a 
href="symbols.html#x185-2605023r23">*package*</a></tt>. Следует однако отметить, что домашним пакетом
      этих символов не обязательно должен является пакет <tt>common-lisp</tt>
      (для символов, например <tt><a 
href="symbols.html#x185-2605871r871">t</a></tt> и <tt><a 
href="symbols.html#x185-2605462r462">lambda</a></tt> будет проще быть доступными
      и   в   <tt>common-lisp</tt>,   и   в   другом   пакете,   возможно   с   именем
      <tt>lisp</tt> FIXME).  Почти  все  другие  пакеты  должны  использовать
      <tt>common-lisp</tt>,  таким  образом  эти  символы  будут  доступны  без
      использования полного имени (с двоеточием). Данный пакет имеет
      псевдоним <tt>cl</tt>.
      <li><b>
<tt>common-lisp-user</tt> </b></li>Пакет  <tt>common-lisp-user</tt> является,  по-умолчанию,
      текущим пакетом во время запуска ANSI Common Lisp системы.
      Этот  пакет  использует  пакет  <tt>common-lisp</tt> и  имеет  псевдоним
      <tt>cl-user</tt>. В зависимости от реализации он также может содержать
      другие символы и использовать платформоспецифичные пакеты.
      <li><b>
<tt>keyword</tt> </b></li>Этот  пакет  содержит  все  ключевые  символы,  используемые
      встроенными или пользовательскими Lisp&#x2019;овыми функциями. Имя
      символа,  начинающегося  с  двоеточия,  интерпретируется,  как
      ссылка  на  символ  из  этого  пакета,  который  всегда  является
      внешним.  Все  символы  в  этом  пакете  является  константами,
      которые вычисляются сами в себя, поэтому пользователь может
      записывать <tt>:foo</tt> вместо <tt>&#x2019;:foo</tt>.</ul>
                                                                          

                                                                          
</div>
<!--l. 2129--><p class="noindent" >Пользовательским программам не могут выполнять следующие действия,
которые могут противоречить базовому функционалу или негативно с ним
взаимодействовать. Если над символом в пакете <tt>common-lisp</tt> совершается
одно из действий ниже, за исключением явных указаний в книге, последствия
не определены.
      <ul class="itemize1">
      <li class="itemize">связывание  или  изменение  значения  символа  (лексически  или
      динамически)
      </li>
      <li class="itemize">определение или связывания символа с функцией
      </li>
      <li class="itemize">определение или связывания символа с макросом
      </li>
      <li class="itemize">определение  его  как  спецификатора  типа  (<tt><a 
href="symbols.html#x185-2605289r289">defstruct</a></tt>,  <tt><a 
href="symbols.html#x185-2605274r274">defclass</a></tt>,
      <tt><a 
href="symbols.html#x185-2605290r290">deftype</a></tt>)
      </li>
      <li class="itemize">определение его как структуры (<tt><a 
href="symbols.html#x185-2605289r289">defstruct</a></tt>)
      </li>
      <li class="itemize">определение его как декларации
      </li>
      <li class="itemize">определение его макроса символа
      </li>
      <li class="itemize">изменение выводимого имени символа
      </li>
      <li class="itemize">изменение пакета символа
      </li>
      <li class="itemize">трассировка символа
      </li>
      <li class="itemize">декларация  или  прокламация  символа  как  специального  или
      лексического
                                                                          

                                                                          
      </li>
      <li class="itemize">декларация или прокламация типа символа (<tt>type</tt>, <tt>ftype</tt>)
      </li>
      <li class="itemize">удаление символа из пакета <tt>common-lisp</tt>
      </li>
      <li class="itemize">определение как макроса компилятора</li></ul>
<!--l. 2150--><p class="indent" >   Если такой символ не определён глобально как переменная или
константа, пользовательская программа может связывать его лексически и
декларировать тип <tt>type</tt> данного связывания.
<!--l. 2154--><p class="indent" >   Если такой символ не определён как функция, макрос или специальная
форма, пользовательская программа может лексически связать символ с
функцией, декларировать тип <tt>ftype</tt> данного связывания и трассировать это
связывание.
<!--l. 2158--><p class="indent" >   Если такой символ не определён как функция, макрос или специальная
форма, пользовательская программа может лексически связать символ с
макросом.
<!--l. 2161--><p class="indent" >   В качестве примера, поведение данного фрагмента кода <div class="lisp"><div class="tabbing">
(ﬂet ((open (ﬁlename &#x0026;key direction)
   <br>                                            (format t &#x0022;~%OPEN was called.&#x0022;)<br>
         (open ﬁlename :direction direction)))<br>
  (with-open-ﬁle (x &#x0022;frob&#x0022; :direction &#x2019;:output)<br>
    (format t &#x0022;~%Was OPEN called?&#x0022;)))<br>
<!--l. 2168--><p class="noindent" ></div>
<!--l. 2168--><p class="noindent" ><span class="paragraphHead"><a 
href="#x78-90600011.6" id="x78-90600011.6"></a></span>
<!--l. 2168--><p class="noindent" ><span class="paragraphHead"><a 
href="#x78-90700011.6" id="x78-90700011.6"></a></span>
</div>
<!--l. 2169--><p class="indent" >   не определено. Даже в «разумной» реализации, например, раскрытие
макрос <tt><a 
href="symbols.html#x185-2605937r937">with-open-file</a></tt> должно ссылаться на функцию <tt><a 
href="symbols.html#x185-2605640r640">open</a></tt>. Тем не менее,
предшествующие правила определяют является ли реализация «разумной».
                                                                          

                                                                          
Данный фрагмент кода нарушает правила. Официально его поведение, таким
образом, полностью не определено, и точка.
<!--l. 2175--><p class="indent" >   Следует отметить, что «изменение списка свойств» не входит в список
упомянутых действий, таким образом пользовательская программа
может добавлять или удалять свойства для символов в <tt>common-lisp</tt>
пакете.
                                                                          

                                                                          
<!--l. 2179--><p class="indent" >   <div id="bottomlinks"><tt>&#x003C;</tt><a 
href="clmse63.html" >Далее</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse61.html" >Назад</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse61.html#tailclmse61.html" >Назад-и-вниз</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse62.html" >В-начало</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="xpack.html#clmse62.html" >Наверх</a><tt>&#x003E;</tt></div><a 
 id="tailclmse62.html"></a>  </div> </div> 
</body></html> 

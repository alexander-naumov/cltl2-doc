<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>13 Characters</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,next,charset=utf-8,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-03-19 00:40:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
</head><body 
>
   <!--l. 6--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse71.html" >Далее</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse70.html" >Назад</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse70.html#tailclmse70.html" >Назад-и-вниз</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmch13.html">В-конец</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clm.html#clmch13.html" >Вверх</a><tt>&#x003E;</tt></p></div>
   <h2 class="chapterHead"><span class="titlemark">Глава 13</span><br /><a 
 id="x88-18900013"></a>Characters</h2>
<!--l. 8--><p class="noindent" >Common Lisp provides a character data type; objects of this type represent
printed symbols such as letters.
<!--l. 11--><p class="indent" >   In general, characters in Common Lisp are not true objects; <a 
href="clmse33.html#x44-78002r44">eq</a> cannot be
counted upon to operate on them reliably. In particular, it is possible that the
expression <div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(let ((x z) (y z)) (eq x y))
</td></tr></table>
<!--l. 16--><p class="indent" >
</div>
</div>
<!--l. 17--><p class="noindent" >may be false rather than true, if the value of z is a character.
<div class=rationale>
<!--l. 20--><p class="noindent" ><b>Rationale:</b> This odd breakdown of <a 
href="clmse33.html#x44-78002r44">eq</a> in the case of characters allows the implementor
enough design freedom to produce exceptionally eﬃcient code on conventional
architectures. In this respect the treatment of characters exactly parallels that of
numbers, as described in chapter <a 
href="clmch12.html#x77-17400012">12<!--tex4ht:ref: NUMBER --></a>.
</div>
   <div class="table">
                                                                          

                                                                          
<!--l. 30--><p class="indent" >   <a 
 id="x88-1890011"></a><hr class="float"><div class="float" 
>
                                                                          

                                                                          
 <div class="caption" 
><span class="id">Table 13.1: </span><span  
class="content">Standard Character Labels, Glyphs, and Descriptions</span></div><!--tex4ht:label?: x88-1890011 -->
Table unavailable
<!--l. 82--><p class="noindent" >The characters in this table plus the space and newline characters make up the standard
Common Lisp character repertoire (type standard-char). The character labels and
character descriptions shown here are taken from ISO standard 6937/2 . The ﬁrst
character of the label categorizes the character as Latin, Numeric, or Special.
                                                                          

                                                                          
   </div><hr class="endfloat" />
   </div>
<!--l. 91--><p class="indent" >   If two objects are to be compared for “identity,” but either might be a
character, then the predicate <a 
href="clmse33.html#x44-78004r45">eql</a> is probably appropriate.
<div class=newer>
<!--l. 95--><p class="indent" >   X3J13 voted in March 1989 <a 
 id="dx88-189002"></a>to approve the following deﬁnitions and
terminology for use in discussing character facilities in Common Lisp.
<!--l. 99--><p class="indent" >   A character repertoire deﬁnes a collection of characters independent of their
speciﬁc rendered image or font. (This corresponds to the mathematical notion of a
set, but the term character set is avoided here because it has been used in the
past to mean both what is here called a repertoire and what is here called a coded
character set.) Character repertoires are speciﬁed independent of coding and their
characters are identiﬁed only with a unique character label, a graphic
symbol, and a character description. As an example, table <a 
href="#x88-1890011">13.1<!--tex4ht:ref: STANDARD-CHAR-REPERTOIRE-TABLE --></a> shows the
character labels, graphic symbols, and character descriptions for all of
the characters in the repertoire standard-char except for #\Space and
#\Newline.
<!--l. 113--><p class="indent" >   Every Common Lisp implementation must support the standard character
repertoire as well as repertoires named base-char, extended-char, and <a 
href="clmse74.html#x92-193002r347">character</a>.
Other repertoires may be supported as well. X3J13 voted in June 1989 <a 
 id="dx88-189003"></a>to specify
that names of repertoires may be used as type speciﬁers. Such types must be
subtypes of <a 
href="clmse74.html#x92-193002r347">character</a>; that is, in a given implementation the repertoire named
<a 
href="clmse74.html#x92-193002r347">character</a> must encompass all the character objects supported by that
implementation.
<!--l. 122--><p class="indent" >   A coded character set is a character repertoire plus an encoding that
provides a bijective mapping between each character in the set and a
number (typically a non-negative integer) that serves as the character
representation. There are numerous internationally standardized coded character
sets.
<!--l. 128--><p class="indent" >   A character may be included in one or more character repertoires.
Similarly, a character may be included in one or more coded character
sets.
<!--l. 131--><p class="indent" >   To ensure that each character is uniquely deﬁned, we may use a universal
registry of characters that incorporates a collection of distinguished repertoires
called character scripts that form an exhaustive partition of all characters. That
is, each character is included in exactly one character script. (Draft ISO 10646
Coded Character Set Standard, if eventually approved as a standard, may become
the practical realization of this universal registry.)
                                                                          

                                                                          
<!--l. 138--><p class="indent" >   (X3J13 voted in June 1989 <a 
 id="dx88-189004"></a>to specify that an implementation must document
the character scripts it supports. For each script the documentation should discuss
character labels, glyphs, and descriptions; any canonicalization processes
performed by the reader that result in treating distinct characters as equivalent;
any canonicalization performed by <a 
href="clmse112.html#x139-263003r687">format</a> in processing directives; the
behavior of <a 
href="clmse74.html#x92-193004r348">char-upcase</a>, <a 
href="clmse74.html#x92-193006r349">char-downcase</a>, and the predicates <a 
href="clmse72.html#x90-191009r324">alpha-char-p</a>,
<a 
href="clmse72.html#x90-191011r325">upper-case-p</a>, <a 
href="clmse72.html#x90-191013r326">lower-case-p</a>, <a 
href="clmse72.html#x90-191015r327">both-case-p</a>, <a 
href="clmse72.html#x90-191004r322">graphic-char-p</a>, <a 
href="clmse72.html#x90-191019r329">alphanumericp</a>,
<a 
href="clmse72.html#x90-191034r336">char-equal</a>, <a 
href="clmse72.html#x90-191036r337">char-not-equal</a>, <a 
href="clmse72.html#x90-191038r338">char-lessp</a>, <a 
href="clmse72.html#x90-191040r339">char-greaterp</a>, <a 
href="clmse72.html#x90-191042r340">char-not-greaterp</a>, and
<a 
href="clmse72.html#x90-191044r341">char-not-lessp</a> for characters in the script; and behavior with respect to
input and output, including coded character sets and external coding
schemes.)
<!--l. 151--><p class="indent" >   In Common Lisp a character data object is identiﬁed by its character code, a
unique numerical code. Each character code is composed from a character script
and a character label. The convention by which a character script and
character label compose a character code is implementation dependent.
[X3J13 did not approve all parts of the proposal from its Subcommittee
on Characters. As a result, some features that were approved appear
to have no purpose. X3J13 wished to support the standardization by
ISO of character scripts and coded character sets but declined to design
facilities for use in Common Lisp until there has been more progress by
ISO in this area. The approval of the terminology for scripts and labels
gives a hint to implementors of likely directions for Common Lisp in the
future.]
<!--l. 163--><p class="indent" >   A character object that is classiﬁed as graphic, or displayable, has an
associated glpyh. The glyph is the visual representation of the character. All other
character data objects are classiﬁed as non-graphic.
<!--l. 168--><p class="indent" >   This terminology assigns names to Common Lisp concepts in a manner
consistent with related concepts discussed in various ISO standards for coded
character sets and provides a demarcation between standardization activities. For
example, facilities for manipulating characters, character scripts, and coded
character sets are properly deﬁned by a Common Lisp standard, but
Common Lisp should not deﬁne standard character sets or standard character
scripts.
</div>
   <div class="sectionTOCS">
                                                                          

                                                                          
    <span class="sectionToc" >13.1 <a 
href="clmse71.html#x89-19000013.1">Character Attributes</a></span>
<br />    <span class="sectionToc" >13.2 <a 
href="clmse72.html#x90-19100013.2">Predicates on Characters</a></span>
<br />    <span class="sectionToc" >13.3 <a 
href="clmse73.html#x91-19200013.3">Character Construction and Selection</a></span>
<br />    <span class="sectionToc" >13.4 <a 
href="clmse74.html#x92-19300013.4">Character Conversions</a></span>
<br />    <span class="sectionToc" >13.5 <a 
href="clmse75.html#x93-19400013.5">Character Control-Bit Functions</a></span>
   </div>




                                                                          

                                                                          
   <!--l. 6--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse71.html" >Далее</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse70.html" >Назад</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse70.html#tailclmse70.html" >Назад-и-вниз</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch13.html" >В-начало</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clm.html#clmch13.html" >Вверх</a><tt>&#x003E;</tt></p></div>
<!--l. 6--><p class="indent" >   <a 
 id="tailclmch13.html"></a>  
</body></html> 

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Предикаты равенства</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,index=2,next,fn-in,charset=utf-8,sections+,minitoc<,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-04-12 23:02:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
<link rel="stylesheet" type="text/css" href="cltl2ed.css"></head><body 
>
<!--l. 1433--><p class="noindent" > <div id="main_container"> <div id="content"> <div id="toplinks"><tt>&#x003C;</tt><a 
href="clmse33.html" >Далее</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse31.html" >Назад</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse31.html#tailclmse31.html" >Назад-и-вниз</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmse32.html">В-конец</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch6.html#clmse32.html" >Наверх</a><tt>&#x003E;</tt></div><h3 class="sectionHead"><span class="titlemark">6.3   </span> <a 
href="clm.html#QQ2-43-85" id="x43-770006.3">Предикаты
равенства</a></h3>
<!--l. 1435--><p class="noindent" >Common Lisp предоставляет ряд предикатов для проверки равенства
двух объектов: <tt><a 
href="#x43-77002r44">eq</a></tt> (наиболее частный), <tt><a 
href="#x43-77004r45">eql</a></tt>, <tt><a 
href="#x43-77006r46">equal</a></tt> и <tt><a 
href="#x43-77008r47">equalp</a></tt> (наиболее
общий). <tt><a 
href="#x43-77002r44">eq</a></tt> и <tt><a 
href="#x43-77006r46">equal</a></tt> имеют значения традиционные в Lisp&#x2019;е. <tt><a 
href="#x43-77004r45">eql</a></tt> был
добавлен, потому что он часто бывает необходим, и <tt><a 
href="#x43-77008r47">equalp</a></tt> был добавлен
преимущественно, как версия <tt><a 
href="#x43-77006r46">equal</a></tt>, которая игнорирует различия типов при
сравнении двух чисел и различия регистров при сравнении строковых
символов. Если два объекта удовлетворяют любому из этих предикатов,
то они также удовлетворяют всем тем, которые носят более общий
характер.
<div class=defun>
<!--l. 1445--><p class="noindent" ><i>[Функция]</i><a 
 id="dx43-77001"></a><a 
 id="x43-77002r44"></a><b> eq</b>  <i>x</i> <i>y</i>
<!--l. 1447--><p class="noindent" ><tt>(eq <i>x</i> <i>y</i>)</tt> является истиной тогда и только тогда, когда, <i>x</i> и <i>y</i> являются
идентичными объектами. (В реализациях, <i>x</i> и <i>y</i> обычно равны <tt><a 
href="#x43-77002r44">eq</a></tt> тогда и
только тогда, когда обращаются к одной ячейке памяти.)
<!--l. 1453--><p class="indent" >   Необходимо отметить, что вещи, которые выводят одно и то же,
необязательно равны <tt><a 
href="#x43-77004r45">eql</a></tt> друг другу. Символы с одинаковым именем обычно
равны <tt><a 
href="#x43-77002r44">eq</a></tt> друг другу, потому что используется функция <tt><a 
href="clmse59.html#x75-168020r153">intern</a></tt>. Однако,
одинаковые значения чисел могут быть не равны <tt><a 
href="#x43-77002r44">eq</a></tt>, и два похожих списка
обычно не равны <tt><a 
href="#x43-77002r44">eq</a></tt>. Например: <div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(eq &#x2019;a &#x2019;b) ложь
</td></tr></table>
<!--l. 1460--><p class="indent" >                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(eq &#x2019;a &#x2019;a) истина</td></tr></table>
<!--l. 1461--><p class="indent" >    <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(eq 3 3) может быть истина или ложь, в зависимости от реализации</td></tr></table>
<!--l. 1462--><p class="indent" >                                                           <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(eq 3 3.0) ложь</td></tr></table>
<!--l. 1463--><p class="indent" >
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(eq 3.0 3.0) может быть истина или ложь, в зависимости от реализации</td></tr></table>
<!--l. 1464--><p class="indent" >                                                    <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(eq #c(3 -4) #c(3 -4))</td></tr></table>
<!--l. 1465--><p class="indent" >          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">  может быть истина или ложь, в зависимости от реализации</td></tr></table>
<!--l. 1466--><p class="indent" >                                            <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(eq #c(3 -4.0) #c(3 -4)) ложь</td></tr></table>
                                                                          

                                                                          
<!--l. 1467--><p class="indent" >                                         <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(eq (cons &#x2019;a &#x2019;b) (cons &#x2019;a &#x2019;c)) ложь</td></tr></table>
<!--l. 1468--><p class="indent" >                                         <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(eq (cons &#x2019;a &#x2019;b) (cons &#x2019;a &#x2019;b)) ложь</td></tr></table>
<!--l. 1469--><p class="indent" >                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(eq &#x2019;(a . b) &#x2019;(a . b)) может быть истина или ложь</td></tr></table>
<!--l. 1470--><p class="indent" >                               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(progn (setq x (cons &#x2019;a &#x2019;b)) (eq x x)) истина</td></tr></table>
<!--l. 1471--><p class="indent" >                                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(progn (setq x &#x2019;(a . b)) (eq x x)) истина</td></tr></table>
<!--l. 1472--><p class="indent" >   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(eq #\A #\A) может быть истина или ложь, в зависимости от реализации</td></tr></table>
<!--l. 1473--><p class="indent" >                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(eq &#x0022;Foo&#x0022; &#x0022;Foo&#x0022;) может быть истина или ложь</td></tr></table>
<!--l. 1474--><p class="indent" >                                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(eq &#x0022;Foo&#x0022; (copy-seq &#x0022;Foo&#x0022;)) ложь</td></tr></table>
<!--l. 1475--><p class="indent" >                                                  <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(eq &#x0022;FOO&#x0022; &#x0022;foo&#x0022;) ложь</td></tr></table>
<!--l. 1477--><p class="indent" >
</div>
</div>
<!--l. 1479--><p class="indent" >   В Common Lisp&#x2019;е, в отличие от других диалектов, реализация в любое
время может создавать «копии» строковых символов и чисел. (Это сделано
для возможности в повышении производительности.) Из этого следует
правило, что Common Lisp не гарантирует для строковых символов и чисел
то, что <tt><a 
href="#x43-77002r44">eq</a></tt> будет истинен, когда оба аргумента являются «одним и тем же».
Например: <div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(let ((x 5)) (eq x x)) может быть истиной или ложью
</td></tr></table>
<!--l. 1487--><p class="indent" >
</div>
</div>
<!--l. 1489--><p class="indent" >   Предикат <tt><a 
href="#x43-77004r45">eql</a></tt> означает то же, что и <tt><a 
href="#x43-77002r44">eq</a></tt>, за исключением того, что если
аргументы являются строковыми символами или числами одинакового типа,
тогда сравниваются их значения. Таким образом <tt><a 
href="#x43-77004r45">eql</a></tt> говорит, являются ли
два объекта «концептуально (conceptually)» одинаковыми, тогда как <tt><a 
href="#x43-77002r44">eq</a></tt>
указывает, являются ли два объекта «реализационно (implementationally)»
одинаковыми. По этой причине сравнительным предикатом для функций
работы с последовательностями, описанными в главе <a 
href="clmch14.html#x92-19300014">14<!--tex4ht:ref: KSEQUE --></a>, является <tt><a 
href="#x43-77004r45">eql</a></tt>, а не
<tt><a 
href="#x43-77002r44">eq</a></tt>.
</div>
<div class=defun>
<!--l. 1498--><p class="noindent" ><i>[Функция]</i><a 
 id="dx43-77003"></a><a 
 id="x43-77004r45"></a><b> eql</b>  <i>x</i> <i>y</i>
<!--l. 1500--><p class="noindent" >Предикат <tt><a 
href="#x43-77004r45">eql</a></tt> истинен, если его аргументы равны <tt><a 
href="#x43-77002r44">eq</a></tt>, или если это числа
                                                                          

                                                                          
одинакового типа и с одинаковыми значениями, или если это одинаковые
строковые символы. Например: <div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(eql &#x2019;a &#x2019;b) ложь
</td></tr></table>
<!--l. 1506--><p class="indent" >                                                         <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(eql &#x2019;a &#x2019;a) истина</td></tr></table>
<!--l. 1507--><p class="indent" >                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(eql 3 3) истина</td></tr></table>
<!--l. 1508--><p class="indent" >                                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(eql 3 3.0) ложь</td></tr></table>
<!--l. 1509--><p class="indent" >                                                       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(eql 3.0 3.0) истина</td></tr></table>
<!--l. 1510--><p class="indent" >                                            <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(eql #c(3 -4) #c(3 -4)) истина</td></tr></table>
<!--l. 1511--><p class="indent" >                                            <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(eql #c(3 -4.0) #c(3 -4)) ложь</td></tr></table>
<!--l. 1512--><p class="indent" >                                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(eql (cons &#x2019;a &#x2019;b) (cons &#x2019;a &#x2019;c)) ложь</td></tr></table>
<!--l. 1513--><p class="indent" >                                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(eql (cons &#x2019;a &#x2019;b) (cons &#x2019;a &#x2019;b)) ложь</td></tr></table>
<!--l. 1514--><p class="indent" >                    <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(eql &#x2019;(a . b) &#x2019;(a . b)) может быть истиной или ложью</td></tr></table>
<!--l. 1515--><p class="indent" >                              <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(progn (setq x (cons &#x2019;a &#x2019;b)) (eql x x)) истина</td></tr></table>
<!--l. 1516--><p class="indent" >                                  <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(progn (setq x &#x2019;(a . b)) (eql x x)) истина</td></tr></table>
<!--l. 1517--><p class="indent" >                                                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(eql #\A #\A) истина</td></tr></table>
<!--l. 1518--><p class="indent" >                      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(eql &#x0022;Foo&#x0022; &#x0022;Foo&#x0022;) может быть истиной или ложью</td></tr></table>
<!--l. 1519--><p class="indent" >                                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(eql &#x0022;Foo&#x0022; (copy-seq &#x0022;Foo&#x0022;)) ложь</td></tr></table>
<!--l. 1520--><p class="indent" >                                                  <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(eql &#x0022;FOO&#x0022; &#x0022;foo&#x0022;) ложь</td></tr></table>
<!--l. 1522--><p class="indent" >
</div>
</div>
<!--l. 1524--><p class="indent" >   Обычно <tt>(eql 1.0s0 1.0d0)</tt> будет ложью, так как <tt>1.0s0</tt> и <tt>1.0d0</tt>
не принадлежат одному типу данных. Однако в реализация может
отсутствовать полный набор чисел с плавающей точкой, поэтому в такой
ситуации <tt>(eql 1.0s0 1.0d0)</tt> может быть истиной. Предикат <tt><a 
href="clmse62.html#x79-176002r173">=</a></tt> будет
сравнивать значения двух чисел, даже если числа принадлежат разным
типам.
<!--l. 1530--><p class="indent" >   Если реализация поддерживает положительный и отрицательный нули,
как различные значения (так IEEE стандарт предлагает реализовывать
формат числа с плавающей точкой), тогда <tt>(eql 0.0 -0.0)</tt> будет
ложью. В противном случае, когда синтаксис <tt>-0.0</tt> интерпретируется,
как значение <tt>0.0</tt>, тогда <tt>(eql 0.0 -0.0)</tt> будет истиной. Предикат <tt><a 
href="clmse62.html#x79-176002r173">=</a></tt>
отличается от <tt><a 
href="#x43-77004r45">eql</a></tt> в том, что <tt>(= 0.0 -0.0)</tt> будет всегда истинно, потому
что <tt><a 
href="clmse62.html#x79-176002r173">=</a></tt> сравнивает математические значения операндов, тогда как <tt><a 
href="#x43-77004r45">eql</a></tt>
                                                                          

                                                                          
сравнивает, так сказать, репрезентативные (representational) значения.
FIXME.
<!--l. 1539--><p class="indent" >   Два комплексных числа будут равны <tt><a 
href="#x43-77004r45">eql</a></tt>, если их действительные части
равны <tt>eql</tt> и мнимые части равны <tt><a 
href="#x43-77004r45">eql</a></tt>. Например, <tt>(eql #C(4 5) #C(4 5))</tt>
является истиной и <tt>(eql #C(4 5) #C(4.0 5.0))</tt> является ложью. Следует
отметить, что <tt>(eql #C(5.0 0.0) 5.0)</tt> ложь, а <tt>(eql #C(5 0) 5)</tt> истина. В
случае с <tt>(eql #C(5.0 0.0) 5.0)</tt> два аргумента принадлежат разным типам
и не равны <tt><a 
href="#x43-77004r45">eql</a></tt>, Однако, в случае <tt>(eql #C(5 0) 5)</tt>, <tt>#C(5 0)</tt> не является
комплексным числом, и автоматически преобразуется, по правилу
канонизации комплексных чисел, в целое <tt>5</tt>, так как дробное число <tt>20/4</tt>
всегда упрощается до <tt>5</tt>.
<!--l. 1552--><p class="indent" >   Случай <tt>(eql &#x0022;Foo&#x0022; &#x0022;Foo&#x0022;)</tt> обсуждался выше в описании <tt><a 
href="#x43-77002r44">eq</a></tt>. Тогда как
<tt><a 
href="#x43-77004r45">eql</a></tt> сравнивает значения чисел и строковых символов, он не сравнивает
содержимое строк. Сравнение символов двух строк может быть выполнено с
помощью <tt><a 
href="#x43-77006r46">equal</a></tt>, <tt><a 
href="#x43-77008r47">equalp</a></tt>, <tt><a 
href="clmse94.html#x117-221002r538">string=</a></tt> или <tt><a 
href="clmse94.html#x117-221004r539">string-equal</a></tt>.
</div>
<div class=defun>
<!--l. 1558--><p class="noindent" ><i>[Функция]</i><a 
 id="dx43-77005"></a><a 
 id="x43-77006r46"></a><b> equal</b>  <i>x</i> <i>y</i>
<!--l. 1560--><p class="noindent" >Предикат <tt><a 
href="#x43-77006r46">equal</a></tt> истинен, если его аргументы это структурно похожие
(изоморфные) объекты. Грубое правило такое, что два объекта равны <tt><a 
href="#x43-77006r46">equal</a></tt>
тогда и только тогда, когда одинаково их выводимое представление.
<!--l. 1565--><p class="indent" >   Числа и строковые символы сравниваются также как и в <tt><a 
href="#x43-77004r45">eql</a></tt>.
Символы сравниваются как в <tt><a 
href="#x43-77002r44">eq</a></tt>. Этот метод сравнения символов
может нарушать правило и сравнении выводимого представления,
в случае если различия двух символов с одинаковым выводимым
представлением.
<!--l. 1570--><p class="indent" >   Объекты, которые содержат другие элементы, будут равны <tt><a 
href="#x43-77006r46">equal</a></tt>, если
они принадлежат одному типу и содержащиеся элементы равны <tt><a 
href="#x43-77006r46">equal</a></tt>. Эта
проверка реализована в рекурсивном стиле и может быть зациклиться на
закольцованных структурах.
<!--l. 1575--><p class="indent" >   Для cons-ячеек, <tt><a 
href="#x43-77006r46">equal</a></tt> определён рекурсивно, как сравнение <tt>equal</tt>
сначала <i>car</i> элементов, а затем <i>cdr</i>.
<!--l. 1578--><p class="indent" >   Два массива равны <tt><a 
href="#x43-77006r46">equal</a></tt> только, если они равны <tt><a 
href="#x43-77002r44">eq</a></tt>, с одним
исключением: строки и битовые вектора сравниваются поэлементно. Если
какой-либо аргумент или оба содержат указатель заполнения (ﬁll pointer),
данный указатель ограничит количество проверяемых с помощью <tt>equal</tt>
элементов. Буквы верхнего и нижнего регистров в строках расцениваются
предикатом <tt><a 
href="#x43-77006r46">equal</a></tt> как разные. (А <tt><a 
href="#x43-77008r47">equalp</a></tt> игнорирует различие в регистрах в
                                                                          

                                                                          
строках.)
<!--l. 1587--><p class="indent" >   Два объекта имени файла (pathname objects) равны <tt><a 
href="#x43-77006r46">equal</a></tt> тогда и только
тогда, когда все элементы (хост, устройство, и т.д.) равны. (Будут
ли равны буквы разных регистров зависит от файловой системы.)
Имена файлов, которые равны <tt><a 
href="#x43-77006r46">equal</a></tt>, должны быть функционально
эквивалентны.
<div class=lisp>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(equal &#x2019;a &#x2019;b) ложь
</td></tr></table>
<!--l. 1593--><p class="indent" >                                                       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(equal &#x2019;a &#x2019;a) истина</td></tr></table>
<!--l. 1594--><p class="indent" >                                                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(equal 3 3) истина</td></tr></table>
<!--l. 1595--><p class="indent" >                                                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(equal 3 3.0) ложь</td></tr></table>
<!--l. 1596--><p class="indent" >                                                    <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(equal 3.0 3.0) истина</td></tr></table>
<!--l. 1597--><p class="indent" >                                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(equal #c(3 -4) #c(3 -4)) истина</td></tr></table>
<!--l. 1598--><p class="indent" >                                         <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(equal #c(3 -4.0) #c(3 -4)) ложь</td></tr></table>
<!--l. 1599--><p class="indent" >                                      <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(equal (cons &#x2019;a &#x2019;b) (cons &#x2019;a &#x2019;c)) ложь</td></tr></table>
<!--l. 1600--><p class="indent" >                                    <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(equal (cons &#x2019;a &#x2019;b) (cons &#x2019;a &#x2019;b)) истина</td></tr></table>
<!--l. 1601--><p class="indent" >                                             <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(equal &#x2019;(a . b) &#x2019;(a . b)) истина</td></tr></table>
<!--l. 1602--><p class="indent" >                            <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(progn (setq x (cons &#x2019;a &#x2019;b)) (equal x x)) истина</td></tr></table>
<!--l. 1603--><p class="indent" >                                <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(progn (setq x &#x2019;(a . b)) (equal x x)) истина</td></tr></table>
<!--l. 1604--><p class="indent" >                                                 <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(equal #\A #\A) истина</td></tr></table>
<!--l. 1605--><p class="indent" >                                               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(equal &#x0022;Foo&#x0022; &#x0022;Foo&#x0022;) истина</td></tr></table>
<!--l. 1606--><p class="indent" >                                    <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(equal &#x0022;Foo&#x0022; (copy-seq &#x0022;Foo&#x0022;)) истина</td></tr></table>
<!--l. 1607--><p class="indent" >                                               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(equal &#x0022;FOO&#x0022; &#x0022;foo&#x0022;) ложь</td></tr></table>
<!--l. 1609--><p class="indent" >
</div>
</div>
<!--l. 1610--><p class="noindent" >Для сравнения дерева cons-ячеек применяя <tt><a 
href="#x43-77004r45">eql</a></tt> (или любой другой желаемый
предикат) для листьев, используйте <tt><a 
href="clmse79.html#x99-200064r424">tree-equal</a></tt>.
</div>
<div class=defun>
<!--l. 1615--><p class="noindent" ><i>[Функция]</i><a 
 id="dx43-77007"></a><a 
 id="x43-77008r47"></a><b> equalp</b>  <i>x</i> <i>y</i>
<!--l. 1617--><p class="noindent" >Два объекта равны <tt><a 
href="#x43-77008r47">equalp</a></tt>, если они равны <tt><a 
href="#x43-77006r46">equal</a></tt>, если они строковые
                                                                          

                                                                          
символы и удовлетворяют предикату <tt><a 
href="clmse71.html#x89-190030r333">char-equal</a></tt>, который игнорирует
регистр и другие атрибуты символов, если они числа и имеют одинаковое
значение, даже если числа разных типов, если они включает в себя элементы,
которые также равны <tt><a 
href="#x43-77008r47">equalp</a></tt>.
<!--l. 1624--><p class="indent" >   Объекты, которые включают в себя элементы, равны <tt><a 
href="#x43-77008r47">equalp</a></tt>, если они
принадлежат одному типу и содержащиеся элементы равны <tt><a 
href="#x43-77008r47">equalp</a></tt>.
Проверка осуществляется в рекурсивном стиле и может не завершится
на закольцованных структурах. Для cons-ячеек, предикат <tt><a 
href="#x43-77008r47">equalp</a></tt>
определён рекурсивно и сравнивает сначала <i>car</i> элементы, а затем
<i>cdr</i>.
<!--l. 1631--><p class="indent" >   Два массива равны <tt><a 
href="#x43-77008r47">equalp</a></tt> тогда и только тогда, когда они имеют
одинаковое количество измерений, и размеры измерений совпадают, и все
элементы равны <tt><a 
href="#x43-77008r47">equalp</a></tt>. Специализация массива не сравнивается. Например,
строка и общий массив, случилось так, имеют одинаковые строковые
символы, тогда они будут равны <tt><a 
href="#x43-77008r47">equalp</a></tt> (но определённо не равны <tt><a 
href="#x43-77006r46">equal</a></tt>).
Если какой-либо аргумент содержит указатель заполнения, этот указатель
ограничивает число сравниваемых элементов. Так как <tt><a 
href="#x43-77008r47">equalp</a></tt> сравнивает
строки побуквенно, и не различает разных регистров букв, то сравнение
строк регистронезависимо.
<!--l. 1641--><p class="indent" >   Два символа могут быть равны <tt><a 
href="#x43-77008r47">equalp</a></tt> только тогда, когда они <tt><a 
href="#x43-77002r44">eq</a></tt>, т.е.
являются идентичными объектами.
<div class=lisp>
<div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(equalp &#x2019;a &#x2019;b) ложь
</td></tr></table>
<!--l. 1645--><p class="indent" >                                                     <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(equalp &#x2019;a &#x2019;a) истина</td></tr></table>
<!--l. 1646--><p class="indent" >                                                       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(equalp 3 3) истина</td></tr></table>
<!--l. 1647--><p class="indent" >                                                     <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(equalp 3 3.0) истина</td></tr></table>
<!--l. 1648--><p class="indent" >                                                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(equalp 3.0 3.0) истина</td></tr></table>
<!--l. 1649--><p class="indent" >                                        <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(equalp #c(3 -4) #c(3 -4)) истина</td></tr></table>
<!--l. 1650--><p class="indent" >                                       <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(equalp #c(3 -4.0) #c(3 -4)) истина</td></tr></table>
<!--l. 1651--><p class="indent" >                                     <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(equalp (cons &#x2019;a &#x2019;b) (cons &#x2019;a &#x2019;c)) ложь</td></tr></table>
<!--l. 1652--><p class="indent" >                                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(equalp (cons &#x2019;a &#x2019;b) (cons &#x2019;a &#x2019;b)) истина</td></tr></table>
<!--l. 1653--><p class="indent" >                                           <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(equalp &#x2019;(a . b) &#x2019;(a . b)) истина</td></tr></table>
<!--l. 1654--><p class="indent" >                          <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(progn (setq x (cons &#x2019;a &#x2019;b)) (equalp x x)) истина</td></tr></table>
                                                                          

                                                                          
<!--l. 1655--><p class="indent" >                               <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(progn (setq x &#x2019;(a . b)) (equalp x x)) истина</td></tr></table>
<!--l. 1656--><p class="indent" >                                                <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(equalp #\A #\A) истина</td></tr></table>
<!--l. 1657--><p class="indent" >                                             <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(equalp &#x0022;Foo&#x0022; &#x0022;Foo&#x0022;) истина</td></tr></table>
<!--l. 1658--><p class="indent" >                                   <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(equalp &#x0022;Foo&#x0022; (copy-seq &#x0022;Foo&#x0022;)) истина</td></tr></table>
<!--l. 1659--><p class="indent" >                                             <table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(equalp &#x0022;FOO&#x0022; &#x0022;foo&#x0022;) истина</td></tr></table>
<!--l. 1661--><p class="indent" >
</div>
</div>
</div>
                                                                          

                                                                          
<!--l. 1664--><p class="indent" >   <div id="bottomlinks"><tt>&#x003C;</tt><a 
href="clmse33.html" >Далее</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse31.html" >Назад</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse31.html#tailclmse31.html" >Назад-и-вниз</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse32.html" >В-начало</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch6.html#clmse32.html" >Наверх</a><tt>&#x003E;</tt></div><a 
 id="tailclmse32.html"></a>  </div> </div> 
</body></html> 

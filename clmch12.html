<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//RU"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>12 Numbers Числа</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- 3,next,charset=utf-8,html --> 
<meta name="src" content="clm.tex"> 
<meta name="date" content="2012-03-19 00:40:00"> 
<link rel="stylesheet" type="text/css" href="clm.css"> 
</head><body 
>
   <!--l. 14--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse61.html" >Далее</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse60.html" >Назад</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse60.html#tailclmse60.html" >Назад-и-вниз</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="#tailclmch12.html">В-конец</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clm.html#clmch12.html" >Вверх</a><tt>&#x003E;</tt></p></div>
   <h2 class="chapterHead"><span class="titlemark">Глава 12</span><br /><a 
 id="x77-17400012"></a>Numbers Числа</h2>
<!--l. 18--><p class="noindent" >Common Lisp provides several diﬀerent representations for numbers. These
representations may be divided into four categories: integers, ratios, ﬂoating-point
numbers, and complex numbers. Many numeric functions will accept any kind of
number; they are <i>generic</i>. Other functions accept only certain kinds of
numbers.
<!--l. 24--><p class="indent" >   Common Lisp предоставляет несколько различных представлений для
чисел. Эти представления могут быть разделены на четыре категории: целые,
дробные, с плавающей точкой и комплексные. Многие числовые функции
принимают любой тип числа. Другие принимают только определенный
тип.
<div class=new>
<!--l. 30--><p class="indent" >   Note that this remark, predating the design of the Common Lisp Object
System, uses the term “generic” in a generic sense and not necessarily in the
technical sense used by CLOS (see chapter <a 
href="clmch2.html#x9-170002">2<!--tex4ht:ref: DTYPES --></a>).
</div>
<!--l. 36--><p class="indent" >   In general, numbers in Common Lisp are not true objects; <a 
href="clmse33.html#x44-78002r44">eq</a> cannot be
counted upon to operate on them reliably. In particular, it is possible that the
expression <div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(let ((x z) (y z)) (eq x y))
</td></tr></table>
<!--l. 41--><p class="indent" >
</div>
</div>
<!--l. 42--><p class="noindent" >may be false rather than true if the value of z is a number.
<!--l. 44--><p class="indent" >   В целом, числа в Common Lisp&#x2019;е не является объектами в прямом
понимании слова. Нельзя полагатся, например, на использование <a 
href="clmse33.html#x44-78002r44">eq</a> для
чисел. В частности, возможно, что значение выражения <div class=lisp><div class=tabbing>
<table  
cellpadding="0" border="0" cellspacing="0" 
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td  
class="tabbing">(let ((x z) (y z)) (eq x y))
</td></tr></table>
<!--l. 49--><p class="indent" >
</div>
                                                                          

                                                                          
</div>
<!--l. 50--><p class="noindent" >может быть ложным, а не истинным, если значение z является числом.
<div class=rationale>
<!--l. 54--><p class="noindent" ><b>Rationale:</b> This odd breakdown of <a 
href="clmse33.html#x44-78002r44">eq</a> in the case of numbers allows the implementor
enough design freedom to produce exceptionally eﬃcient numerical code on
conventional architectures. MacLisp requires this freedom, for example, in order to
produce compiled numerical code equal in speed to Fortran. Common Lisp
makes this same restriction, if not for this freedom, then at least for the sake of
compatibility.
</div>
<!--l. 65--><p class="indent" >   If two objects are to be compared for “identity,” but either might be a number,
then the predicate <a 
href="clmse33.html#x44-78004r45">eql</a> is probably appropriate; if both objects are known to be
numbers, then <a 
href="clmse63.html#x80-177002r173">=</a> may be preferable.
<!--l. 70--><p class="indent" >   Если два объекта сравниваются для «идентичности», но один из может
быть числом, то использование предиката <a 
href="clmse33.html#x44-78004r45">eql</a> является более подходящим.
Если оба объекта являются числами, то преимущество стоит отдать
<a 
href="clmse63.html#x80-177002r173">=</a>.
   <div class="sectionTOCS">
    <span class="sectionToc" >12.1 <a 
href="clmse61.html#x78-17500012.1">Precision, Contagion, and Coercion</a></span>
<br />    <span class="sectionToc" >12.2 <a 
href="clmse62.html#x79-17600012.2">Predicates on Numbers Предикаты для чисел</a></span>
<br />    <span class="sectionToc" >12.3 <a 
href="clmse63.html#x80-17700012.3">Comparisons on Numbers Сравнение чисел</a></span>
<br />    <span class="sectionToc" >12.4 <a 
href="clmse64.html#x81-17800012.4">Arithmetic Operations</a></span>
<br />    <span class="sectionToc" >12.5 <a 
href="clmse65.html#x82-18000012.5">Irrational and Transcendental Functions</a></span>
<br />     <span class="subsectionToc" >12.5.1 <a 
href="clmse65.html#x82-18100012.5.1">Exponential and Logarithmic Functions</a></span>
<br />     <span class="subsectionToc" >12.5.2 <a 
href="clmse65.html#x82-18200012.5.2">Trigonometric and Related Functions</a></span>
<br />     <span class="subsectionToc" >12.5.3 <a 
href="clmse65.html#x82-18300012.5.3">Branch Cuts, Principal Values, and Boundary Conditions
in the Complex Plane</a></span>
<br />    <span class="sectionToc" >12.6 <a 
href="clmse66.html#x83-18400012.6">Type Conversions and Component Extractions on Numbers</a></span>
<br />    <span class="sectionToc" >12.7 <a 
href="clmse67.html#x84-18500012.7">Logical Operations on Numbers</a></span>
<br />    <span class="sectionToc" >12.8 <a 
href="clmse68.html#x85-18600012.8">Byte Manipulation Functions</a></span>
<br />    <span class="sectionToc" >12.9 <a 
href="clmse69.html#x86-18700012.9">Random Numbers</a></span>
<br />    <span class="sectionToc" >12.10 <a 
href="clmse70.html#x87-18800012.10">Implementation Parameters</a></span>
   </div>









                                                                          

                                                                          
   <!--l. 6--><div class="crosslinks"><p class="noindent"><tt>&#x003C;</tt><a 
href="clmse61.html" >Далее</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse60.html" >Назад</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmse60.html#tailclmse60.html" >Назад-и-вниз</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clmch12.html" >В-начало</a><tt>&#x003E;</tt><tt>&#x003C;</tt><a 
href="clm.html#clmch12.html" >Вверх</a><tt>&#x003E;</tt></p></div>
<!--l. 6--><p class="indent" >   <a 
 id="tailclmch12.html"></a>  
</body></html> 
